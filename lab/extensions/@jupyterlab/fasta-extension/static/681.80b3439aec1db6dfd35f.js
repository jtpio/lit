/*! For license information please see 681.80b3439aec1db6dfd35f.js.LICENSE.txt */
(self.webpackChunk_jupyterlab_fasta_extension=self.webpackChunk_jupyterlab_fasta_extension||[]).push([[681],{4722:(t,e,n)=>{var r=n(4858),i=n(4791);t.exports=i.extend({renderSubviews:function(){var t,e,n,i=this.el,o=null!=i.parentNode;if(o)var s=(e=(t=i).parentNode,n=t.nextSibling,e.removeChild(t),function(){n?e.insertBefore(t,n):e.appendChild(t)});!function(t){for(var e;e=t.lastChild;)t.removeChild(e)}(i);for(var a,u,l=document.createDocumentFragment(),c=this._views(),h=r.sortBy(c,(function(t){return t.ordering})),f=0;f<h.length;f++)(a=h[f]).render(),null!=(u=a.el)&&l.appendChild(u);return i.appendChild(l),o&&s(),i},addView:function(t,e){var n=this._views();if(null==e)throw"Invalid plugin. ";return null==e.ordering&&(e.ordering=t),n[t]=e},removeViews:function(){var t,e,n=this._views();for(e in n)(t=n[e]).undelegateEvents(),t.unbind(),null!=t.removeViews&&t.removeViews(),t.remove();return this.views={}},removeView:function(t){var e=this._views();return e[t].remove(),delete e[t]},getView:function(t){return this._views()[t]},remove:function(){return this.removeViews(),i.prototype.remove.apply(this)},_views:function(){return null==this.views&&(this.views={}),this.views}})},3452:function(t,e){!function(){var n,r=Array.prototype.forEach,i=Object.prototype.hasOwnProperty,o=Array.prototype.slice,s=0,a={keys:Object.keys||function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++s+"";return t?t+e:e},has:function(t,e){return i.call(t,e)},each:function(t,e,n){if(null!=t)if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t);else for(var s in t)this.has(t,s)&&e.call(n,t[s],s,t)},once:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}};n={on:function(t,e,n){return l(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var r=this,i=a.once((function(){r.off(t,i),e.apply(this,arguments)}));return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,o,s,u,c,h,f;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(u=0,c=(s=t?[t]:a.keys(this._events)).length;u<c;u++)if(t=s[u],o=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,f=o.length;h<f;h++)i=o[h],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,n){var r=this._listeners;if(!r)return this;var i=!e&&!n;for(var o in"object"==typeof e&&(n=this),t&&((r={})[t._listenerId]=t),r)r[o].off(e,n,this),i&&delete this._listeners[o];return this}};var u=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}};a.each({listenTo:"on",listenToOnce:"once"},(function(t,e){n[e]=function(e,n,r){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=a.uniqueId("l"))]=e,"object"==typeof n&&(r=this),e[t](n,r,this),this}})),n.bind=n.on,n.unbind=n.off,n.mixin=function(t){return a.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],(function(e){t[e]=this[e]}),this),t},t.exports&&(e=t.exports=n),e.BackboneEvents=n}()},4051:(t,e,n)=>{t.exports=n(3452)},5293:t=>{t.exports=function(){"use strict";var t=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e=function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e];if(n)for(var r in n)t[r]=n[r]}return t};return function(n,r){var i,o=this;i=n&&t(n,"constructor")?n.constructor:function(){return o.apply(this,arguments)},e(i,o,r);var s=function(){this.constructor=i};return s.prototype=o.prototype,i.prototype=new s,n&&e(i.prototype,n),i.__super__=o.prototype,i}}()},319:(t,e,n)=>{var r=n(4051),i=n(5293),o=n(4858),s=n(3644),a=[].slice,u=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,o.extend({silent:!0},e))},l={add:!0,remove:!0,merge:!0},c={add:!0,remove:!1};o.extend(u.prototype,r,{model:s,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.extend({merge:!1},e,c))},remove:function(t,e){var n=!o.isArray(t);e||(e={});for(var r=0,i=(t=n?[t]:o.clone(t)).length;r<i;r++){var s=t[r]=this.get(t[r]);if(s){var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],delete this._byId[s.cid];var u=this.indexOf(s);this.models.splice(u,1),this.length--,e.silent||(e.index=u,s.trigger("remove",s,this,e)),this._removeReference(s,e)}}return n?t[0]:t},set:function(t,e){(e=o.defaults({},e,l)).parse&&(t=this.parse(t,e));var n,r,i,s,a,u=!o.isArray(t);t=u?t?[t]:[]:t.slice();for(var c=e.at,h=this.comparator&&null==c&&!1!==e.sort,f=o.isString(this.comparator)?this.comparator:null,d=[],g=[],p={},v=e.add,m=e.merge,_=e.remove,y=!(h||!v||!_)&&[],b=0,w=t.length;b<w;b++){if(i=t[b],s=this.get(i))_&&(p[s.cid]=!0),m&&i!==s&&(i=this._isModel(i)?i.attributes:i,e.parse&&(i=s.parse(i,e)),s.set(i,e),h&&!a&&s.hasChanged(f)&&(a=!0)),t[b]=s;else if(v){if(!(r=t[b]=this._prepareModel(i,e)))continue;d.push(r),this._addReference(r,e)}(r=s||r)&&(n=this.modelId(r.attributes),!y||!r.isNew()&&p[n]||y.push(r),p[n]=!0)}if(_){for(b=0,w=this.length;b<w;b++)p[(r=this.models[b]).cid]||g.push(r);g.length&&this.remove(g,e)}if(d.length||y&&y.length)if(h&&(a=!0),this.length+=d.length,null!=c)for(b=0,w=d.length;b<w;b++)this.models.splice(c+b,0,d[b]);else{y&&(this.models.length=0);var x=y||d;for(b=0,w=x.length;b<w;b++)this.models.push(x[b])}if(a&&this.sort({silent:!0}),!e.silent){var S=null!=c?o.clone(e):e;for(b=0,w=d.length;b<w;b++)null!=c&&(S.index=c+b),(r=d[b]).trigger("add",r,this,S);(a||y&&y.length)&&this.trigger("sort",this,e)}return u?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,o.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,o.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return o.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"]((function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}))},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?o.clone(t):{}).parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},wrapError(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?o.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?o.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_isModel:function(t){return t instanceof s},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),o.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"],(function(t){o[t]&&(u.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),o[t].apply(o,e)})})),o.each(["groupBy","countBy","sortBy","indexBy"],(function(t){o[t]&&(u.prototype[t]=function(e,n){var r=o.isFunction(e)?e:function(t){return t.get(e)};return o[t](this.models,r,n)})})),u.extend=i,t.exports=u},2908:(t,e,n)=>{t.exports.Model=n(3644),t.exports.Collection=n(319),n(4051),n(5293)},3644:(t,e,n)=>{var r=n(4051),i=n(5293),o=n(4858),s=function(t,e){var n=t||{};e||(e={}),this.cid=o.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=o.defaults({},n,o.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};o.extend(s.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,s,a,u,l,c,h;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;for(r in s=n.unset,u=n.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=o.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]),i)e=i[r],o.isEqual(h[r],e)||a.push(r),o.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!u){a.length&&(this._pending=n);for(var f=0,d=a.length;f<d;f++)this.trigger("change:"+a[f],this,h[a[f]],n)}if(l)return this;if(!u)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,o.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o.isEmpty(this.changed):o.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&o.clone(this.changed);var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)o.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?o.clone(t):{}).parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){if(!e.set(e.parse(r,t),t))return!1;n&&n(e,r,t),e.trigger("sync",e,r,t)},wrapError(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,s,a=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=o.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=o.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var u=this,l=n.success;return n.success=function(t){u.attributes=a;var e=u.parse(t,n);if(n.wait&&(e=o.extend(r||{},e)),o.isObject(e)&&!u.set(e,n))return!1;l&&l(u,t,n),u.trigger("sync",u,t,n)},wrapError(this,n),"patch"!=(i=this.isNew()?"create":n.patch?"patch":"update")||n.attrs||(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=a),s},destroy:function(t){t=t?o.clone(t):{};var e=this,n=t.success,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;wrapError(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||urlError();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},o.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,o.extend(e,{validationError:n})),!1)}}),o.each(["keys","values","pairs","invert","pick","omit","chain","isEmpty"],(function(t){o[t]&&(s.prototype[t]=function(){var e=slice.call(arguments);return e.unshift(this.attributes),o[t].apply(o,e)})})),s.extend=i,t.exports=s},4791:(t,e,n)=>{var r=n(4858),i=n(4051),o=n(5293),s=n(2452),a=function(t){this.cid=r.uniqueId("view"),t||(t={}),r.extend(this,r.pick(t,l)),this._ensureElement(),this.initialize.apply(this,arguments)},u=/^(\S+)\s*(.*)$/,l=["model","collection","el","id","attributes","className","tagName","events"];r.extend(a.prototype,i,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof s?t:s(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=r.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(r.isFunction(n)||(n=this[t[e]]),n){var i=e.match(u);this.delegate(i[1],i[2],r.bind(n,this))}}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var t=r.extend({},r.result(this,"attributes"));this.id&&(t.id=r.result(this,"id")),this.className&&(t.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),a.extend=o,t.exports=a},3745:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=s(n(9768)),o=s(n(604));function s(t){return t&&t.__esModule?t:{default:t}}e.default=r={parse:function(t){var e=[];if("[object Array]"===Object.prototype.toString.call(t))var n=t;else n=t.split("\n");if(!1===n[0].slice(0,6))throw new Error("Invalid CLUSTAL Header");for(var r=0,i=1,s=0;r<n.length;){var a=n[++r];if(null!=a&&0!==a.length)if(0!==a.trim().length){if(!o.default.contains(a,"*")){1===i&&(s=0,i=0);var u=/^(?:\s*)(\S+)(?:\s+)(\S+)(?:\s*)(\d*)(?:\s*|$)/g.exec(a);if(null!=u){var l=u[1].trim(),c=u[2].trim();if(s>=e.length){var h=o.default.getMeta(l.trim());l=h.name;var f=new o.default.model(c,l,s);f.ids=h.ids||{},f.details=h.details||{};var d=Object.keys(f.ids);d.length>0&&(f.id=f.ids[d[0]]),e.push(f)}else e[s].seq+=c;s++}else console.log("parse error",a)}}else i=1;else i=1}return e}},i.default.mixin(r)},6446:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(604)),i=s(n(5350)),o=s(n(9768));function s(t){return t&&t.__esModule?t:{default:t}}var a=void 0;e.default=a={getMeta:r.default.getMeta,extend:function(t){var e=(0,i.default)(a);return a.getMeta=t,e},parse:function(t){var e=[];if(!t||0===t.length)return[];"[object Array]"!==Object.prototype.toString.call(t)&&(t=t.split("\n"));for(var n=a.getMeta,i=0;i<t.length;i++){var o=t[i];if(">"===o[0]||";"===o[0]){var s=o.slice(1).trim(),u=n(s.trim());s=u.name;var l=u.id||e.length,c=new r.default.model("",u.name,l);c.ids=u.ids||{},c.details=u.details||{},e.push(c)}else c.seq+=o}return e},write:function(t,e){for(var n="",i=0;i<t.length;i++){var o=t[i];null!=e&&(o=e(o)),n+=">"+o.name+"\n",n+=r.default.splitNChars(o.seq,80).join("\n"),n+="\n"}return n}},o.default.mixin(a)},8807:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(9768)),i=s(n(5240)),o=s(n(7738));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){};r.default.mixin(a),e.default=a,a.parseLines=function(t){var e=t.split("\n"),n={},r=[];n.type=a._guessType(e);var i=0;if("jalview"===n.type){var s=o.default.readHeader(e);i=s.offset,n.colors=s.colors,r=s.features}for(var u=i;u<e.length;u++){var l=e[u];0!==l.length&&"#"!==l[0]&&void 0!==(l=a.parseLine(l))&&r.push(l)}return{features:r,config:n}},a._guessType=function(t){return"##gff-version 3"===t[0].substring(0,15)?"gff3":t[0].indexOf("#")<0&&2===t[0].split("\t").length?"jalview":"gff3"},a.parseSeqs=a.parse=function(t){var e=a.parseLines(t),n={};return e.features.forEach((function(t){var e=t.seqname;void 0===n[e]&&(n[e]=[]),delete t.seqname,n[e].push(t)})),delete e.features,e.seqs=n,e},a.parseLine=function(t){var e={},n=t.split(/\s+/);if(1!==n.length){e.seqname=n[0],e.source=n[1],e.feature=n[2],e.start=parseInt(n[3]),e.end=parseInt(n[4]),e.score=n[5],e.strand=n[6],e.frame=n[7];var r=n.slice(8).join(" ");return Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=e[t].trim()),"."===e[t]&&(e[t]=void 0)})),e.score&&(e.score=parseFloat(e.score)),e.frame&&(e.frame=parseInt(e.frame)),e.attributes=i.default.extractKeys(r),e}},a.exportLine=function(t){var e=Object.keys(t.attributes).map((function(e){return e+"="+t.attributes[e]})).join(";"),n=[t.seqname,t.source,t.feature,t.start,t.end,t.score,t.strand,t.frame,e];return(n=n.map((function(t){return void 0===t?".":t}))).join("\t")},a.exportLines=function(t){return"##gff-version 3\n"+t.map(a.exportLine).join("\n")},a.exportSeqs=a.export=function(t){var e=[],n=function(t){t.seqname=r,e.push(t)};for(var r in t)t[r].forEach(n);return a.exportLines(e)},a.utils=i.default},7738:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5240),i={};e.default=i,i.readHeader=function(t){for(var e,n={},r=0,o=[];r<t.length;r++){var s=t[r];if(s.indexOf("#")>=0)break;var a=s.split(/\t/),u=a[0].trim();if("GFF"===u)break;if(2===a.length)if("startgroup"===u)e=a[1].trim();else{if("endgroup"===u){e="";continue}n[a[0]]=i.parseColor(a[1])}else if(a.length>=5){var l=i.parseLine(a);e&&(l.attributes.Parent=e),o.push(l)}}return{offset:r,colors:n,features:o}},i.parseColor=function(t){return t.indexOf(",")>=0?(0,r.rgbToHex)(t.split(",").map((function(t){return parseInt(t)}))):6===t.length&&parseInt(t.charAt(0),16)<=16&&"bisque"!==t?"#"+t:t},i.parseLine=function(t){var e={attributes:{}};return e.attributes.Name=t[0].trim(),e.seqname=t[1].trim(),e.start=parseInt(t[3]),e.end=parseInt(t[4]),e.feature=t[5].trim(),"ID_NOT_SPECIFIED"===e.seqname&&(e.seqname=t[2].trim()),e}},5240:(t,e)=>{"use strict";function n(t){var e={};return t.split(";").forEach((function(t){var n,r,i;t.indexOf("=")>0?(r=(n=t.split("="))[0],i=n[1],e[r]=i):t.indexOf(" ")>0&&(r=(n=t.split(" "))[0],i=n[1].replace(/"/g,""),e[r]=i)})),e}function r(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function i(t,e,n){return 3===t.length?i(t[0],t[1],t[2]):"#"+r(t)+r(e)+r(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.extractKeys=n,e.rgbToHex=i,e.default={extractKeys:n,rgbToHex:i}},4300:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.xhr=e.seqs=e.parser=e.newick=e.matrix=e.gff=e.fasta=e.clustal=void 0;var r=c(n(3745)),i=c(n(6446)),o=c(n(8807)),s=c(n(3119)),a=c(n(350)),u=c(n(9768)),l=c(n(604));function c(t){return t&&t.__esModule?t:{default:t}}e.clustal=r.default,e.fasta=i.default,e.gff=o.default,e.matrix=s.default,e.newick=a.default,e.parser=u.default,e.seqs=l.default;var h=n(6290);e.xhr=h;var f="imported";"undefined"!=typeof IO_VERSION&&(f=IO_VERSION),e.version=f},3119:(t,e,n)=>{"use strict";var r,i=(r=n(9768))&&r.__esModule?r:{default:r},o=function t(e){return this.constructor!=t?new t(e):(this.matrix={},this.parsingOrder=[],null!=e&&this.parse(e),this)};i.default.mixin(o),t.exports=o,o.prototype.parse=function(t){return t.split("\n").forEach(function(t){this.parseLine(t)}.bind(this)),this.buildMatrix(),this.matrix},o.read=function(t,e){return(new o).read(t,e)},o.parse=function(t){return(new o).parse(t)},o.prototype.parseLine=function(t){var e=t.charAt(0);if("#"!==e){this.parsingOrder.push(e);for(var n=t.substring(1).split(/\s+/).filter((function(t){return t.length>0})).map((function(t){return parseInt(t)})),r={},i=0;i<n.length;i++)r[this.parsingOrder[i]]=n[i];this.matrix[e]=r}},o.prototype.export=function(){return o.export(this.matrix)},o.export=function(t){var e=[],n=1;for(var r in"matrix"in t&&(t=t.matrix),t){for(var i=r,o=Object.keys(t[r]),s=0;s<n;s++)i+="\t"+t[r][o[s]];e.push(i),n++}return e.join("\n")},o.prototype.buildMatrix=function(){for(var t=this.parsingOrder.length-1;t>=0;t--){var e=this.parsingOrder[t],n=this.matrix[e];for(var r in n)this.matrix[r][e]=n[r]}}},9397:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=function(t){for(var e=[],r={},i=t.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/),o=0;o<i.length;o++){var s=i[o],a=void 0;switch(s){case"(":a={},r.children=[a],e.push(r),r=a;break;case",":a={},e[e.length-1].children.push(a),r=a;break;case")":r=e.pop();break;case":":break;default:var u=i[o-1];if(")"==u||"("==u||","==u)r.name=s;else if(":"==u)void 0===s||n(s),isNaN(s)||(r.branch_length=parseFloat(s));else if("="==u)switch(i[o-2]){case"D":r.duplication=s;break;case"G":r.gene_id=s;break;case"T":r.taxon_id=s}}}return r}},350:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNhx=e.parse=void 0;var r=o(n(2446)),i=o(n(9397));function o(t){return t&&t.__esModule?t:{default:t}}var s={};s.parse=r.default,s.parseNhx=i.default,e.default=s,e.parse=r.default,e.parseNhx=i.default},2446:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],n={},r=t.split(/\s*(;|\(|\)|,|:)\s*/),i=0;i<r.length;i++){var o=r[i],s=void 0;switch(o){case"(":s={},n.children=[s],e.push(n),n=s;break;case",":s={},e[e.length-1].children.push(s),n=s;break;case")":n=e.pop();break;case":":break;default:var a=r[i-1];")"==a||"("==a||","==a?n.name=o:":"==a&&(n.branch_length=parseFloat(o))}}return n}},9768:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=n(6290),o={};e.default=o,o.read=function(t,e){var n,r=(n=this,function(t,r,i){return o._onRetrieval(t,i,e,n)});return void 0===e?new Promise((function(n,o){e=function(t,e){t?o(t):n(e)},i(t,r)})):i(t,r)},o._onRetrieval=function(t,e,n,r){var i=void 0;return void 0!==t&&(i=r.parse(e)),n.call(r,t,i)},o.extend=function(t,e){return extend(o,t,e)},o.mixin=function(t){return"object"!==(void 0===t?"undefined":r(t))&&(t=t.prototype),["read"].forEach((function(e){t[e]=o[e]}),this),t}},604:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=n,n.getMeta=function(t){var e,n,r=!1,i=!1,o={},s={},a=t.split(" ");if(a.length>=1?(r=a.shift(),i=a.join(" ")):r=t,r){var u=r.split("|");for(e=u.pop(),s.en=e;0!=u.length;){var l=u.shift(),c=u.shift();o[l]=c}}else e=r;if(i){var h,f,d=i.split("=");if(d.length>1)d.length,d.forEach((function(t){var e,r=(t=t.trim()).split(" ");if(r.length>1?(f=r.pop(),e=r.join(" ")):e=t,h){var i=h.toLowerCase();s[i]=e}else n=e;h=f}));else n=d.shift()}var g={name:e,ids:o,details:s};return n&&(g.desc=n),g};var r={sp:{link:"http://www.uniprot.org/%s",name:"Uniprot"},tr:{link:"http://www.uniprot.org/%s",name:"Trembl"},gb:{link:"http://www.ncbi.nlm.nih.gov/nuccore/%s",name:"Genbank"},pdb:{link:"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s",name:"PDB"}};n.buildLinks=function(t){var e={};return t=t||{},Object.keys(t).forEach((function(n){if(n in r){var i=r[n],o=i.link.replace("%s",t[n]);e[i.name]=o}})),e},n.contains=function(t,e){return-1!=="".indexOf.call(t,e,0)},n.splitNChars=function(t,e){var n,r;e=e||80;var i=[];for(n=0,r=t.length-1;n<=r;n+=e)i.push(t.substr(n,e));return i},n.reverse=function(t){return t.split("").reverse().join("")},n.complement=function(t){var e=t+"",n=[[/g/g,"0"],[/c/g,"1"],[/0/g,"c"],[/1/g,"g"],[/G/g,"0"],[/C/g,"1"],[/0/g,"C"],[/1/g,"G"],[/a/g,"0"],[/t/g,"1"],[/0/g,"t"],[/1/g,"a"],[/A/g,"0"],[/T/g,"1"],[/0/g,"T"],[/1/g,"A"]];for(var r in n)e=e.replace(n[r][0],n[r][1]);return e},n.reverseComplement=function(t){return n.reverse(n.complement(t))},n.model=function(t,e,n){this.seq=t,this.name=e,this.id=n,this.ids={}}},5350:(t,e)=>{"use strict";function n(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,s=t;i?s<o:s>o;i?s++:s--)r.push(s);return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||{};for(var e=n(0,arguments.length,!1),r=0;r<e.length;r++){var i=e[r];if(arguments[i])for(var o=0;o<arguments[i].length;o++){var s=arguments[i][o];arguments[i].hasOwnProperty(s)&&(t[s]=arguments[i][s])}}return t}},5931:(t,e,n)=>{var r=n(4051);r.onAll=function(t,e){return this.on("all",t,e),this},r.oldMixin=r.mixin,r.mixin=function(t){r.oldMixin(t);for(var e=["onAll"],n=0;n<e.length;n++){var i=e[n];t[i]=this[i]}return t},t.exports=r},7320:(t,e,n)=>{t.exports.seq=n(4778)},4778:t=>{t.exports=function(t,e,n){this.seq=t,this.name=e,this.id=n,this.meta={}}},4362:(t,e,n)=>{t.exports=n(3757)},3893:t=>{t.exports={render_x_axis_label:function(){var t="Model Position";this.display_ali_map&&(t="Alignment Column"),this.called_on.find(".logo_xaxis").remove(),this.called_on.prepend('<div class="logo_xaxis" class="centered" style="margin-left:40px"><p class="xaxis_text" style="width:10em;margin:1em auto">'+t+"</p></div>")},render_y_axis_label:function(){this.dom_element.parent().before('<canvas class="logo_yaxis" height="'+this.options.height+'" width="55"></canvas>');var t=this.called_on.find(".logo_yaxis"),e=(Math.abs(this.data.max_height),isNaN(this.data.min_height_obs)||parseInt(this.data.min_height_obs,10),null),n="Information Content (bits)";(e=t[0].getContext("2d")).beginPath(),e.moveTo(55,1),e.lineTo(40,1),e.moveTo(55,this.info_content_height),e.lineTo(40,this.info_content_height),e.moveTo(55,this.info_content_height/2),e.lineTo(40,this.info_content_height/2),e.lineWidth=1,e.strokeStyle="#666666",e.stroke(),e.fillStyle="#666666",e.textAlign="right",e.font="bold 10px Arial",e.textBaseline="top",e.fillText(parseFloat(this.data.max_height).toFixed(1),38,0),e.textBaseline="middle",e.fillText(parseFloat(this.data.max_height/2).toFixed(1),38,this.info_content_height/2),e.fillText("0",38,this.info_content_height),"score"===this.data.height_calc&&(n="Score (bits)"),e.save(),e.translate(5,this.height/2-20),e.rotate(-Math.PI/2),e.textAlign="center",e.font="normal 12px Arial",e.fillText(n,1,0),e.restore(),e.fillText("occupancy",55,this.info_content_height+7),this.show_inserts&&(e.fillText("ins. prob.",50,280),e.fillText("ins. len.",46,296))}}},3261:t=>{var e=null;t.exports=function(){if(!e){var t=document.createElement("canvas");e=!(!t.getContext||!t.getContext("2d"))}return e}},794:t=>{t.exports={A:"#FF9966",C:"#009999",D:"#FF0000",E:"#CC0033",F:"#00FF00",G:"#f2f20c",H:"#660033",I:"#CC9933",K:"#663300",L:"#FF9933",M:"#CC99CC",N:"#336666",P:"#0099FF",Q:"#6666CC",R:"#990000",S:"#0000FF",T:"#00FFFF",V:"#FFCC33",W:"#66CC66",Y:"#006600"}},4308:t=>{t.exports={A:"#cbf751",C:"#5ec0cc",G:"#ffdf59",T:"#b51f16",U:"#b51f16"}},1316:(t,e,n)=>{var r=n(2452);t.exports=function(t,e,n){t.find(".logo_settings_switch, .logo_settings .close").on("click",(function(t){t.preventDefault(),r(".logo_settings").toggle()})),t.find(".logo_reset").on("click",(function(t){t.preventDefault(),e.changeZoom({target:e.default_zoom})})),t.find(".logo_change").on("click",(function(t){t.preventDefault()})),t.find(".logo_zoomin").on("click",(function(t){t.preventDefault(),e.changeZoom({distance:.1,direction:"+"})})),t.find(".logo_zoomout").on("click",(function(t){t.preventDefault(),e.changeZoom({distance:.1,direction:"-"})})),t.find(".logo_scale").on("change",(function(t){e.toggleScale(this.value)})),t.find(".logo_color").on("change",(function(t){e.toggleColorscheme(this.value)})),t.find(".logo_ali_map").on("change",(function(t){e.toggleAliMap(this.value)})),t.find(".logo_position").on("change",(function(){this.value.match(/^\d+$/m)&&e.scrollToColumn(this.value,1)})),n.on("dblclick",(function(n){console.log("dblclick",e),offset=e.logo_graphic.offset(),x=parseInt(n.pageX-offset.left,10),window_position=n.pageX-t.parent().offset().left,col=e.columnFromCoordinates(x),console.log("col",col),current=e.zoom,current<1?e.changeZoom({target:1,offset:window_position,column:col}):e.changeZoom({target:.3,offset:window_position,column:col})})),r(document).on(t.attr("id")+".scrolledTo",(function(t,n,r,i){e.render({target:n})})),r(document).on("keydown",(function(t){t.ctrlKey||(61!==t.which&&107!==t.which||(zoom+=.1,e.changeZoom({distance:.1,direction:"+"})),109!==t.which&&0!==t.which||(zoom-=.1,e.changeZoom({distance:.1,direction:"-"})))}))}},3757:(t,e,n)=>{_=n(4858);var r=n(3261),i=n(8253),o=n(6939),s=n(4791),a=n(3893),u=n(1316),l=n(3668),c=n(2452);t.exports=s.extend({options:{xaxis:!0,yaxis:!0,height:300,column_width:34,debug:!0,scale_height_enabled:!0,scaled_max:!0,zoom_buttons:!0,colorscheme:"default",data:void 0,start:1,end:void 0,zoom:.4,colors:void 0,divider:!1,show_probs:!1,divider_step:5,show_divider:!1,border:!1,settings:!1,scroller:!0,positionMarker:!0},loadDefault:function(t){this.data=t.data,this.display_ali_map=0,this.alphabet=t.data.alphabet||"dna",this.start=t.start,this.zoom=parseFloat(t.zoom)||.4,this.default_zoom=this.zoom,this.column_width=t.column_width,this.height=t.height,this.canvas_width=5e3,this.scale_height_enabled=t.scale_height_enabled,this.scrollme=null,this.previous_target=0,this.rendered=[],this.previous_zoom=0,null==this.data.max_height&&(this.data.max_height=this.calcMaxHeight(this.data.heightArr)),this.data.insert_probs&&this.data.delete_probs||(this.options.show_probs=!1),t.scaled_max?this.data.max_height=t.data.max_height_obs||this.data.max_height||2:this.data.max_height=t.data.max_height_theory||this.data.max_height||2,t.colors?this.changeColors(t.colors):"aa"===this.alphabet?(this.aa_colors=n(794),this.changeColors(this.aa_colors)):(this.dna_colors=n(4308),this.changeColors(this.dna_colors))},initialize:function(t){if(r()){null==t.data&&(this.el.textContent="No data added."),_.extend(this.options,t);var e=this.options;if(this.loadDefault(e),this.options.show_probs?this.data.processing&&/^observed|weighted/.test(this.data.processing)?(this.show_inserts=0,this.info_content_height=this.height-14):(this.show_inserts=1,this.info_content_height=this.height-44):this.info_content_height=this.height,this.$el=c(this.el),this.initDivs(),this.options.settings){var n=l(this,e);this.$el.append(n)}u(this.$el,this,this.logo_graphic)}else this.el.textContent="Your browser doesn't support canvas."},initDivs:function(){var t=h("div");t.className="logo_graphic",this.logo_graphic=c(t);var e=h("div");if(e.className="logo_container",e.style.height=this.height,this.container=c(e),this.container.append(t),this.$el.append(e),this.options.divider){var n=h("div");n.className="logo_divider",this.$el.append(n)}this.dom_element=c(t),this.called_on=this.$el,this.options.xaxis&&a.render_x_axis_label.call(this),this.options.yaxis?a.render_y_axis_label.call(this):this.container[0].style.marginLeft="0px"},render:function(){return i.call(this),this},changeColors:function(t){this.colors=t,null!=t&&null!=t.type&&(this.colorscheme="dynamic"),this.buildAlphabet()},buildAlphabet:function(){this.letters={};var t=this.colors;if("dynamic"==this.colorscheme){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");t={},e.forEach((function(e){t[e]=""}))}for(var n in t)if(t.hasOwnProperty(n)){var r={color:t[n]};this.letters[n]=new o(n,r)}},toggleColorscheme:function(t){var e=this.currentColumn();t?this.colorscheme="default"===t?"default":"consensus":"default"===this.colorscheme?this.colorscheme="consensus":this.colorscheme="default",this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},toggleScale:function(t){var e=this.currentColumn();t?this.data.max_height="obs"===t?this.data.max_height_obs:this.data.max_height_theory:this.data.max_height===this.data.max_height_obs?this.data.max_height=this.data.max_height_theory:this.data.max_height=this.data.max_height_obs,this.rendered=[],this.logoYAxis&&this.logoYAxis.remove(),a.render_y_axis_label.call(this),this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},toggleAliMap:function(t){var e=this.currentColumn();t?this.display_ali_map="model"===t?0:1:1===this.display_ali_map?this.display_ali_map=0:this.display_ali_map=1,a.render_x_axis_label(this),this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},currentColumn:function(){var t=this.scrollme.scroller.getValues().left,e=this.column_width*this.zoom,n=t/e,r=this.container.width()/e/2;return Math.ceil(n+r)},changeZoom:function(t){var e=.3;if(t.target?e=t.target:t.distance&&(e=(parseFloat(this.zoom)-parseFloat(t.distance)).toFixed(1),"+"===t.direction&&(e=(parseFloat(this.zoom)+parseFloat(t.distance)).toFixed(1))),e>1?e=1:e<.1&&(e=.1),this.logo_graphic.width()*e/this.zoom>this.container.width())if(t.column){this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow();var n=this.coordinatesFromColumn(t.column);this.scrollme.scroller.scrollTo(n-t.offset)}else{var r=this.currentColumn();this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow(),this.scrollToColumn(r)}return this.zoom},columnFromCoordinates:function(t){return Math.ceil(t/(this.column_width*this.zoom))},coordinatesFromColumn:function(t){return(t-1)*(this.column_width*this.zoom)+this.column_width*this.zoom/2},scrollToColumn:function(t,e){var n=this.logo_container.width()/2,r=this.coordinatesFromColumn(t);this.scrollme.scroller.scrollTo(r-n,0,e)},calcMaxHeight:function(t){return t.reduce((function(t,e){var n=0;for(var r in e)n+=e[r];return n>t?n:t}),0)}});var h=function(t){return document.createElement(t)}},3668:(t,e,n)=>{var r=n(2452);t.exports=function(t,e){var n=r('<form class="logo_form"><fieldset><label for="position">Column number</label><input type="text" name="position" class="logo_position"></input><button class="button logo_change">Go</button></fieldset></form>'),i=r('<div class="logo_settings"></div>');if(i.append('<span class="close">x</span>'),t.scale_height_enabled&&t.data.max_height_obs<t.data.max_height_theory){var o="",s="",a="",u="";t.data.max_height_obs===t.data.max_height?o="checked":s="checked"}var l='<fieldset><legend>Scale</legend><label><input type="radio" name="scale" class="logo_scale" value="obs" '+o+"/>Maximum Observed "+u+'</label></br><label><input type="radio" name="scale" class="logo_scale" value="theory" '+s+"/>Maximum Theoretical "+a+"</label></fieldset>";if(i.append(l),"score"!==t.data.height_calc&&"aa"===t.data.alphabet&&t.data.probs_arr){var c=null,h=null,f="",d="";"default"===t.colorscheme?c="checked":h="checked",e.help&&(f='<a class="help" href="/help#colors_default" title="Each letter receives its own color."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>',d='<a class="help" href="/help#colors_consensus" title="Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>');var g='<fieldset><legend>Color Scheme</legend><label><input type="radio" name="color" class="logo_color" value="default" '+c+"/>Default "+f+'</label></br><label><input type="radio" name="color" class="logo_color" value="consensus" '+h+"/>Consensus Colors "+d+"</label></fieldset>";i.append(g)}if(t.data.ali_map){var p=null,v=null,m="",_="";0===t.display_ali_map?p="checked":v="checked",e.help&&(m='<a class="help" href="/help#coords_model" title="The coordinates along the top of the plot show the model position."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>',_='<a class="help" href="/help#coords_ali" title="The coordinates along the top of the plot show the column in the alignment associated with the model"><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>');var y='<fieldset><legend>Coordinates</legend><label><input type="radio" name="coords" class="logo_ali_map" value="model" '+p+"/>Model "+m+'</label></br><label><input type="radio" name="coords" class="logo_ali_map" value="alignment" '+v+"/>Alignment "+_+"</label></fieldset>";i.append(y)}var b=r('<div class="logo_controls"></div>');return t.zoom_enabled&&b.append('<button class="logo_zoomout button">-</button><button class="logo_zoomin button">+</button>'),i.children().length>0&&(b.append('<button class="logo_settings_switch button">Settings</button>'),b.append(i)),n.append(b),n}},6939:t=>{t.exports=function(t,e){e=e||{},this.value=t,this.width=parseInt(e.width,10)||100,"W"===this.value&&(this.width+=30*this.width/100),this.height=parseInt(e.height,10)||100,this.color=e.color||"#000000",this.fontSize=e.fontSize||138,this.scaled=function(){},this.draw=function(t,e,n,r,i,o){var s=e/this.height,a=n/this.width,u=t.font;t.transform(a,0,0,s,r,i),t.fillStyle=o||this.color,t.textAlign="center",t.font="bold "+this.fontSize+"px Arial",t.fillText(this.value,0,0),t.setTransform(1,0,0,1,0,0),t.fillStyle="#000000",t.font=u}}},4870:t=>{t.exports=function(t,e,n){t.beginPath(),t.moveTo(0,e),t.lineTo(n,e),t.lineWidth=1,t.strokeStyle="#999999",t.stroke()}},9408:t=>{t.exports=function(t,e,n,r,i,o,s){t.font=o+"px Arial",t.textAlign=s?"right":"center",t.fillStyle="#666666",t.fillText(i,e+r/2,n)}},3681:t=>{t.exports=function(t,e,n,r,i){i=i||"#999999",t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+r),t.lineWidth=1,t.strokeStyle=i,t.stroke()}},8253:(t,e,n)=>{var r=n(3422),i=n(7616),o=n(2452);t.exports=function(t){if(this.data){var e=(t=t||{}).zoom||this.zoom,n=t.target||1,s=(t.scaled,this.dom_element.parent().attr("width")),a=1,u=null,l=null,c=0;if(this.previous_target=n,t.start&&(this.start=t.start),t.end&&(this.end=t.end),e<=.1?e=.1:e>=1&&(e=1),this.zoom=e,u=this.end||this.data.heightArr.length,l=(l=(l=this.start||1)>(u=(u=u>this.data.heightArr.length?this.data.heightArr.length:u)<l?l:u)?u:l)>1?l:1,this.y=this.height-20,this.max_width=this.column_width*(u-l+1),s>this.max_width&&(e=1,this.zoom_enabled=!1),this.zoom=e,this.zoomed_column=this.column_width*e,this.total_width=this.zoomed_column*(u-l+1),e<1)for(;this.total_width<s&&(this.zoom+=.1,this.zoomed_column=this.column_width*this.zoom,this.total_width=this.zoomed_column*(u-l+1),this.zoom_enabled=!1,!(e>=1)););n>this.total_width&&(n=this.total_width),this.dom_element.attr({width:this.total_width+"px"}).css({width:this.total_width+"px"}),this.canvas_width=this.total_width;var h=Math.ceil(this.total_width/this.canvas_width);for(this.columns_per_canvas=Math.ceil(this.canvas_width/this.zoomed_column),this.previous_zoom!==this.zoom&&(this.dom_element.find("canvas").remove(),this.previous_zoom=this.zoom,this.rendered=[]),this.canvases=[],this.contexts=[],c=0;c<h;c++){var f=this.columns_per_canvas*c+l,d=f+this.columns_per_canvas-1;d>u&&(d=u);var g=(d-f+1)*this.zoomed_column;g>a&&(a=g);var p=a*c,v=p+g;if(n<v+v/2&&n>p-p/2)if(this.canvases[c]=(_=this.dom_element,y=this.height,b=g,w=c,x=a,S=void 0,(S=o(_).find("#canv_"+w)).length||(o(_).append('<canvas class="canvas_logo" id="canv_'+w+'"  height="'+y+'" width="'+b+'" style="left:'+x*w+'px"></canvas>'),S=o(_).find("#canv_"+w)),o(S).attr("width",b).attr("height",y),S[0]),this.contexts[c]=this.canvases[c].getContext("2d"),this.contexts[c].setTransform(1,0,0,1,0,0),this.contexts[c].clearRect(0,0,g,this.height),this.contexts[c].fillStyle="#ffffff",this.contexts[c].fillRect(0,0,v,this.height),this.zoomed_column>12){var m=parseInt(10*e,10);m=m>10?10:m,this.debug&&i.call(this,f,d,c,1),r.call(this,f,d,c,m)}else i.call(this,f,d,c)}!this.scrollme&&this.options.scroller&&(this.scrollme=new EasyScroller(this.dom_element[0],{scrollingX:1,scrollingY:0,eventTarget:this.called_on})),1!==n&&this.scrollme.reflow()}var _,y,b,w,x,S}},7616:(t,e,n)=>{var r=n(4870),i=n(3681),o=n(9408);function s(t,e,n,r,i,o,s,a){var u="#ffffff";a?(i>.1?u="#d7301f":i>.05?u="#fc8d59":i>.03&&(u="#fdcc8a"),t.fillStyle=u,t.fillRect(e,n+15,r,10),u="#ffffff",o>9?u="#d7301f":o>7?u="#fc8d59":o>4&&(u="#fdcc8a"),t.fillStyle=u,t.fillRect(e,n+30,r,10)):n+=30,u="#ffffff",s<.75?u="#2171b5":s<.85?u="#6baed6":s<.95&&(u="#bdd7e7"),t.fillStyle=u,t.fillRect(e,n,r,10)}t.exports=function(t,e,n,a){var u=0,l=t,c=null,h=0,f=Math.abs(this.data.max_height)+Math.abs(this.data.min_height_obs),d=Math.round(100*Math.abs(this.data.max_height)/f),g=(Math.round(this.info_content_height*d/100),this.info_content_height,10);for(h=t;h<=e;h++){if(this.data.mmline&&1===this.data.mmline[h-1])this.contexts[n].fillStyle="#cccccc",this.contexts[n].fillRect(u,10,this.zoomed_column,this.height-40);else{var p=this.data.heightArr[h-1],v=0,m=(p.length,0);for(var m in p){var _=[m,p[m]];if(_[1]>.01){var y,b=parseFloat(_[1])/this.data.max_height,w=u,x=(this.info_content_height-2)*b,S=this.info_content_height-2-v-x;y="dynamic"===this.colorscheme?this.colors.getColor(_[0],{pos:h-1}):"consensus"===this.colorscheme?this.cmap[h-1][_[0]]||"#7a7a7a":this.colors[_[0]],a?(this.contexts[n].strokeStyle=y,this.contexts[n].strokeRect(w,S,this.zoomed_column,x)):(this.contexts[n].fillStyle=y,this.contexts[n].fillRect(w,S,this.zoomed_column,x)),v+=x}}}this.zoom<.2?g=20:this.zoom<.3&&(g=10),this.options.positionMarker&&h%g==0&&(this.options.show_probs&&i(this.contexts[n],u+this.zoomed_column,this.height-30,parseFloat(this.height),"#dddddd"),i(this.contexts[n],u+this.zoomed_column,0,5),c=this.display_ali_map?this.data.ali_map[h-1]:l,o(this.contexts[n],u-2,10,this.zoomed_column,c,10,!0)),this.options.show_probs&&s(this.contexts[n],u,this.height-42,this.zoomed_column,this.data.insert_probs[h-1],this.data.insert_lengths[h-1],this.data.delete_probs[h-1],this.show_inserts),this.options.show_probs&&(this.show_inserts?r(this.contexts[n],this.height-45,this.total_width):r(this.contexts[n],this.height-15,this.total_width)),this.options.border&&r(this.contexts[n],0,this.total_width),u+=this.zoomed_column,l++}}},3422:(t,e,n)=>{var r=n(4870),i=n(3681),o=n(9408);function s(t,e,n,r,i,o,s){var u=n-4,l="#ffffff",c="#555555";s&&(u=n-35),i<.75?(l="#2171b5",c="#ffffff"):i<.85?l="#6baed6":i<.95&&(l="#bdd7e7"),a(t,e,u,i,o,r,l,c)}function a(t,e,n,r,i,o,s,a){t.font=i+"px Arial",t.fillStyle=s,t.fillRect(e,n-10,o,14),t.textAlign="center",t.fillStyle=a,t.fillText(r,e+o/2,n)}function u(t,e){var n=e.ralign?e.x+t.zoomed_column:e.x,r=e.ralign?e.x+2:e.x;i(t.contexts[e.context_num],n,t.height-30,-30-t.height,"#dddddd"),i(t.contexts[e.context_num],n,0,5),o(t.contexts[e.context_num],r,10,t.zoomed_column,e.column_num,e.fontsize,e.ralign)}function l(t,e,n,r,o,s){var u="#ffffff",l="#555555";o>.1?(u="#d7301f",l="#ffffff"):o>.05?u="#fc8d59":o>.03&&(u="#fdcc8a"),a(t,e,n-20,o,s,r,u,l),o>.03&&i(t,e+r,n-30,-30-n,u)}function c(t,e,n,r,i,o){var s="#ffffff",u="#555555";i>9?(s="#d7301f",u="#ffffff"):i>7?s="#fc8d59":i>4&&(s="#fdcc8a"),a(t,e,n,i,o,r,s,u)}t.exports=function(t,e,n,o){var a=0,h=t,f=null,d=0,g=Math.abs(this.data.max_height),p=isNaN(this.data.min_height_obs)?0:parseInt(this.data.min_height_obs,10),v=g+Math.abs(p),m=Math.round(100*Math.abs(this.data.max_height)/v),_=Math.round(this.info_content_height*m/100);this.info_content_height;for(this.info_content_height,this.info_content_height,e+3<=this.end&&(e+=3),d=t;d<=e;d++){if(this.data.mmline&&1===this.data.mmline[d-1])this.contexts[n].fillStyle="#cccccc",this.contexts[n].fillRect(a,10,this.zoomed_column,this.height-40);else{var y=this.data.heightArr[d-1],b=[];if(y){var w=0,x=(y.length,0),S=null;for(var x in y){var z=[x,y[x]],k=a+this.zoomed_column/2,C=null;if(z[1]>.01){C=parseFloat(z[1])/this.data.max_height;var E=this.info_content_height-2-w,M=(this.info_content_height-2)*C;b[x]=[M,this.zoomed_column,k,E],w+=M}}for(var x in y)b[x]&&this.letters[x]&&(S="dynamic"===this.colorscheme?this.colors.getColor(x,{pos:d-1}):"consensus"===this.colorscheme?this.cmap[d-1][x]||"#7a7a7a":null,this.letters[x].draw(this.contexts[n],b[x][0],b[x][1],b[x][2],b[x][3],S))}}f=this.display_ali_map?this.data.ali_map[d-1]:h,this.options.show_divider&&(this.zoom<.7?d%this.options.divider_step==0&&u(this,{context_num:n,x:a,fontsize:10,column_num:f,ralign:!0}):u(this,{context_num:n,x:a,fontsize:o,column_num:f})),this.options.show_probs&&(s(this.contexts[n],a,this.height,this.zoomed_column,this.data.delete_probs[d-1],o,this.show_inserts),i(this.contexts[n],a,this.height-15,5),this.show_inserts&&(l(this.contexts[n],a,this.height,this.zoomed_column,this.data.insert_probs[d-1],o),c(this.contexts[n],a,this.height-5,this.zoomed_column,this.data.insert_lengths[d-1],o),i(this.contexts[n],a,this.height-45,5),i(this.contexts[n],a,this.height-30,5))),a+=this.zoomed_column,h++}this.options.show_probs&&(this.show_inserts&&(r(this.contexts[n],this.height-30,this.total_width),r(this.contexts[n],this.height-45,this.total_width)),r(this.contexts[n],this.height-15,this.total_width)),this.options.border&&r(this.contexts[n],0,this.total_width)}},3181:t=>{var e=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,n=window.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),r=n&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=(n||i)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(t){var e,o,s,a,u,l;for(e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),o=new ArrayBuffer(e.length),s=new Uint8Array(o),a=0;a<e.length;a+=1)s[a]=e.charCodeAt(a);return u=t.split(",")[0].split(":")[1].split(";")[0],n?new Blob([r?s:o],{type:u}):((l=new i).append(o),l.getBlob(u))};window.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,n,r){r&&e.toDataURL&&o?t(o(this.toDataURL(n,r))):t(this.mozGetAsFile("blob",n))}:e.toDataURL&&o&&(e.toBlob=function(t,e,n){t(o(this.toDataURL(e,n)))})),t.exports=o},696:function(t,e,n){t=n.nmd(t);var r=r||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i=!t.externalHost&&"download"in r,o=t.webkitRequestFileSystem,s=t.requestFileSystem||o||t.mozRequestFileSystem,a=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},u="application/octet-stream",l=0,c=[],h=function(){for(var t=c.length;t--;){var e=c[t];"string"==typeof e?n().revokeObjectURL(e):e.remove()}c.length=0},f=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){a(t)}}},d=function(a,h){var d,g,p,v,m,_=this,y=a.type,b=!1,w=function(){var t=n().createObjectURL(a);return c.push(t),t},x=function(){f(_,"writestart progress write writeend".split(" "))},S=function(){!b&&d||(d=w()),g?g.location.href=d:window.open(d,"_blank"),_.readyState=_.DONE,x()},z=function(t){return function(){if(_.readyState!==_.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};if(_.readyState=_.INIT,h||(h="download"),i)return d=w(),r.href=d,r.download=h,v=r,(m=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),v.dispatchEvent(m),_.readyState=_.DONE,void x();t.chrome&&y&&y!==u&&(p=a.slice||a.webkitSlice,a=p.call(a,0,a.size,u),b=!0),o&&"download"!==h&&(h+=".download"),(y===u||o)&&(g=t),s?(l+=a.size,s(t.TEMPORARY,l,z((function(t){t.root.getDirectory("saved",k,z((function(t){var e=function(){t.getFile(h,k,z((function(t){t.createWriter(z((function(e){e.onwriteend=function(e){g.location.href=t.toURL(),c.push(t),_.readyState=_.DONE,f(_,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&S()},"writestart progress write abort".split(" ").forEach((function(t){e["on"+t]=_["on"+t]})),e.write(a),_.abort=function(){e.abort(),_.readyState=_.DONE},_.readyState=_.WRITING})),S)})),S)};t.getFile(h,{create:!1},z((function(t){t.remove(),e()})),z((function(t){t.code===t.NOT_FOUND_ERR?e():S()})))})),S)})),S)):S()},g=d.prototype,p=function(t,e){return new d(t,e)};return g.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,t.addEventListener("unload",h,!1),p.unload=function(){h(),t.removeEventListener("unload",h,!1)},p}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),i=window.define;void 0===i&&void 0!==window.almond&&"define"in window.almond&&(i=window.almond.define),null!==t?t.exports=r:null!=i&&null!=i.amd&&i("saveAs",[],(function(){return r}))},9465:t=>{t.exports={removeToInsertLater:function(t){var e,n;return n=t.parentNode,e=t.nextSibling,n.removeChild(t),function(){e?n.insertBefore(t,e):n.appendChild(t)}},removeAllChilds:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},5048:(t,e,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t.exports=r},9748:t=>{t.exports=function(t){if(!t)return!1;var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var e=Object.prototype.toString},2452:function(t,e,n){var r;t=n.nmd(t),function(i){var o,s=i.$,a=i.jBone,u=/^<(\w+)\s*\/?>$/,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,c=[].slice,h=[].splice,f=Object.keys,d=i.document,g=function(t){return"string"==typeof t},p=function(t){return t instanceof Object},v=function(t){return"[object Function]"==={}.toString.call(t)},m=function(t,e){return new o.init(t,e)};function _(t,e){var n,r;for(n in this.originalEvent=t,r=function(t,e){"preventDefault"===t?this[t]=function(){return this.defaultPrevented=!0,e[t]()}:"stopImmediatePropagation"===t?this[t]=function(){return this.immediatePropagationStopped=!0,e[t]()}:v(e[t])?this[t]=function(){return e[t]()}:this[t]=e[t]},t)(t[n]||"function"==typeof t[n])&&r.call(this,n,t);m.extend(this,e,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}m.noConflict=function(){return i.$=s,i.jBone=a,m},(o=m.fn=m.prototype={init:function(t,e){var n,r,i,o;if(!t)return this;if(g(t)){if(r=u.exec(t))return this[0]=d.createElement(r[1]),this.length=1,p(e)&&this.attr(e),this;if((r=l.exec(t))&&r[1]){for(o=d.createDocumentFragment(),(i=d.createElement("div")).innerHTML=t;i.lastChild;)o.appendChild(i.firstChild);return n=c.call(o.childNodes),m.merge(this,n)}if(m.isElement(e))return m(e).find(t);try{return n=d.querySelectorAll(t),m.merge(this,n)}catch(t){return this}}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?t():t instanceof m?t:m.makeArray(t,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0}).constructor=m,o.init.prototype=o,m.setId=function(t){var e=t.jid;t===i?e="window":void 0===t.jid&&(t.jid=e=++m._cache.jid),m._cache.events[e]||(m._cache.events[e]={})},m.getData=function(t){var e=(t=t instanceof m?t[0]:t)===i?"window":t.jid;return{jid:e,events:m._cache.events[e]}},m.isElement=function(t){return t&&t instanceof m||t instanceof HTMLElement||g(t)},m._cache={events:{},jid:0},o.pushStack=function(t){return m.merge(this.constructor(),t)},m.merge=function(t,e){for(var n=e.length,r=t.length,i=0;i<n;)t[r++]=e[i++];return t.length=r,t},m.contains=function(t,e){return t.contains(e)},m.extend=function(t){var e;return h.call(arguments,1).forEach((function(n){if(e=t,n)for(var r in n)e[r]=n[r]})),t},m.makeArray=function(t,e){var n,r,o,s,a=e||[];return null!==t&&(o=(n=t).length,!v(s=typeof n)&&n!==i&&(1===n.nodeType&&o||(r=s,Array.isArray(r)||0===o||"number"==typeof o&&o>0&&o-1 in n))?m.merge(a,g(t)?[t]:t):a.push(t)),a},m.unique=function(t){if(null==t)return[];for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}return e},m.Event=function(t,e){var n,r;return t.type&&!e&&(e=t,t=t.type),n=t.split(".").splice(1).join("."),r=t.split(".")[0],(t=d.createEvent("Event")).initEvent(r,!0,!0),m.extend(t,{namespace:n,isDefaultPrevented:function(){return t.defaultPrevented}},e)},m.event={add:function(t,e,n,r,i){m.setId(t);var o,s,a,u=function(e){m.event.dispatch.call(t,e)},l=m.getData(t).events;for(s=(e=e.split(" ")).length;s--;)l[o=(a=e[s]).split(".")[0]]=l[o]||[],l[o].length?u=l[o][0].fn:t.addEventListener&&t.addEventListener(o,u,!1),l[o].push({namespace:a.split(".").splice(1).join("."),fn:u,selector:i,data:r,originfn:n})},remove:function(t,e,n,r){var i,o,s=function(t,e,r,i,o){var s;(n&&o.originfn===n||!n)&&(s=o.fn),t[e][r].fn===s&&(t[e].splice(r,1),t[e].length||i.removeEventListener(e,s))},a=m.getData(t).events;if(a)return!e&&a?f(a).forEach((function(e){for(o=a[e],i=o.length;i--;)s(a,e,i,t,o[i])})):void e.split(" ").forEach((function(e){var n,u=e.split(".")[0],l=e.split(".").splice(1).join(".");if(a[u])for(o=a[u],i=o.length;i--;)n=o[i],(!l||l&&n.namespace===l)&&(!r||r&&n.selector===r)&&s(a,u,i,t,n);else l&&f(a).forEach((function(e){for(o=a[e],i=o.length;i--;)(n=o[i]).namespace.split(".")[0]===l.split(".")[0]&&s(a,e,i,t,n)}))}))},trigger:function(t,e){(g(e)?e.split(" ").map((function(t){return m.Event(t)})):[e=e instanceof Event?e:m.Event(e)]).forEach((function(e){e.type&&t.dispatchEvent&&t.dispatchEvent(e)}))},dispatch:function(t){for(var e,n,r,i,o,s=0,a=0,u=this,l=m.getData(u).events[t.type],c=l.length,h=[],f=[];s<c;s++)h.push(l[s]);for(s=0,c=h.length;s<c&&~l.indexOf(h[s])&&(!i||!i.isImmediatePropagationStopped());s++)if(n=null,o={},(r=h[s]).data&&(o.data=r.data),r.selector){if(~(f=m(u).find(r.selector)).indexOf(t.target)&&(n=t.target)||u!==t.target&&u.contains(t.target)){if(!n)for(e=f.length,a=0;a<e;a++)f[a]&&f[a].contains(t.target)&&(n=f[a]);if(!n)continue;o.currentTarget=n,i=new _(t,o),t.namespace&&t.namespace!==r.namespace||r.originfn.call(n,i)}}else i=new _(t,o),t.namespace&&t.namespace!==r.namespace||r.originfn.call(u,i)}},o.on=function(t,e,n,r){var i=this.length,o=0;if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!r)return this;for(;o<i;o++)m.event.add(this[o],t,r,n,e);return this},o.one=function(t){var e,n=arguments,r=0,i=this.length,o=c.call(n,1,n.length-1),s=c.call(n,-1)[0];for(e=function(e){var n=m(e);t.split(" ").forEach((function(t){var r=function(i){n.off(t,r),s.call(e,i)};n.on.apply(n,[t].concat(o,r))}))};r<i;r++)e(this[r]);return this},o.trigger=function(t){var e=0,n=this.length;if(!t)return this;for(;e<n;e++)m.event.trigger(this[e],t);return this},o.off=function(t,e,n){var r=0,i=this.length;for(v(e)&&(n=e,e=void 0);r<i;r++)m.event.remove(this[r],t,n,e);return this},o.find=function(t){for(var e,n=[],r=0,i=this.length;r<i;r++)e=this[r],v(e.querySelectorAll)&&[].forEach.call(e.querySelectorAll(t),(function(t){n.push(t)}));return m(n)},o.get=function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},o.eq=function(t){return m(this[t])},o.parent=function(){for(var t,e=[],n=0,r=this.length;n<r;n++)!~e.indexOf(t=this[n].parentElement)&&t&&e.push(t);return m(e)},o.toArray=function(){return c.call(this)},o.is=function(){var t=arguments;return this.some((function(e){return e.tagName.toLowerCase()===t[0]}))},o.has=function(){var t=arguments;return this.some((function(e){return e.querySelectorAll(t[0]).length}))},o.add=function(t,e){return this.pushStack(m.unique(m.merge(this.get(),m(t,e))))},o.attr=function(t,e){var n,r=arguments,i=0,o=this.length;if(g(t)&&1===r.length)return this[0]&&this[0].getAttribute(t);for(2===r.length?n=function(n){n.setAttribute(t,e)}:p(t)&&(n=function(e){f(t).forEach((function(n){e.setAttribute(n,t[n])}))});i<o;i++)n(this[i]);return this},o.removeAttr=function(t){for(var e=0,n=this.length;e<n;e++)this[e].removeAttribute(t);return this},o.val=function(t){var e=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;e<n;e++)this[e].value=t;return this},o.css=function(t,e){var n,r=arguments,o=0,s=this.length;if(g(t)&&1===r.length)return this[0]&&i.getComputedStyle(this[0])[t];for(2===r.length?n=function(n){n.style[t]=e}:p(t)&&(n=function(e){f(t).forEach((function(n){e.style[n]=t[n]}))});o<s;o++)n(this[o]);return this},o.data=function(t,e){var n,r=arguments,i={},o=0,s=this.length,a=function(t,e,n){p(n)?(t.jdata=t.jdata||{},t.jdata[e]=n):t.dataset[e]=n},u=function(t){return"true"===t||"false"!==t&&t};if(0===r.length)return this[0].jdata&&(i=this[0].jdata),f(this[0].dataset).forEach((function(t){i[t]=u(this[0].dataset[t])}),this),i;if(1===r.length&&g(t))return this[0]&&u(this[0].dataset[t]||this[0].jdata&&this[0].jdata[t]);for(1===r.length&&p(t)?n=function(e){f(t).forEach((function(n){a(e,n,t[n])}))}:2===r.length&&(n=function(n){a(n,t,e)});o<s;o++)n(this[o]);return this},o.removeData=function(t){for(var e,n,r=0,i=this.length;r<i;r++)if(e=this[r].jdata,n=this[r].dataset,t)e&&e[t]&&delete e[t],delete n[t];else{for(t in e)delete e[t];for(t in n)delete n[t]}return this},o.addClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];e<r;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.add(i[n]);return this},o.removeClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];e<r;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.remove(i[n]);return this},o.toggleClass=function(t,e){var n=0,r=this.length,i="toggle";if(!0===e&&(i="add")||!1===e&&(i="remove"),t)for(;n<r;n++)this[n].classList[i](t);return this},o.hasClass=function(t){var e=0,n=this.length;if(t)for(;e<n;e++)if(this[e].classList.contains(t))return!0;return!1},o.html=function(t){var e,n=arguments;return 1===n.length&&void 0!==t?this.empty().append(t):0===n.length&&(e=this[0])?e.innerHTML:this},o.append=function(t){var e,n=0,r=this.length;for(g(t)&&l.exec(t)?t=m(t):p(t)||(t=document.createTextNode(t)),t=t instanceof m?t:m(t),e=function(e,n){t.forEach((function(t){n?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))};n<r;n++)e(this[n],n);return this},o.appendTo=function(t){return m(t).append(this),this},o.empty=function(){for(var t,e=0,n=this.length;e<n;e++)for(t=this[e];t.lastChild;)t.removeChild(t.lastChild);return this},o.remove=function(){var t,e=0,n=this.length;for(this.off();e<n;e++)delete(t=this[e]).jdata,t.parentNode&&t.parentNode.removeChild(t);return this},t&&"object"==typeof t.exports?t.exports=m:(void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r),i.jBone=i.$=m)}("undefined"!=typeof window?window:this)},7277:(t,e,n)=>{t=n.nmd(t);var r={};r.d=r.defaultValue=function(t,e){return void 0===t?"function"==typeof t?e():e:t},r.id=function(t){return document.getElementById(t)},r.mk=function(t){return document.createElement(t)},void 0!==t&&void 0!==t.exports&&(t.exports=r)},7531:function(t,e){!function(n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.domain=[],this.range=[],Array.isArray(t)&&(this.domain=t),Array.isArray(e)&&(this.range=e);var n=function(t){if("number"!=typeof t)return null;var e=this.domain[0],n=this.domain[1],r=this.range[0],i=this.range[1];return"number"!==r&&"number"!=typeof i&&(r=e,i=n),r+(i-r)/(n-e)*(t-e)}.bind(this);return n.domain=function(t){return Array.isArray(t)&&(this.domain=t),n}.bind(this),n.range=function(t){return Array.isArray(t)&&(this.range=t),n}.bind(this),n}t.exports&&(e=t.exports=r),e.LinearScale=r}()},6635:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,l=128,c=1/0,h=9007199254740991,f=NaN,d=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],p="[object Arguments]",v="[object Array]",m="[object Boolean]",_="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",S="[object Number]",z="[object Object]",k="[object Promise]",C="[object RegExp]",E="[object Set]",M="[object String]",O="[object Symbol]",j="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",q="[object Float32Array]",L="[object Float64Array]",R="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",W="[object Uint8ClampedArray]",F="[object Uint16Array]",B="[object Uint32Array]",D=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,$=RegExp(V.source),X=RegExp(G.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="["+zt+"]",Ct="["+wt+"]",Et="\\d+",Mt="["+xt+"]",Ot="[^\\ud800-\\udfff"+zt+Et+"\\u2700-\\u27bf"+xt+St+"]",jt="\\ud83c[\\udffb-\\udfff]",Tt="[^\\ud800-\\udfff]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",qt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+St+"]",Rt="(?:"+Mt+"|"+Ot+")",Nt="(?:"+Lt+"|"+Ot+")",It="(?:['](?:d|ll|m|re|s|t|ve))?",Pt="(?:['](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+Ct+"|"+jt+")?",Ft="[\\ufe0e\\ufe0f]?",Bt=Ft+Wt+"(?:\\u200d(?:"+[Tt,At,qt].join("|")+")"+Ft+Wt+")*",Dt="(?:"+["[\\u2700-\\u27bf]",At,qt].join("|")+")"+Bt,Ht="(?:"+[Tt+Ct+"?",Ct,At,qt,"[\\ud800-\\udfff]"].join("|")+")",Ut=RegExp("[']","g"),Vt=RegExp(Ct,"g"),Gt=RegExp(jt+"(?="+jt+")|"+Ht+Bt,"g"),$t=RegExp([Lt+"?"+Mt+"+"+It+"(?="+[kt,Lt,"$"].join("|")+")",Nt+"+"+Pt+"(?="+[kt,Lt+Rt,"$"].join("|")+")",Lt+"?"+Rt+"+"+It,Lt+"+"+Pt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et,Dt].join("|"),"g"),Xt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yt=-1,Jt={};Jt[q]=Jt[L]=Jt[R]=Jt[N]=Jt[I]=Jt[P]=Jt[W]=Jt[F]=Jt[B]=!0,Jt[p]=Jt[v]=Jt[T]=Jt[m]=Jt[A]=Jt[_]=Jt[y]=Jt[b]=Jt[x]=Jt[S]=Jt[z]=Jt[C]=Jt[E]=Jt[M]=Jt[j]=!1;var Qt={};Qt[p]=Qt[v]=Qt[T]=Qt[A]=Qt[m]=Qt[_]=Qt[q]=Qt[L]=Qt[R]=Qt[N]=Qt[I]=Qt[x]=Qt[S]=Qt[z]=Qt[C]=Qt[E]=Qt[M]=Qt[O]=Qt[P]=Qt[W]=Qt[F]=Qt[B]=!0,Qt[y]=Qt[b]=Qt[j]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),se=e&&!e.nodeType&&e,ae=se&&t&&!t.nodeType&&t,ue=ae&&ae.exports===se,le=ue&&re.process,ce=function(){try{return ae&&ae.require&&ae.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ce&&ce.isArrayBuffer,fe=ce&&ce.isDate,de=ce&&ce.isMap,ge=ce&&ce.isRegExp,pe=ce&&ce.isSet,ve=ce&&ce.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _e(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function xe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Se(t,e){return!(null==t||!t.length)&&qe(t,e,0)>-1}function ze(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ke(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ee(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Me(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var je=Ie("length");function Te(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ae(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function qe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ae(t,Re,n)}function Le(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Re(t){return t!=t}function Ne(t,e){var n=null==t?0:t.length;return n?Fe(t,e)/n:f}function Ie(t){return function(e){return null==e?i:e[t]}}function Pe(t){return function(e){return null==t?i:t[e]}}function We(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Fe(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Be(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function De(t){return t?t.slice(0,an(t)+1).replace(rt,""):t}function He(t){return function(e){return t(e)}}function Ue(t,e){return ke(e,(function(e){return t[e]}))}function Ve(t,e){return t.has(e)}function Ge(t,e){for(var n=-1,r=t.length;++n<r&&qe(e,t[n],0)>-1;);return n}function $e(t,e){for(var n=t.length;n--&&qe(e,t[n],0)>-1;);return n}function Xe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ze=Pe({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Ke=Pe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ye(t){return"\\"+te[t]}function Je(t){return Xt.test(t)}function Qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function on(t){return Je(t)?function(t){for(var e=Gt.lastIndex=0;Gt.test(t);)++e;return e}(t):je(t)}function sn(t){return Je(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.split("")}(t)}function an(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var un=Pe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function t(e){var n,r=(e=null==e?oe:ln.defaults(oe.Object(),e,ln.pick(oe,Kt))).Array,it=e.Date,wt=e.Error,xt=e.Function,St=e.Math,zt=e.Object,kt=e.RegExp,Ct=e.String,Et=e.TypeError,Mt=r.prototype,Ot=xt.prototype,jt=zt.prototype,Tt=e["__core-js_shared__"],At=Ot.toString,qt=jt.hasOwnProperty,Lt=0,Rt=(n=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Nt=jt.toString,It=At.call(zt),Pt=oe._,Wt=kt("^"+At.call(qt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ue?e.Buffer:i,Bt=e.Symbol,Dt=e.Uint8Array,Ht=Ft?Ft.allocUnsafe:i,Gt=tn(zt.getPrototypeOf,zt),Xt=zt.create,te=jt.propertyIsEnumerable,re=Mt.splice,ie=Bt?Bt.isConcatSpreadable:i,se=Bt?Bt.iterator:i,ae=Bt?Bt.toStringTag:i,le=function(){try{var t=lo(zt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,je=it&&it.now!==oe.Date.now&&it.now,Pe=e.setTimeout!==oe.setTimeout&&e.setTimeout,cn=St.ceil,hn=St.floor,fn=zt.getOwnPropertySymbols,dn=Ft?Ft.isBuffer:i,gn=e.isFinite,pn=Mt.join,vn=tn(zt.keys,zt),mn=St.max,_n=St.min,yn=it.now,bn=e.parseInt,wn=St.random,xn=Mt.reverse,Sn=lo(e,"DataView"),zn=lo(e,"Map"),kn=lo(e,"Promise"),Cn=lo(e,"Set"),En=lo(e,"WeakMap"),Mn=lo(zt,"create"),On=En&&new En,jn={},Tn=Wo(Sn),An=Wo(zn),qn=Wo(kn),Ln=Wo(Cn),Rn=Wo(En),Nn=Bt?Bt.prototype:i,In=Nn?Nn.valueOf:i,Pn=Nn?Nn.toString:i;function Wn(t){if(na(t)&&!Vs(t)&&!(t instanceof Hn)){if(t instanceof Dn)return t;if(qt.call(t,"__wrapped__"))return Fo(t)}return new Dn(t)}var Fn=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Dn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new Vn(t);this.size=e.size}function Zn(t,e){var n=Vs(t),r=!n&&Us(t),i=!n&&!r&&Zs(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?Be(t.length,Ct):[],u=a.length;for(var l in t)!e&&!qt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mo(l,u))||a.push(l);return a}function Kn(t){var e=t.length;return e?t[Gr(0,e-1)]:i}function Yn(t,e){return Lo(Ei(t),sr(e,0,t.length))}function Jn(t){return Lo(Ei(t))}function Qn(t,e,n){(n!==i&&!Bs(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];qt.call(t,e)&&Bs(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(Bs(t[n][0],e))return n;return-1}function nr(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function rr(t,e){return t&&Mi(e,Aa(e),t)}function ir(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Ea(t,e[n]);return s}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,o,s){var a,u=1&e,l=2&e,c=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ea(t))return t;var h=Vs(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Ei(t,a)}else{var f=fo(t),d=f==b||f==w;if(Zs(t))return wi(t,u);if(f==z||f==p||d&&!o){if(a=l||d?{}:po(t),!u)return l?function(t,e){return Mi(t,ho(t),e)}(t,function(t,e){return t&&Mi(e,qa(e),t)}(a,t)):function(t,e){return Mi(t,co(t),e)}(t,rr(a,t))}else{if(!Qt[f])return o?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case T:return xi(t);case m:case _:return new i(+t);case A:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case q:case L:case R:case N:case I:case P:case W:case F:case B:return Si(t,n);case x:return new i;case S:case M:return new i(t);case C:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case E:return new i;case O:return r=t,In?zt(In.call(r)):{}}}(t,f,u)}}s||(s=new Xn);var g=s.get(t);if(g)return g;s.set(t,a),aa(t)?t.forEach((function(r){a.add(ar(r,e,n,r,t,s))})):ra(t)&&t.forEach((function(r,i){a.set(i,ar(r,e,n,i,t,s))}));var v=h?i:(c?l?no:eo:l?qa:Aa)(t);return ye(v||t,(function(r,i){v&&(r=t[i=r]),tr(a,i,ar(r,e,n,i,t,s))})),a}function ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=zt(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Et(o);return jo((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,o=Se,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=ke(e,He(n))),r?(o=ze,s=!1):e.length>=200&&(o=Ve,s=!1,e=new $n(e));t:for(;++i<a;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}Wn.templateSettings={escape:Z,evaluate:K,interpolate:Y,variable:"",imports:{_:Wn}},Wn.prototype=Bn.prototype,Wn.prototype.constructor=Wn,Dn.prototype=Fn(Bn.prototype),Dn.prototype.constructor=Dn,Hn.prototype=Fn(Bn.prototype),Hn.prototype.constructor=Hn,Un.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Un.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un.prototype.get=function(t){var e=this.__data__;if(Mn){var n=e[t];return n===s?i:n}return qt.call(e,t)?e[t]:i},Un.prototype.has=function(t){var e=this.__data__;return Mn?e[t]!==i:qt.call(e,t)},Un.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mn&&e===i?s:e,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Vn.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},Vn.prototype.has=function(t){return er(this.__data__,t)>-1},Vn.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(zn||Vn),string:new Un}},Gn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return ao(this,t).get(t)},Gn.prototype.has=function(t){return ao(this,t).has(t)},Gn.prototype.set=function(t,e){var n=ao(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(t){return this.__data__.set(t,s),this},$n.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!zn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var hr=Ti(yr),fr=Ti(br,!0);function dr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!la(a):n(a,u)))var u=a,l=s}return l}function pr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function vr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?vr(a,e-1,n,r,i):Ce(i,a):r||(i[i.length]=a)}return i}var mr=Ai(),_r=Ai(!0);function yr(t,e){return t&&mr(t,e,Aa)}function br(t,e){return t&&_r(t,e,Aa)}function wr(t,e){return xe(e,(function(e){return Js(t[e])}))}function xr(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Po(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Vs(t)?r:Ce(r,n(t))}function zr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in zt(t)?function(t){var e=qt.call(t,ae),n=t[ae];try{t[ae]=i;var r=!0}catch(t){}var o=Nt.call(t);return r&&(e?t[ae]=n:delete t[ae]),o}(t):function(t){return Nt.call(t)}(t)}function kr(t,e){return t>e}function Cr(t,e){return null!=t&&qt.call(t,e)}function Er(t,e){return null!=t&&e in zt(t)}function Mr(t,e,n){for(var o=n?ze:Se,s=t[0].length,a=t.length,u=a,l=r(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=ke(f,He(e))),c=_n(f.length,c),l[u]=!n&&(e||s>=120&&f.length>=120)?new $n(u&&f):i}f=t[0];var d=-1,g=l[0];t:for(;++d<s&&h.length<c;){var p=f[d],v=e?e(p):p;if(p=n||0!==p?p:0,!(g?Ve(g,v):o(h,v,n))){for(u=a;--u;){var m=l[u];if(!(m?Ve(m,v):o(t[u],v,n)))continue t}g&&g.push(v),h.push(p)}}return h}function Or(t,e,n){var r=null==(t=Co(t,e=mi(e,t)))?t:t[Po(Yo(e))];return null==r?i:me(r,t,n)}function jr(t){return na(t)&&zr(t)==p}function Tr(t,e,n,r,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Vs(t),u=Vs(e),l=a?v:fo(t),c=u?v:fo(e),h=(l=l==p?z:l)==z,f=(c=c==p?z:c)==z,d=l==c;if(d&&Zs(t)){if(!Zs(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Xn),a||ca(t)?Qi(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new Dt(t),new Dt(e)));case m:case _:case S:return Bs(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case M:return t==e+"";case x:var a=Qe;case E:var u=1&r;if(a||(a=nn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var c=Qi(a(t),a(e),r,i,o,s);return s.delete(t),c;case O:if(In)return In.call(t)==In.call(e)}return!1}(t,e,l,n,r,o,s);if(!(1&n)){var g=h&&qt.call(t,"__wrapped__"),b=f&&qt.call(e,"__wrapped__");if(g||b){var w=g?t.value():t,k=b?e.value():e;return s||(s=new Xn),o(w,k,n,r,s)}}return!!d&&(s||(s=new Xn),function(t,e,n,r,o,s){var a=1&n,u=eo(t),l=u.length;if(l!=eo(e).length&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:qt.call(e,h)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var g=!0;s.set(t,e),s.set(e,t);for(var p=a;++c<l;){var v=t[h=u[c]],m=e[h];if(r)var _=a?r(m,v,h,e,t,s):r(v,m,h,t,e,s);if(!(_===i?v===m||o(v,m,n,r,s):_)){g=!1;break}p||(p="constructor"==h)}if(g&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,n,r,o,s))}(t,e,n,r,Tr,o))}function Ar(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=zt(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=n[o])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===i&&!(l in t))return!1}else{var f=new Xn;if(r)var d=r(c,h,l,t,e,f);if(!(d===i?Tr(h,c,3,r,f):d))return!1}}return!0}function qr(t){return!(!ea(t)||(e=t,Rt&&Rt in e))&&(Js(t)?Wt:pt).test(Wo(t));var e}function Lr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Vs(t)?Wr(t[0],t[1]):Pr(t):du(t)}function Rr(t){if(!xo(t))return vn(t);var e=[];for(var n in zt(t))qt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t,e){return t<e}function Ir(t,e){var n=-1,i=$s(t)?r(t.length):[];return hr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Pr(t){var e=uo(t);return 1==e.length&&e[0][2]?zo(e[0][0],e[0][1]):function(n){return n===t||Ar(n,t,e)}}function Wr(t,e){return yo(t)&&So(e)?zo(Po(t),e):function(n){var r=Ea(n,t);return r===i&&r===e?Ma(n,t):Tr(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&mr(e,(function(s,a){if(o||(o=new Xn),ea(s))!function(t,e,n,r,o,s,a){var u=Mo(t,n),l=Mo(e,n),c=a.get(l);if(c)Qn(t,n,c);else{var h=s?s(u,l,n+"",t,e,a):i,f=h===i;if(f){var d=Vs(l),g=!d&&Zs(l),p=!d&&!g&&ca(l);h=l,d||g||p?Vs(u)?h=u:Xs(u)?h=Ei(u):g?(f=!1,h=wi(l,!0)):p?(f=!1,h=Si(l,!0)):h=[]:oa(l)||Us(l)?(h=u,Us(u)?h=_a(u):ea(u)&&!Js(u)||(h=po(l))):f=!1}f&&(a.set(l,h),o(h,l,r,s,a),a.delete(l)),Qn(t,n,h)}}(t,e,a,n,Fr,r,o);else{var u=r?r(Mo(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Qn(t,a,u)}}),qa)}function Br(t,e){var n=t.length;if(n)return mo(e+=e<0?n:0,n)?t[e]:i}function Dr(t,e,n){e=e.length?ke(e,(function(t){return Vs(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;return e=ke(e,He(so())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=zi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Ir(t,(function(t,n,i){return{criteria:ke(e,(function(e){return e(t)})),index:++r,value:t}})))}function Hr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=xr(t,s);n(a,s)&&Yr(o,mi(s,t),a)}return o}function Ur(t,e,n,r){var i=r?Le:qe,o=-1,s=e.length,a=t;for(t===e&&(e=Ei(e)),n&&(a=ke(t,He(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&re.call(a,u,1),re.call(t,u,1);return t}function Vr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;mo(i)?re.call(t,i,1):li(t,i)}}return t}function Gr(t,e){return t+hn(wn()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=hn(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return To(ko(t,e,iu),t+"")}function Zr(t){return Kn(Ba(t))}function Kr(t,e){var n=Ba(t);return Lo(n,sr(e,0,n.length))}function Yr(t,e,n,r){if(!ea(t))return t;for(var o=-1,s=(e=mi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var l=Po(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=a){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=ea(h)?h:mo(e[o+1])?[]:{})}tr(u,l,c),u=u[l]}return t}var Jr=On?function(t,e){return On.set(t,e),t}:iu,Qr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Lo(Ba(t))}function ei(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ni(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!la(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ii(t,e,iu,n)}function ii(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,l=la(e),c=e===i;o<s;){var h=hn((o+s)/2),f=n(t[h]),d=f!==i,g=null===f,p=f==f,v=la(f);if(a)var m=r||p;else m=c?p&&(r||d):u?p&&d&&(r||!g):l?p&&d&&!g&&(r||!v):!g&&!v&&(r?f<=e:f<e);m?o=h+1:s=h}return _n(s,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Bs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function si(t){return"number"==typeof t?t:la(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Vs(t))return ke(t,ai)+"";if(la(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Se,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=ze;else if(o>=200){var l=e?null:$i(t);if(l)return nn(l);s=!1,i=Ve,u=new $n}else u=e?[]:a;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function li(t,e){return null==(t=Co(t,e=mi(e,t)))||delete t[Po(Yo(e))]}function ci(t,e,n,r){return Yr(t,e,n(xr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function fi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ee(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=cr(s[o]||a,t[u],e,n));return ui(vr(s,1),e,n)}function gi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function pi(t){return Xs(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function mi(t,e){return Vs(t)?t:yo(t,e)?[t]:Io(ya(t))}var _i=Xr;function yi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var bi=ce||function(t){return oe.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function Si(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function zi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=la(t),a=e!==i,u=null===e,l=e==e,c=la(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!c&&t<e||c&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!l)return-1}return 0}function ki(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=mn(s-a,0),h=r(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Ci(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,h=mn(s-u,0),f=r(h+c),d=!i;++o<h;)f[o]=t[o];for(var g=o;++l<c;)f[g+l]=e[l];for(;++a<u;)(d||o<s)&&(f[g+n[a]]=t[o++]);return f}function Ei(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Mi(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=r?r(n[u],t[u],u,n,t):i;l===i&&(l=t[u]),o?ir(n,u,l):tr(n,u,l)}return n}function Oi(t,e){return function(n,r){var i=Vs(n)?_e:nr,o=e?e():{};return i(n,t,so(r,2),o)}}function ji(t){return Xr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=zt(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e}))}function Ti(t,e){return function(n,r){if(null==n)return n;if(!$s(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=zt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ai(t){return function(e,n,r){for(var i=-1,o=zt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function qi(t){return function(e){var n=Je(e=ya(e))?sn(e):i,r=n?n[0]:e.charAt(0),o=n?yi(n,1).join(""):e.slice(1);return r[t]()+o}}function Li(t){return function(e){return Ee(Ja(Ua(e).replace(Ut,"")),t,"")}}function Ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function Ni(t){return function(e,n,r){var o=zt(e);if(!$s(e)){var s=so(n,3);e=Aa(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Ii(t){return to((function(e){var n=e.length,r=n,s=Dn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Et(o);if(s&&!u&&"wrapper"==io(a))var u=new Dn([],!0)}for(r=u?r:n;++r<n;){var l=io(a=e[r]),c="wrapper"==l?ro(a):i;u=c&&bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[io(c[0])].apply(u,c[3]):1==a.length&&bo(a)?u[l]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Vs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Pi(t,e,n,o,s,a,u,c,h,f){var d=e&l,g=1&e,p=2&e,v=24&e,m=512&e,_=p?i:Ri(t);return function i(){for(var l=arguments.length,y=r(l),b=l;b--;)y[b]=arguments[b];if(v)var w=oo(i),x=Xe(y,w);if(o&&(y=ki(y,o,s,v)),a&&(y=Ci(y,a,u,v)),l-=x,v&&l<f){var S=en(y,w);return Vi(t,e,Pi,i.placeholder,n,y,S,c,h,f-l)}var z=g?n:this,k=p?z[t]:t;return l=y.length,c?y=Eo(y,c):m&&l>1&&y.reverse(),d&&h<l&&(y.length=h),this&&this!==oe&&this instanceof i&&(k=_||Ri(k)),k.apply(z,y)}}function Wi(t,e){return function(n,r){return function(t,e,n,r){return yr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=t(n,r)}return o}}function Bi(t){return to((function(e){return e=ke(e,He(so())),Xr((function(n){var r=this;return t(e,(function(t){return me(t,r,n)}))}))}))}function Di(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,cn(t/on(e)));return Je(e)?yi(sn(r),0,t).join(""):r.slice(0,t)}function Hi(t){return function(e,n,o){return o&&"number"!=typeof o&&_o(e,n,o)&&(n=o=i),e=ga(e),n===i?(n=e,e=0):n=ga(n),function(t,e,n,i){for(var o=-1,s=mn(cn((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:ga(o),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Vi(t,e,n,r,o,s,a,l,c,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,l,c,h],g=n.apply(i,d);return bo(t)&&Oo(g,d),g.placeholder=r,Ao(g,t,e)}function Gi(t){var e=St[t];return function(t,n){if(t=ma(t),(n=null==n?0:_n(pa(n),292))&&gn(t)){var r=(ya(t)+"e").split("e");return+((r=(ya(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=Cn&&1/nn(new Cn([,-0]))[1]==c?function(t){return new Cn(t)}:lu;function Xi(t){return function(e){var n=fo(e);return n==x?Qe(e):n==E?rn(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zi(t,e,n,s,c,h,f,d){var g=2&e;if(!g&&"function"!=typeof t)throw new Et(o);var p=s?s.length:0;if(p||(e&=-97,s=c=i),f=f===i?f:mn(pa(f),0),d=d===i?d:pa(d),p-=c?c.length:0,64&e){var v=s,m=c;s=c=i}var _=g?i:ro(t),y=[t,e,n,s,c,v,m,h,f,d];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==l&&8==n||r==l&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?ki(c,u,e[4]):u,t[4]=c?en(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Ci(c,u,e[6]):u,t[6]=c?en(t[5],a):e[6]),(u=e[7])&&(t[7]=u),r&l&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,_),t=y[0],e=y[1],n=y[2],s=y[3],c=y[4],!(d=y[9]=y[9]===i?g?0:t.length:mn(y[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=Ri(t);return function s(){for(var a=arguments.length,u=r(a),l=a,c=oo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:en(u,c);return(a-=h.length)<n?Vi(t,e,Pi,s.placeholder,i,u,h,i,i,n-a):me(this&&this!==oe&&this instanceof s?o:t,this,u)}}(t,e,d):e!=u&&33!=e||c.length?Pi.apply(i,y):function(t,e,n,i){var o=1&e,s=Ri(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==oe&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return me(f,o?n:this,h)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,i=Ri(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Ao((_?Jr:Oo)(b,y),t,e)}function Ki(t,e,n,r){return t===i||Bs(t,jt[n])&&!qt.call(r,n)?e:t}function Yi(t,e,n,r,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Fr(t,e,i,Yi,s),s.delete(e)),t}function Ji(t){return oa(t)?i:t}function Qi(t,e,n,r,o,s){var a=1&n,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,g=2&n?new $n:i;for(s.set(t,e),s.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var m=a?r(v,p,f,e,t,s):r(p,v,f,t,e,s);if(m!==i){if(m)continue;d=!1;break}if(g){if(!Oe(e,(function(t,e){if(!Ve(g,e)&&(p===t||o(p,t,n,r,s)))return g.push(e)}))){d=!1;break}}else if(p!==v&&!o(p,v,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function to(t){return To(ko(t,i,Go),t+"")}function eo(t){return Sr(t,Aa,co)}function no(t){return Sr(t,qa,ho)}var ro=On?function(t){return On.get(t)}:lu;function io(t){for(var e=t.name+"",n=jn[e],r=qt.call(jn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(qt.call(Wn,"placeholder")?Wn:t).placeholder}function so(){var t=Wn.iteratee||ou;return t=t===ou?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Aa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function lo(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return qr(n)?n:i}var co=fn?function(t){return null==t?[]:(t=zt(t),xe(fn(t),(function(e){return te.call(t,e)})))}:vu,ho=fn?function(t){for(var e=[];t;)Ce(e,co(t)),t=Gt(t);return e}:vu,fo=zr;function go(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,o=!1;++r<i;){var s=Po(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&mo(s,i)&&(Vs(t)||Us(t))}function po(t){return"function"!=typeof t.constructor||xo(t)?{}:Fn(Gt(t))}function vo(t){return Vs(t)||Us(t)||!!(ie&&t&&t[ie])}function mo(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?$s(n)&&mo(e,n.length):"string"==r&&e in n)&&Bs(n[e],t)}function yo(t,e){if(Vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||Q.test(t)||!J.test(t)||null!=e&&t in zt(e)}function bo(t){var e=io(t),n=Wn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(Sn&&fo(new Sn(new ArrayBuffer(1)))!=A||zn&&fo(new zn)!=x||kn&&fo(kn.resolve())!=k||Cn&&fo(new Cn)!=E||En&&fo(new En)!=j)&&(fo=function(t){var e=zr(t),n=e==z?t.constructor:i,r=n?Wo(n):"";if(r)switch(r){case Tn:return A;case An:return x;case qn:return k;case Ln:return E;case Rn:return j}return e});var wo=Tt?Js:mu;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)}function So(t){return t==t&&!ea(t)}function zo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in zt(n))}}function ko(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=mn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),me(t,this,u)}}function Co(t,e){return e.length<2?t:xr(t,ei(e,0,-1))}function Eo(t,e){for(var n=t.length,r=_n(e.length,n),o=Ei(t);r--;){var s=e[r];t[r]=mo(s,n)?o[s]:i}return t}function Mo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=qo(Jr),jo=Pe||function(t,e){return oe.setTimeout(t,e)},To=qo(Qr);function Ao(t,e,n){var r=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ye(g,(function(n){var r="_."+n[0];e&n[1]&&!Se(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function qo(t){var e=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Lo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Gr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Ro,No,Io=(Ro=Rs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(ct,"$1"):n||t)})),e}),(function(t){return 500===No.size&&No.clear(),t})),No=Ro.cache,Ro);function Po(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wo(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Hn)return t.clone();var e=new Dn(t.__wrapped__,t.__chain__);return e.__actions__=Ei(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bo=Xr((function(t,e){return Xs(t)?cr(t,vr(e,1,Xs,!0)):[]})),Do=Xr((function(t,e){var n=Yo(e);return Xs(n)&&(n=i),Xs(t)?cr(t,vr(e,1,Xs,!0),so(n,2)):[]})),Ho=Xr((function(t,e){var n=Yo(e);return Xs(n)&&(n=i),Xs(t)?cr(t,vr(e,1,Xs,!0),i,n):[]}));function Uo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),Ae(t,so(e,3),i)}function Vo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?mn(r+o,0):_n(o,r-1)),Ae(t,so(e,3),o,!0)}function Go(t){return null!=t&&t.length?vr(t,1):[]}function $o(t){return t&&t.length?t[0]:i}var Xo=Xr((function(t){var e=ke(t,pi);return e.length&&e[0]===t[0]?Mr(e):[]})),Zo=Xr((function(t){var e=Yo(t),n=ke(t,pi);return e===Yo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Mr(n,so(e,2)):[]})),Ko=Xr((function(t){var e=Yo(t),n=ke(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Mr(n,i,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Jo=Xr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Ur(t,e):t}var ts=to((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Vr(t,ke(e,(function(t){return mo(t,n)?+t:t})).sort(zi)),r}));function es(t){return null==t?t:xn.call(t)}var ns=Xr((function(t){return ui(vr(t,1,Xs,!0))})),rs=Xr((function(t){var e=Yo(t);return Xs(e)&&(e=i),ui(vr(t,1,Xs,!0),so(e,2))})),is=Xr((function(t){var e=Yo(t);return e="function"==typeof e?e:i,ui(vr(t,1,Xs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=xe(t,(function(t){if(Xs(t))return e=mn(t.length,e),!0})),Be(e,(function(e){return ke(t,Ie(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=os(t);return null==e?n:ke(n,(function(t){return me(e,i,t)}))}var as=Xr((function(t,e){return Xs(t)?cr(t,e):[]})),us=Xr((function(t){return di(xe(t,Xs))})),ls=Xr((function(t){var e=Yo(t);return Xs(e)&&(e=i),di(xe(t,Xs),so(e,2))})),cs=Xr((function(t){var e=Yo(t);return e="function"==typeof e?e:i,di(xe(t,Xs),i,e)})),hs=Xr(os),fs=Xr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ss(t,n)}));function ds(t){var e=Wn(t);return e.__chain__=!0,e}function gs(t,e){return e(t)}var ps=to((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&mo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:gs,args:[o],thisArg:i}),new Dn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),vs=Oi((function(t,e,n){qt.call(t,n)?++t[n]:ir(t,n,1)})),ms=Ni(Uo),_s=Ni(Vo);function ys(t,e){return(Vs(t)?ye:hr)(t,so(e,3))}function bs(t,e){return(Vs(t)?be:fr)(t,so(e,3))}var ws=Oi((function(t,e,n){qt.call(t,n)?t[n].push(e):ir(t,n,[e])})),xs=Xr((function(t,e,n){var i=-1,o="function"==typeof e,s=$s(t)?r(t.length):[];return hr(t,(function(t){s[++i]=o?me(e,t,n):Or(t,e,n)})),s})),Ss=Oi((function(t,e,n){ir(t,n,e)}));function zs(t,e){return(Vs(t)?ke:Ir)(t,so(e,3))}var ks=Oi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Cs=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_o(t,e[0],e[1])?e=[]:n>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Dr(t,vr(e,1),[])})),Es=je||function(){return oe.Date.now()};function Ms(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Zi(t,l,i,i,i,i,e)}function Os(t,e){var n;if("function"!=typeof e)throw new Et(o);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var js=Xr((function(t,e,n){var r=1;if(n.length){var i=en(n,oo(js));r|=u}return Zi(t,r,e,n,i)})),Ts=Xr((function(t,e,n){var r=3;if(n.length){var i=en(n,oo(Ts));r|=u}return Zi(e,r,t,n,i)}));function As(t,e,n){var r,s,a,u,l,c,h=0,f=!1,d=!1,g=!0;if("function"!=typeof t)throw new Et(o);function p(e){var n=r,o=s;return r=s=i,h=e,u=t.apply(o,n)}function v(t){return h=t,l=jo(_,e),f?p(t):u}function m(t){var n=t-c;return c===i||n>=e||n<0||d&&t-h>=a}function _(){var t=Es();if(m(t))return y(t);l=jo(_,function(t){var n=e-(t-c);return d?_n(n,a-(t-h)):n}(t))}function y(t){return l=i,g&&r?p(t):(r=s=i,u)}function b(){var t=Es(),n=m(t);if(r=arguments,s=this,c=t,n){if(l===i)return v(c);if(d)return bi(l),l=jo(_,e),p(c)}return l===i&&(l=jo(_,e)),u}return e=ma(e)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?mn(ma(n.maxWait)||0,e):a,g="trailing"in n?!!n.trailing:g),b.cancel=function(){l!==i&&bi(l),h=0,r=c=s=l=i},b.flush=function(){return l===i?u:y(Es())},b}var qs=Xr((function(t,e){return lr(t,1,e)})),Ls=Xr((function(t,e,n){return lr(t,ma(e)||0,n)}));function Rs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Et(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Gn),n}function Ns(t){if("function"!=typeof t)throw new Et(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Rs.Cache=Gn;var Is=_i((function(t,e){var n=(e=1==e.length&&Vs(e[0])?ke(e[0],He(so())):ke(vr(e,1),He(so()))).length;return Xr((function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return me(t,this,r)}))})),Ps=Xr((function(t,e){var n=en(e,oo(Ps));return Zi(t,u,i,e,n)})),Ws=Xr((function(t,e){var n=en(e,oo(Ws));return Zi(t,64,i,e,n)})),Fs=to((function(t,e){return Zi(t,256,i,i,i,e)}));function Bs(t,e){return t===e||t!=t&&e!=e}var Ds=Ui(kr),Hs=Ui((function(t,e){return t>=e})),Us=jr(function(){return arguments}())?jr:function(t){return na(t)&&qt.call(t,"callee")&&!te.call(t,"callee")},Vs=r.isArray,Gs=he?He(he):function(t){return na(t)&&zr(t)==T};function $s(t){return null!=t&&ta(t.length)&&!Js(t)}function Xs(t){return na(t)&&$s(t)}var Zs=dn||mu,Ks=fe?He(fe):function(t){return na(t)&&zr(t)==_};function Ys(t){if(!na(t))return!1;var e=zr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Js(t){if(!ea(t))return!1;var e=zr(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==pa(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=de?He(de):function(t){return na(t)&&fo(t)==x};function ia(t){return"number"==typeof t||na(t)&&zr(t)==S}function oa(t){if(!na(t)||zr(t)!=z)return!1;var e=Gt(t);if(null===e)return!0;var n=qt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==It}var sa=ge?He(ge):function(t){return na(t)&&zr(t)==C},aa=pe?He(pe):function(t){return na(t)&&fo(t)==E};function ua(t){return"string"==typeof t||!Vs(t)&&na(t)&&zr(t)==M}function la(t){return"symbol"==typeof t||na(t)&&zr(t)==O}var ca=ve?He(ve):function(t){return na(t)&&ta(t.length)&&!!Jt[zr(t)]},ha=Ui(Nr),fa=Ui((function(t,e){return t<=e}));function da(t){if(!t)return[];if($s(t))return ua(t)?sn(t):Ei(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=fo(t);return(e==x?Qe:e==E?nn:Ba)(t)}function ga(t){return t?(t=ma(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=ga(t),n=e%1;return e==e?n?e-n:e:0}function va(t){return t?sr(pa(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(la(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=De(t);var n=gt.test(t);return n||vt.test(t)?ne(t.slice(2),n?2:8):dt.test(t)?f:+t}function _a(t){return Mi(t,qa(t))}function ya(t){return null==t?"":ai(t)}var ba=ji((function(t,e){if(xo(e)||$s(e))Mi(e,Aa(e),t);else for(var n in e)qt.call(e,n)&&tr(t,n,e[n])})),wa=ji((function(t,e){Mi(e,qa(e),t)})),xa=ji((function(t,e,n,r){Mi(e,qa(e),t,r)})),Sa=ji((function(t,e,n,r){Mi(e,Aa(e),t,r)})),za=to(or),ka=Xr((function(t,e){t=zt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=qa(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===i||Bs(h,jt[c])&&!qt.call(t,c))&&(t[c]=s[c])}return t})),Ca=Xr((function(t){return t.push(i,Yi),me(Ra,i,t)}));function Ea(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Ma(t,e){return null!=t&&go(t,e,Er)}var Oa=Wi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=n}),eu(iu)),ja=Wi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),qt.call(t,e)?t[e].push(n):t[e]=[n]}),so),Ta=Xr(Or);function Aa(t){return $s(t)?Zn(t):Rr(t)}function qa(t){return $s(t)?Zn(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in zt(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&qt.call(t,r))&&n.push(r);return n}(t)}var La=ji((function(t,e,n){Fr(t,e,n)})),Ra=ji((function(t,e,n,r){Fr(t,e,n,r)})),Na=to((function(t,e){var n={};if(null==t)return n;var r=!1;e=ke(e,(function(e){return e=mi(e,t),r||(r=e.length>1),e})),Mi(t,no(t),n),r&&(n=ar(n,7,Ji));for(var i=e.length;i--;)li(n,e[i]);return n})),Ia=to((function(t,e){return null==t?{}:function(t,e){return Hr(t,e,(function(e,n){return Ma(t,n)}))}(t,e)}));function Pa(t,e){if(null==t)return{};var n=ke(no(t),(function(t){return[t]}));return e=so(e),Hr(t,n,(function(t,n){return e(t,n[0])}))}var Wa=Xi(Aa),Fa=Xi(qa);function Ba(t){return null==t?[]:Ue(t,Aa(t))}var Da=Li((function(t,e,n){return e=e.toLowerCase(),t+(n?Ha(e):e)}));function Ha(t){return Ya(ya(t).toLowerCase())}function Ua(t){return(t=ya(t))&&t.replace(_t,Ze).replace(Vt,"")}var Va=Li((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ga=Li((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),$a=qi("toLowerCase"),Xa=Li((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Za=Li((function(t,e,n){return t+(n?" ":"")+Ya(e)})),Ka=Li((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ya=qi("toUpperCase");function Ja(t,e,n){return t=ya(t),(e=n?i:e)===i?function(t){return Zt.test(t)}(t)?function(t){return t.match($t)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=Xr((function(t,e){try{return me(t,i,e)}catch(t){return Ys(t)?t:new wt(t)}})),tu=to((function(t,e){return ye(e,(function(e){e=Po(e),ir(t,e,js(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Ii(),ru=Ii(!0);function iu(t){return t}function ou(t){return Lr("function"==typeof t?t:ar(t,1))}var su=Xr((function(t,e){return function(n){return Or(n,t,e)}})),au=Xr((function(t,e){return function(n){return Or(t,n,e)}}));function uu(t,e,n){var r=Aa(e),i=wr(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Aa(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Js(t);return ye(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ce([this.value()],arguments))})})),t}function lu(){}var cu=Bi(ke),hu=Bi(we),fu=Bi(Oe);function du(t){return yo(t)?Ie(Po(t)):function(t){return function(e){return xr(e,t)}}(t)}var gu=Hi(),pu=Hi(!0);function vu(){return[]}function mu(){return!1}var _u,yu=Fi((function(t,e){return t+e}),0),bu=Gi("ceil"),wu=Fi((function(t,e){return t/e}),1),xu=Gi("floor"),Su=Fi((function(t,e){return t*e}),1),zu=Gi("round"),ku=Fi((function(t,e){return t-e}),0);return Wn.after=function(t,e){if("function"!=typeof e)throw new Et(o);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Wn.ary=Ms,Wn.assign=ba,Wn.assignIn=wa,Wn.assignInWith=xa,Wn.assignWith=Sa,Wn.at=za,Wn.before=Os,Wn.bind=js,Wn.bindAll=tu,Wn.bindKey=Ts,Wn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},Wn.chain=ds,Wn.chunk=function(t,e,n){e=(n?_o(t,e,n):e===i)?1:mn(pa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(cn(o/e));s<o;)u[a++]=ei(t,s,s+=e);return u},Wn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Wn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ce(Vs(n)?Ei(n):[n],vr(e,1))},Wn.cond=function(t){var e=null==t?0:t.length,n=so();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Et(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var i=t[r];if(me(i[0],this,n))return me(i[1],this,n)}}))},Wn.conforms=function(t){return function(t){var e=Aa(t);return function(n){return ur(n,t,e)}}(ar(t,1))},Wn.constant=eu,Wn.countBy=vs,Wn.create=function(t,e){var n=Fn(t);return null==e?n:rr(n,e)},Wn.curry=function t(e,n,r){var o=Zi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Wn.curryRight=function t(e,n,r){var o=Zi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Wn.debounce=As,Wn.defaults=ka,Wn.defaultsDeep=Ca,Wn.defer=qs,Wn.delay=Ls,Wn.difference=Bo,Wn.differenceBy=Do,Wn.differenceWith=Ho,Wn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Wn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Wn.dropRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0,!0):[]},Wn.dropWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0):[]},Wn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&_o(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:va(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Wn.filter=function(t,e){return(Vs(t)?xe:pr)(t,so(e,3))},Wn.flatMap=function(t,e){return vr(zs(t,e),1)},Wn.flatMapDeep=function(t,e){return vr(zs(t,e),c)},Wn.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),vr(zs(t,e),n)},Wn.flatten=Go,Wn.flattenDeep=function(t){return null!=t&&t.length?vr(t,c):[]},Wn.flattenDepth=function(t,e){return null!=t&&t.length?vr(t,e=e===i?1:pa(e)):[]},Wn.flip=function(t){return Zi(t,512)},Wn.flow=nu,Wn.flowRight=ru,Wn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Wn.functions=function(t){return null==t?[]:wr(t,Aa(t))},Wn.functionsIn=function(t){return null==t?[]:wr(t,qa(t))},Wn.groupBy=ws,Wn.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Wn.intersection=Xo,Wn.intersectionBy=Zo,Wn.intersectionWith=Ko,Wn.invert=Oa,Wn.invertBy=ja,Wn.invokeMap=xs,Wn.iteratee=ou,Wn.keyBy=Ss,Wn.keys=Aa,Wn.keysIn=qa,Wn.map=zs,Wn.mapKeys=function(t,e){var n={};return e=so(e,3),yr(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},Wn.mapValues=function(t,e){var n={};return e=so(e,3),yr(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},Wn.matches=function(t){return Pr(ar(t,1))},Wn.matchesProperty=function(t,e){return Wr(t,ar(e,1))},Wn.memoize=Rs,Wn.merge=La,Wn.mergeWith=Ra,Wn.method=su,Wn.methodOf=au,Wn.mixin=uu,Wn.negate=Ns,Wn.nthArg=function(t){return t=pa(t),Xr((function(e){return Br(e,t)}))},Wn.omit=Na,Wn.omitBy=function(t,e){return Pa(t,Ns(so(e)))},Wn.once=function(t){return Os(2,t)},Wn.orderBy=function(t,e,n,r){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(n=r?i:n)||(n=null==n?[]:[n]),Dr(t,e,n))},Wn.over=cu,Wn.overArgs=Is,Wn.overEvery=hu,Wn.overSome=fu,Wn.partial=Ps,Wn.partialRight=Ws,Wn.partition=ks,Wn.pick=Ia,Wn.pickBy=Pa,Wn.property=du,Wn.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},Wn.pull=Jo,Wn.pullAll=Qo,Wn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,so(n,2)):t},Wn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,i,n):t},Wn.pullAt=ts,Wn.range=gu,Wn.rangeRight=pu,Wn.rearg=Fs,Wn.reject=function(t,e){return(Vs(t)?xe:pr)(t,Ns(so(e,3)))},Wn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=so(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Vr(t,i),n},Wn.rest=function(t,e){if("function"!=typeof t)throw new Et(o);return Xr(t,e=e===i?e:pa(e))},Wn.reverse=es,Wn.sampleSize=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:pa(e),(Vs(t)?Yn:Kr)(t,e)},Wn.set=function(t,e,n){return null==t?t:Yr(t,e,n)},Wn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Yr(t,e,n,r)},Wn.shuffle=function(t){return(Vs(t)?Jn:ti)(t)},Wn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_o(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ei(t,e,n)):[]},Wn.sortBy=Cs,Wn.sortedUniq=function(t){return t&&t.length?oi(t):[]},Wn.sortedUniqBy=function(t,e){return t&&t.length?oi(t,so(e,2)):[]},Wn.split=function(t,e,n){return n&&"number"!=typeof n&&_o(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ai(e))&&Je(t)?yi(sn(t),0,n):t.split(e,n):[]},Wn.spread=function(t,e){if("function"!=typeof t)throw new Et(o);return e=null==e?0:mn(pa(e),0),Xr((function(n){var r=n[e],i=yi(n,0,e);return r&&Ce(i,r),me(t,this,i)}))},Wn.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Wn.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Wn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Wn.takeRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!1,!0):[]},Wn.takeWhile=function(t,e){return t&&t.length?hi(t,so(e,3)):[]},Wn.tap=function(t,e){return e(t),t},Wn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Et(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),As(t,e,{leading:r,maxWait:e,trailing:i})},Wn.thru=gs,Wn.toArray=da,Wn.toPairs=Wa,Wn.toPairsIn=Fa,Wn.toPath=function(t){return Vs(t)?ke(t,Po):la(t)?[t]:Ei(Io(ya(t)))},Wn.toPlainObject=_a,Wn.transform=function(t,e,n){var r=Vs(t),i=r||Zs(t)||ca(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ea(t)&&Js(o)?Fn(Gt(t)):{}}return(i?ye:yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Wn.unary=function(t){return Ms(t,1)},Wn.union=ns,Wn.unionBy=rs,Wn.unionWith=is,Wn.uniq=function(t){return t&&t.length?ui(t):[]},Wn.uniqBy=function(t,e){return t&&t.length?ui(t,so(e,2)):[]},Wn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Wn.unset=function(t,e){return null==t||li(t,e)},Wn.unzip=os,Wn.unzipWith=ss,Wn.update=function(t,e,n){return null==t?t:ci(t,e,vi(n))},Wn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,vi(n),r)},Wn.values=Ba,Wn.valuesIn=function(t){return null==t?[]:Ue(t,qa(t))},Wn.without=as,Wn.words=Ja,Wn.wrap=function(t,e){return Ps(vi(e),t)},Wn.xor=us,Wn.xorBy=ls,Wn.xorWith=cs,Wn.zip=hs,Wn.zipObject=function(t,e){return gi(t||[],e||[],tr)},Wn.zipObjectDeep=function(t,e){return gi(t||[],e||[],Yr)},Wn.zipWith=fs,Wn.entries=Wa,Wn.entriesIn=Fa,Wn.extend=wa,Wn.extendWith=xa,uu(Wn,Wn),Wn.add=yu,Wn.attempt=Qa,Wn.camelCase=Da,Wn.capitalize=Ha,Wn.ceil=bu,Wn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))==n?n:0),e!==i&&(e=(e=ma(e))==e?e:0),sr(ma(t),e,n)},Wn.clone=function(t){return ar(t,4)},Wn.cloneDeep=function(t){return ar(t,5)},Wn.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},Wn.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},Wn.conformsTo=function(t,e){return null==e||ur(t,e,Aa(e))},Wn.deburr=Ua,Wn.defaultTo=function(t,e){return null==t||t!=t?e:t},Wn.divide=wu,Wn.endsWith=function(t,e,n){t=ya(t),e=ai(e);var r=t.length,o=n=n===i?r:sr(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Wn.eq=Bs,Wn.escape=function(t){return(t=ya(t))&&X.test(t)?t.replace(G,Ke):t},Wn.escapeRegExp=function(t){return(t=ya(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Wn.every=function(t,e,n){var r=Vs(t)?we:dr;return n&&_o(t,e,n)&&(e=i),r(t,so(e,3))},Wn.find=ms,Wn.findIndex=Uo,Wn.findKey=function(t,e){return Te(t,so(e,3),yr)},Wn.findLast=_s,Wn.findLastIndex=Vo,Wn.findLastKey=function(t,e){return Te(t,so(e,3),br)},Wn.floor=xu,Wn.forEach=ys,Wn.forEachRight=bs,Wn.forIn=function(t,e){return null==t?t:mr(t,so(e,3),qa)},Wn.forInRight=function(t,e){return null==t?t:_r(t,so(e,3),qa)},Wn.forOwn=function(t,e){return t&&yr(t,so(e,3))},Wn.forOwnRight=function(t,e){return t&&br(t,so(e,3))},Wn.get=Ea,Wn.gt=Ds,Wn.gte=Hs,Wn.has=function(t,e){return null!=t&&go(t,e,Cr)},Wn.hasIn=Ma,Wn.head=$o,Wn.identity=iu,Wn.includes=function(t,e,n,r){t=$s(t)?t:Ba(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&qe(t,e,n)>-1},Wn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),qe(t,e,i)},Wn.inRange=function(t,e,n){return e=ga(e),n===i?(n=e,e=0):n=ga(n),function(t,e,n){return t>=_n(e,n)&&t<mn(e,n)}(t=ma(t),e,n)},Wn.invoke=Ta,Wn.isArguments=Us,Wn.isArray=Vs,Wn.isArrayBuffer=Gs,Wn.isArrayLike=$s,Wn.isArrayLikeObject=Xs,Wn.isBoolean=function(t){return!0===t||!1===t||na(t)&&zr(t)==m},Wn.isBuffer=Zs,Wn.isDate=Ks,Wn.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},Wn.isEmpty=function(t){if(null==t)return!0;if($s(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||ca(t)||Us(t)))return!t.length;var e=fo(t);if(e==x||e==E)return!t.size;if(xo(t))return!Rr(t).length;for(var n in t)if(qt.call(t,n))return!1;return!0},Wn.isEqual=function(t,e){return Tr(t,e)},Wn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Tr(t,e,i,n):!!r},Wn.isError=Ys,Wn.isFinite=function(t){return"number"==typeof t&&gn(t)},Wn.isFunction=Js,Wn.isInteger=Qs,Wn.isLength=ta,Wn.isMap=ra,Wn.isMatch=function(t,e){return t===e||Ar(t,e,uo(e))},Wn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Ar(t,e,uo(e),n)},Wn.isNaN=function(t){return ia(t)&&t!=+t},Wn.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qr(t)},Wn.isNil=function(t){return null==t},Wn.isNull=function(t){return null===t},Wn.isNumber=ia,Wn.isObject=ea,Wn.isObjectLike=na,Wn.isPlainObject=oa,Wn.isRegExp=sa,Wn.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=h},Wn.isSet=aa,Wn.isString=ua,Wn.isSymbol=la,Wn.isTypedArray=ca,Wn.isUndefined=function(t){return t===i},Wn.isWeakMap=function(t){return na(t)&&fo(t)==j},Wn.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==zr(t)},Wn.join=function(t,e){return null==t?"":pn.call(t,e)},Wn.kebabCase=Va,Wn.last=Yo,Wn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?mn(r+o,0):_n(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ae(t,Re,o,!0)},Wn.lowerCase=Ga,Wn.lowerFirst=$a,Wn.lt=ha,Wn.lte=fa,Wn.max=function(t){return t&&t.length?gr(t,iu,kr):i},Wn.maxBy=function(t,e){return t&&t.length?gr(t,so(e,2),kr):i},Wn.mean=function(t){return Ne(t,iu)},Wn.meanBy=function(t,e){return Ne(t,so(e,2))},Wn.min=function(t){return t&&t.length?gr(t,iu,Nr):i},Wn.minBy=function(t,e){return t&&t.length?gr(t,so(e,2),Nr):i},Wn.stubArray=vu,Wn.stubFalse=mu,Wn.stubObject=function(){return{}},Wn.stubString=function(){return""},Wn.stubTrue=function(){return!0},Wn.multiply=Su,Wn.nth=function(t,e){return t&&t.length?Br(t,pa(e)):i},Wn.noConflict=function(){return oe._===this&&(oe._=Pt),this},Wn.noop=lu,Wn.now=Es,Wn.pad=function(t,e,n){t=ya(t);var r=(e=pa(e))?on(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Di(hn(i),n)+t+Di(cn(i),n)},Wn.padEnd=function(t,e,n){t=ya(t);var r=(e=pa(e))?on(t):0;return e&&r<e?t+Di(e-r,n):t},Wn.padStart=function(t,e,n){t=ya(t);var r=(e=pa(e))?on(t):0;return e&&r<e?Di(e-r,n)+t:t},Wn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ya(t).replace(rt,""),e||0)},Wn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_o(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ga(t),e===i?(e=t,t=0):e=ga(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return _n(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Gr(t,e)},Wn.reduce=function(t,e,n){var r=Vs(t)?Ee:We,i=arguments.length<3;return r(t,so(e,4),n,i,hr)},Wn.reduceRight=function(t,e,n){var r=Vs(t)?Me:We,i=arguments.length<3;return r(t,so(e,4),n,i,fr)},Wn.repeat=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:pa(e),$r(ya(t),e)},Wn.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Wn.result=function(t,e,n){var r=-1,o=(e=mi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Po(e[r])];s===i&&(r=o,s=n),t=Js(s)?s.call(t):s}return t},Wn.round=zu,Wn.runInContext=t,Wn.sample=function(t){return(Vs(t)?Kn:Zr)(t)},Wn.size=function(t){if(null==t)return 0;if($s(t))return ua(t)?on(t):t.length;var e=fo(t);return e==x||e==E?t.size:Rr(t).length},Wn.snakeCase=Xa,Wn.some=function(t,e,n){var r=Vs(t)?Oe:ni;return n&&_o(t,e,n)&&(e=i),r(t,so(e,3))},Wn.sortedIndex=function(t,e){return ri(t,e)},Wn.sortedIndexBy=function(t,e,n){return ii(t,e,so(n,2))},Wn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&Bs(t[r],e))return r}return-1},Wn.sortedLastIndex=function(t,e){return ri(t,e,!0)},Wn.sortedLastIndexBy=function(t,e,n){return ii(t,e,so(n,2),!0)},Wn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(Bs(t[n],e))return n}return-1},Wn.startCase=Za,Wn.startsWith=function(t,e,n){return t=ya(t),n=null==n?0:sr(pa(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},Wn.subtract=ku,Wn.sum=function(t){return t&&t.length?Fe(t,iu):0},Wn.sumBy=function(t,e){return t&&t.length?Fe(t,so(e,2)):0},Wn.template=function(t,e,n){var r=Wn.templateSettings;n&&_o(t,e,n)&&(e=i),t=ya(t),e=xa({},e,r,Ki);var o,s,a=xa({},e.imports,r.imports,Ki),u=Aa(a),l=Ue(a,u),c=0,h=e.interpolate||yt,f="__p += '",d=kt((e.escape||yt).source+"|"+h.source+"|"+(h===Y?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),g="//# sourceURL="+(qt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yt+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),f+=t.slice(c,u).replace(bt,Ye),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var p=qt.call(e,"variable")&&e.variable;if(p){if(lt.test(p))throw new wt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(D,""):f).replace(H,"$1").replace(U,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qa((function(){return xt(u,g+"return "+f).apply(i,l)}));if(v.source=f,Ys(v))throw v;return v},Wn.times=function(t,e){if((t=pa(t))<1||t>h)return[];var n=d,r=_n(t,d);e=so(e),t-=d;for(var i=Be(r,e);++n<t;)e(n);return i},Wn.toFinite=ga,Wn.toInteger=pa,Wn.toLength=va,Wn.toLower=function(t){return ya(t).toLowerCase()},Wn.toNumber=ma,Wn.toSafeInteger=function(t){return t?sr(pa(t),-9007199254740991,h):0===t?t:0},Wn.toString=ya,Wn.toUpper=function(t){return ya(t).toUpperCase()},Wn.trim=function(t,e,n){if((t=ya(t))&&(n||e===i))return De(t);if(!t||!(e=ai(e)))return t;var r=sn(t),o=sn(e);return yi(r,Ge(r,o),$e(r,o)+1).join("")},Wn.trimEnd=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.slice(0,an(t)+1);if(!t||!(e=ai(e)))return t;var r=sn(t);return yi(r,0,$e(r,sn(e))+1).join("")},Wn.trimStart=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=sn(t);return yi(r,Ge(r,sn(e))).join("")},Wn.truncate=function(t,e){var n=30,r="...";if(ea(e)){var o="separator"in e?e.separator:o;n="length"in e?pa(e.length):n,r="omission"in e?ai(e.omission):r}var s=(t=ya(t)).length;if(Je(t)){var a=sn(t);s=a.length}if(n>=s)return t;var u=n-on(r);if(u<1)return r;var l=a?yi(a,0,u).join(""):t.slice(0,u);if(o===i)return l+r;if(a&&(u+=l.length-u),sa(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=kt(o.source,ya(ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(t.indexOf(ai(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},Wn.unescape=function(t){return(t=ya(t))&&$.test(t)?t.replace(V,un):t},Wn.uniqueId=function(t){var e=++Lt;return ya(t)+e},Wn.upperCase=Ka,Wn.upperFirst=Ya,Wn.each=ys,Wn.eachRight=bs,Wn.first=$o,uu(Wn,(_u={},yr(Wn,(function(t,e){qt.call(Wn.prototype,e)||(_u[e]=t)})),_u),{chain:!1}),Wn.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Wn[t].placeholder=Wn})),ye(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:mn(pa(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,d),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ye(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(iu)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Or(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Ns(so(t)))},Hn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(d)},yr(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Wn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Wn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Hn,l=a[0],c=u||Vs(e),h=function(t){var e=o.apply(Wn,Ce([t],a));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,g=s&&!f,p=u&&!d;if(!s&&c){e=p?e:new Hn(this);var v=t.apply(e,a);return v.__actions__.push({func:gs,args:[h],thisArg:i}),new Dn(v,f)}return g&&p?t.apply(this,a):(v=this.thru(h),g?r?v.value()[0]:v.value():v)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Wn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[n]((function(n){return e.apply(Vs(n)?n:[],t)}))}})),yr(Hn.prototype,(function(t,e){var n=Wn[e];if(n){var r=n.name+"";qt.call(jn,r)||(jn[r]=[]),jn[r].push({name:e,func:n})}})),jn[Pi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Ei(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ei(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ei(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Vs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=_n(e,t+s);break;case"takeRight":t=mn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=_n(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return fi(t,this.__actions__);var g=[];t:for(;u--&&f<d;){for(var p=-1,v=t[l+=e];++p<h;){var m=c[p],_=m.iteratee,y=m.type,b=_(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}g[f++]=v}return g},Wn.prototype.at=ps,Wn.prototype.chain=function(){return ds(this)},Wn.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},Wn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Wn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Fo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Wn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:gs,args:[es],thisArg:i}),new Dn(e,this.__chain__)}return this.thru(es)},Wn.prototype.toJSON=Wn.prototype.valueOf=Wn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Wn.prototype.first=Wn.prototype.head,se&&(Wn.prototype[se]=function(){return this}),Wn}();oe._=ln,(r=function(){return ln}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},460:(t,e,n)=>{t.exports=n(6925)},6925:(t,e,n)=>{var r,i;r=n(2452),i=n(4791),t.exports=i.extend({initialize:function(t){this._nodes=[],this.name=t.name||"",this.el.className+="smenubar"},render:function(){for(var t=this.el.firstChild;t;)this.el.removeChild(t),t=this.el.firstChild;this.el.appendChild(this.buildDOM())},setName:function(t){this.name=t},addNode:function(t,e,n){var r;null!=n&&(r=n.style),null==this._nodes&&(this._nodes=[]),this._nodes.push({label:t,callback:e,style:r})},getNode:function(t){var e=void 0;return this._nodes.forEach((function(n){n.label===t&&(e=n)})),e},modifyNode:function(t,e,n){var r=this.getNode(t);r.callback=e||r.callback,n=n||{},r.style=n.style||r.style},renameNode:function(t,e){var n=this.getNode(t);n.label=e||n.label},removeNode:function(t){var e=this.getNode(t);this._nodes.splice(this._nodes.indexOf(e),1)},removeAllNodes:function(){this._nodes=[]},buildDOM:function(){var t=document.createElement("span");return t.appendChild(this._buildM({nodes:this._nodes,name:this.name})),t},_buildM:function(t){var e,n,i,o,s,a,u,l=t.nodes,c=t.name,h=document.createElement("div");h.className="smenu-dropdown smenu-dropdown-tip",h.style.display="none";var f,d=document.createElement("ul");d.className="smenu-dropdown-menu";for(var g=0,p=l.length;g<p;g++){for(i in s=l[g],(o=document.createElement("li")).textContent=s.label,u=s.style)a=u[i],o.style[i]=a;o.addEventListener("click",s.callback),this.trigger("new:node",o),d.appendChild(o)}return this.trigger("new:menu",d),h.appendChild(d),(e=document.createElement("a")).textContent=c,e.className="smenubar_alink",this.trigger("new:button",e),r(e).on("click",(f=this,function(t){return f._showMenu(t,h,e),window.setTimeout((function(){return r(document.body).one("click",(function(t){return h.style.display="none"}))}),5)})),(n=document.createDocumentFragment()).appendChild(h),n.appendChild(e),n},_showMenu:function(t,e,n){var r;e.style.display="block",e.style.position="absolute",r=n.getBoundingClientRect(),e.style.left=r.left+"px",e.style.top=r.top+n.offsetHeight+"px"}})},3264:t=>{t.exports={rel:function(t){var e,n,r,i;if(e=t.offsetX,n=t.offsetY,null!=e||(r=i.getBoundingClientRect(),i=t.target||t.srcElement,null==e&&(e=t.clientX-r.left,n=t.clientY-r.top),null==e&&(e=t.pageX-i.offsetLeft,n=t.pageY-i.offsetTop),null!=e))return[e,n];console.log(t,"no mouse event defined. your browser sucks")},abs:function(t){var e,n;return e=t.pageX,n=t.pageY,null==e&&(e=t.layerX,n=t.layerY),null==e&&(e=t.clientX,n=t.clientY),null==e&&(e=t.x,n=t.y),[e,n]},wheelDelta:function(t){var e;return null==(e=[t.deltaX,t.deltaY])[0]&&t.mozMovementX&&(e=[0,t.mozMovementX]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e}}},5530:t=>{t.exports={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"}},7425:t=>{t.exports={A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"}},5838:t=>{t.exports={A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"}},158:t=>{t.exports={A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"}},8821:t=>{t.exports={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"}},6937:t=>{t.exports={A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"}},4348:(t,e,n)=>{var r=n(9603),i=r.stat,o=r.dyn,s=n(5530),a=n(7425),u=n(5838),l=n(158),c=n(8821),h=n(6937),f=n(8460),d=n(5405),g=n(8379),p=n(1068),v=n(3635),m=n(589),_=n(984),y={buried:s,buried_index:s,cinema:a,clustal2:l,clustal:u,helix:c,helix_propensity:c,hydro:h,lesk:f,mae:d,nucleotide:g,purine:p,purine_pyrimidine:p,strand:v,strand_propensity:v,taylor:m,turn:_,turn_propensity:_,zappo:n(6720)},b={pid:n(8743)},w=function(t){this.maps=x(y),this.dyn=x(b),this.opt=t};function x(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.exports=w,w.getScheme=function(t){return y[t]},w.prototype.getScheme=function(t){var e=this.maps[t];return void 0===e&&(e={},null!=this.dyn[t])?new o(this.dyn[t],this.opt):new i(e)},w.prototype.addStaticScheme=function(t,e){this.maps[t]=e},w.prototype.addDynScheme=function(t,e){this.dyn[t]=e}},8460:t=>{t.exports={A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"}},5405:t=>{t.exports={A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"}},8379:t=>{t.exports={A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"}},8743:t=>{var e;t.exports=e={},e.init=function(){this.cons=this.opt.conservation()},e.run=function(t,e){var n=this.cons[e.pos];return n>.8?"#6464ff":n>.6?"#9da5ff":n>.4?"#cccccc":"#ffffff"}},1068:t=>{t.exports={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"}},9603:t=>{t.exports.stat=function(t){this.defaultColor="#ffffff",this.type="static",this.map=t,this.getColor=function(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}},t.exports.dyn=function(t,e){this.type="dyn",this.opt=e,void 0!==t.init?(t.init.call(this),this.getColor=t.run,this.reset=t.init):this.getColor=t}},3635:t=>{t.exports={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"}},589:t=>{t.exports={A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"}},984:t=>{t.exports={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"}},6720:t=>{t.exports={A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},3539:(t,e,n)=>{"use strict";var r=n(2908).Model;n(7531),t.exports=r.extend({constructor:function(t,e){return this.g=e.g,r.apply(this,arguments),this},defaults:{currentSize:5,step:1,originalSize:!1,scaleCategories:[{columnWidth:1,markerStepSize:20,stepSize:0},{columnWidth:3,markerStepSize:20,stepSize:0},{columnWidth:5,markerStepSize:10,stepSize:0},{columnWidth:9,markerStepSize:5,stepSize:1},{columnWidth:15,markerStepSize:2,stepSize:1},{columnWidth:20,markerStepSize:1,stepSize:1},{columnWidth:30,markerStepSize:1,stepSize:1},{columnWidth:45,markerStepSize:1,stepSize:1}]},initialize:function(t){var e=this.get("scaleCategories"),n=this.g.zoomer.get("columnWidth")||this._getScaleInfo().columnWidth,r=_.find(e,{columnWidth:n});if(!r){var i=this._insertScaleCategory(n);r=e[i],this.set("currentSize",i+1)}var o=this.get("currentSize");return this.set("originalSize",o),this.setSize(o),this},_insertScaleCategory:function(t){var e=this.get("scaleCategories"),n=_.findLastIndex(e,(function(e){return e.columnWidth<t})),r=e[n],i=n+1,o={columnWidth:t,markerStepSize:r.markerStepSize,stepSize:r.markerStepSize};return e.splice(i,0,o),this.set("scaleCategories",e),i},getSizeRange:function(){return[1,this.get("scaleCategories").length]},bigger:function(){return this.setSize(this.get("currentSize")+this.get("step"))},smaller:function(){return this.setSize(this.get("currentSize")-this.get("step"))},reset:function(){return this.setSize(this.get("originalSize"))},setSize:function(t){var e=this.getSizeRange();t=(t=parseInt(t))<e[0]?e[0]:t>e[1]?e[1]:t,this.set("currentSize",t);var n=this._getScaleInfo();return this.g.zoomer.set({columnWidth:n.columnWidth,stepSize:n.stepSize,markerStepSize:n.markerStepSize}),this},getSize:function(){return this.get("currentSize")},_getScaleInfo:function(){var t=this.getSize(),e=this.get("scaleCategories");if(t>0&&t<=e.length)return e[t-1];console.error("out of bounds")}})},6293:(t,e,n)=>{"use strict";var r=n(4348),i=n(2908).Model;t.exports=i.extend({defaults:{scheme:"taylor",colorBackground:!0,showLowerCase:!0,opacity:.6},initialize:function(t,e,n){return this.colors=new r({seqs:e,conservation:function(){return n.scale(n.conservation())}}),n.on("reset",(function(){if("dyn"===this.getSelectedScheme().type&&this.getSelectedScheme().indexOf("reset")>=0)return this.getSelectedScheme().reset()}),this)},addStaticScheme:function(t,e){return this.colors.addStaticScheme(t,e)},addDynScheme:function(t,e){return this.colors.addDynScheme(t,e)},getScheme:function(t){return this.colors.getScheme(t)},getSelectedScheme:function(){return this.colors.getScheme(this.get("scheme"))}})},1189:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({initialize:function(t,e){return null==this.get("hidden")&&this.set("hidden",[]),this.stats=e},calcHiddenColumns:function(t){for(var e=this.get("hidden"),n=t,r=0;r<e.length;r++)e[r]<=n&&n++;return n-t}})},8499:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({defaults:{registerMouseHover:!1,registerMouseClicks:!0,importProxy:"https://cors-anywhere.herokuapp.com/",importProxyStripHttp:!0,eventBus:!0,alphabetSize:20,dropImport:!1,debug:!1,hasRef:!1,bootstrapMenu:!1,manualRendering:!1}})},5414:(t,e,n)=>{"use strict";var r=n(3790),i=n(2908).Model;t.exports=i.extend({initialize:function(t){return this.g=t},development:{"msa-tnt":"/node_modules/msa-tnt/build/bundle.js","biojs-io-newick":"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js"},loadPackage:function(t,e){try{return e(n(4674)(t))}catch(n){return r.default.loadScript(this._pkgURL(t),e)}},loadPackages:function(t,e){var n=this,i=r.default.joinCb((function(){return e()}),t.length);return t.forEach((function(t){return n.loadPackage(t,i)}))},_pkgURL:function(t){if(this.g.config.get("debug"))var e=this.development[t];else e="http://wzrd.in/bundle/"+t+"@latest";return e}})},6129:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.columnsel=e.rowsel=e.possel=e.sel=void 0;var r=n(6635),i=n(2908).Model.extend({defaults:{type:"super"}}),o=i.extend({defaults:(0,r.extend)({},i.prototype.defaults,{type:"row",seqId:""}),inRow:function(t){return t===this.get("seqId")},inColumn:function(t){return!0},getLength:function(){return 1}}),s=i.extend({defaults:(0,r.extend)({},i.prototype.defaults,{type:"column",xStart:-1,xEnd:-1}),inRow:function(){return!0},inColumn:function(t){return xStart<=t&&t<=xEnd},getLength:function(){return xEnd-xStart}}),a=o.extend((0,r.extend)({},(0,r.pick)(s,"inColumn"),(0,r.pick)(s,"getLength"),{defaults:(0,r.extend)({},s.prototype.defaults,o.prototype.defaults,{type:"pos"})}));e.sel=i,e.possel=a,e.rowsel=o,e.columnsel=s},2213:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6129),i=n(6635),o=n(2908).Collection.extend({model:r.sel,initialize:function(t,e){if(null!=e)return this.g=e.g,this.listenTo(this.g,"residue:click",(function(t){return this._handleE(t.evt,new r.possel({xStart:t.rowPos,xEnd:t.rowPos,seqId:t.seqId}))})),this.listenTo(this.g,"row:click",(function(t){return this._handleE(t.evt,new r.rowsel({seqId:t.seqId}))})),this.listenTo(this.g,"column:click",(function(t){return this._handleE(t.evt,new r.columnsel({xStart:t.rowPos,xEnd:t.rowPos+t.stepSize-1}))}))},getSelForRow:function(t){return this.filter((function(e){return e.inRow(t)}))},getSelForColumns:function(t){return this.filter((function(e){return e.inColumn(t)}))},addJSON:function(t){return this.add(this._fromJSON(t))},_fromJSON:function(t){switch(t.type){case"column":return new r.columnsel(t);case"row":return new r.rowsel(t);case"pos":return new r.possel(t)}},resetJSON:function(t){return t=t.map(this._fromJSON),this.reset(t)},getBlocksForRow:function(t,e){for(var n=this.filter((function(e){return e.inRow(t)})),r=[],i=function(t,i){if("row"===(i=n[t]).attributes.type)return r=function(){var t=[],n=0;if(0<=e)for(;n<=e;)t.push(n++);else for(;n>=e;)t.push(n--);return t}(),"break";r=r.concat(function(){var t=[],e=i.attributes.xStart;if(i.attributes.xStart<=i.attributes.xEnd)for(;e<=i.attributes.xEnd;)t.push(e++);else for(;e>=i.attributes.xEnd;)t.push(e--);return t}())},o=0;o<n.length&&"break"!==i(o,void 0);o++);return r},getAllColumnBlocks:function(t){t.maxLen,t.withPos;var e,n=[];e=t.withPos?this.filter((function(t){return null!=t.get("xStart")})):this.filter((function(t){return"column"===t.get("type")}));for(var r=function(t,r){r=e[t],n=n.concat(function(){var t=[],e=r.attributes.xStart;if(r.attributes.xStart<=r.attributes.xEnd)for(;e<=r.attributes.xEnd;)t.push(e++);else for(;e>=r.attributes.xEnd;)t.push(e--);return t}())},o=0;o<e.length;o++)r(o,void 0);return n=(0,i.uniq)(n)},invertRow:function(t){var e=this.where({type:"row"});e=e.map((function(t){return t.attributes.seqId}));for(var n=(0,i.filter)(t,(function(t){return!(e.indexOf(t)>=0)})),o=[],s=0;s<n.length;s++){var a=n[s];o.push(new r.rowsel({seqId:a}))}return this.reset(o)},invertCol:function(t){var e=this.where({type:"column"}).reduce((function(t,e){return t.concat(function(){var t=[],n=e.attributes.xStart;if(e.attributes.xStart<=e.attributes.xEnd)for(;n<=e.attributes.xEnd;)t.push(n++);else for(;n>=e.attributes.xEnd;)t.push(n--);return t}())}),[]),n=(0,i.filter)(t,(function(t){return!(e.indexOf(t)>=0)}));if(0!==n.length){for(var o,s=[],a=n[0],u=a,l=0;l<n.length;l++)u+1===(o=n[l])?u=o:(s.push(new r.columnsel({xStart:a,xEnd:u})),a=u=o);return a!==u&&s.push(new r.columnsel({xStart:a,xEnd:n[n.length-1]})),this.reset(s)}},_handleE:function(t,e){return t.ctrlKey||t.metaKey?this.add(e):this.reset([e])},_reduceColumns:function(){return this.each((function(t,e,n){for(var r=(0,i.filter)(n,(function(t){return"column"===t.get("type")})),o=t.get("xStart"),s=t.get("xEnd"),a=(0,i.filter)(r,(function(t){return t.get("xEnd")===o-1})),u=0;u<a.length;u++)a[u].set("xEnd",o);for(var l=(0,i.filter)(r,(function(t){return t.get("xStart")===s+1})),c=0;c<l.length;c++)l[c].set("xStart",s);if(a.length>0||l.length>0)return console.log("removed el"),t.collection.remove(t)}))}});e.default=o},8350:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({defaults:{searchText:""}})},4856:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({defaults:{searchBox:-10,overviewBox:30,headerBox:-1,alignmentBody:0,scaleSlider:50}})},3547:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({defaults:{sequences:!0,markers:!0,metacell:!1,conserv:!1,overviewbox:!1,seqlogo:!1,gapHeader:!1,leftHeader:!0,scaleslider:!1,labels:!0,labelName:!0,labelId:!0,labelPartition:!1,labelCheckbox:!1,metaGaps:!0,metaIdentity:!0,metaLinks:!0},constructor:function(t,e){return this.calcDefaults(e.model),r.apply(this,arguments)},initialize:function(){return this.listenTo(this,"change:metaLinks change:metaIdentity change:metaGaps",(function(){return this.trigger("change:metacell")}),this),this.listenTo(this,"change:labelName change:labelId change:labelPartition change:labelCheckbox",(function(){return this.trigger("change:labels")}),this),this.listenTo(this,"change:markers change:conserv change:seqlogo change:gapHeader",(function(){return this.trigger("change:header")}),this)},calcDefaults:function(t){if(t.length>0){var e=t.at(0).get("ids");if(void 0!==e&&0===Object.keys(e).length)return this.defaults.metaLinks=!1}}})},4696:(t,e,n)=>{"use strict";var r=n(2908).Model;t.exports=r.extend({constructor:function(t,e){return this.calcDefaults(e.model),r.apply(this,arguments),this.g=e.g,this.listenTo(this,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",(function(){return this.trigger("change:labelWidth",this.getLabelWidth())}),this),this.listenTo(this,"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth",(function(){return this.trigger("change:metaWidth",this.getMetaWidth())}),this),this},defaults:{alignmentWidth:"auto",alignmentHeight:225,columnWidth:15,rowHeight:15,autoResize:!0,labelIdLength:20,labelNameLength:100,labelPartLength:15,labelCheckLength:15,labelFontsize:13,labelLineHeight:"13px",markerFontsize:"10px",stepSize:1,markerStepSize:2,markerHeight:20,residueFont:"13",canvasEventScale:1,minLetterDrawSize:11,boxRectHeight:2,boxRectWidth:2,overviewboxPaddingTop:10,metaGapWidth:35,metaIdentWidth:40,_alignmentScrollLeft:0,_alignmentScrollTop:0},calcDefaults:function(t){return t.getMaxLength()<200&&t.length<30&&(this.defaults.boxRectWidth=this.defaults.boxRectHeight=5),this},getAlignmentWidth:function(t){return this.get("autoResize")&&void 0!==t?this.get("columnWidth")*t:void 0===this.get("alignmentWidth")||"auto"===this.get("alignmentWidth")||0===this.get("alignmentWidth")?this._adjustWidth():this.get("alignmentWidth")},setLeftOffset:function(t){var e=t;return e=Math.max(0,e),e-=this.g.columns.calcHiddenColumns(e),this.set("_alignmentScrollLeft",e*this.get("columnWidth"))},setTopOffset:function(t){for(var e=Math.max(0,t-1),n=0,r=0;0<e?r<=e:r>=e;0<e?r++:r--)n+=this.model.at(r).attributes.height||1;return this.set("_alignmentScrollTop",n*this.get("rowHeight"))},getLeftBlockWidth:function(){var t=0;return this.g.vis.get("labels")&&(t+=this.getLabelWidth()),this.g.vis.get("metacell")&&(t+=this.getMetaWidth()),t},getMetaWidth:function(){var t=0;return this.g.vis.get("metaGaps")&&(t+=this.get("metaGapWidth")),this.g.vis.get("metaIdentity")&&(t+=this.get("metaIdentWidth")),this.g.vis.get("metaLinks")&&(t+=this.get("metaLinksWidth")),t},getLabelWidth:function(){var t=0;return this.g.vis.get("labelName")&&(t+=this.get("labelNameLength")),this.g.vis.get("labelId")&&(t+=this.get("labelIdLength")),this.g.vis.get("labelPartition")&&(t+=this.get("labelPartLength")),this.g.vis.get("labelCheckbox")&&(t+=this.get("labelCheckLength")),t},_adjustWidth:function(){if(void 0!==this.el&&void 0!==this.model){if(null!=this.el.parentNode&&0!==this.el.parentNode.offsetWidth)var t=this.el.parentNode.offsetWidth;else t=document.body.clientWidth-35;var e=t-this.getLeftBlockWidth(),n=this.getAlignmentWidth(this.model.getMaxLength()-this.g.columns.get("hidden").length),r=Math.min(e,n);return r=Math.floor(r/this.get("columnWidth"))*this.get("columnWidth"),this.attributes.alignmentWidth=r}},autoResize:function(){if(this.get("autoResize"))return this._adjustWidth(this.el,this.model)},autoHeight:function(t){var e=this.getMaxAlignmentHeight();return void 0!==t&&t>0&&(e=Math.min(e,t)),this.set("alignmentHeight",e)},setEl:function(t,e){return this.el=t,this.model=e},_checkScrolling:function(t,e){var n=t[0],r=t[1];return this.set("_alignmentScrollLeft",n,e),this.set("_alignmentScrollTop",r,e)},getMaxAlignmentHeight:function(){var t=0;return this.model.each((function(e){return t+=e.attributes.height||1})),t*this.get("rowHeight")},getMaxAlignmentWidth:function(){return this.model.getMaxLength()*this.get("columnWidth")}})},9681:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.io=e.$=e.boneView=e.view=e.selcol=e.selection=e.utils=e.menu=e.model=e.msa=void 0;var r=n(6129);Object.defineProperty(e,"selection",{enumerable:!0,get:function(){return g(r).default}});var i=n(2213);Object.defineProperty(e,"selcol",{enumerable:!0,get:function(){return g(i).default}});var o=n(4791);Object.defineProperty(e,"view",{enumerable:!0,get:function(){return g(o).default}});var s=n(4722);Object.defineProperty(e,"boneView",{enumerable:!0,get:function(){return g(s).default}});var a=n(2452);Object.defineProperty(e,"$",{enumerable:!0,get:function(){return g(a).default}});var u=g(n(1753)),l=d(n(7048)),c=d(n(8381)),h=d(n(2118)),f=n(4300);function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=function(t){return u.default.apply(this,t)};return t.prototype=u.default.prototype,new t(arguments)},e.msa=u.default,e.model=l,e.menu=c,e.utils=h;var p={xhr:n(6290),fasta:f.fasta,clustal:f.clustal,gff:f.gff};e.io=p;var v="imported";"undefined"!=typeof MSA_VERSION&&(v=MSA_VERSION),e.version=v},2286:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(9847)),i=g(n(9742)),o=g(n(5394)),s=g(n(7957)),a=g(n(5507)),u=g(n(6640)),l=g(n(8612)),c=g(n(1790)),h=g(n(6859)),f=g(n(682)),d=g(n(4592));function g(t){return t&&t.__esModule?t:{default:t}}var p=n(4722).extend({initialize:function(t){if(!t.msa)throw new Error("No msa instance provided. Please provide .msa");if(this.msa=t.msa,this.msa.g.menuconfig=new d.default(t.menu),this.addView("10_import",new r.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("15_ordering",new u.default({model:this.msa.seqs,g:this.msa.g})),this.addView("20_filter",new i.default({model:this.msa.seqs,g:this.msa.g})),this.addView("30_selection",new o.default({model:this.msa.seqs,g:this.msa.g})),this.addView("40_vis",new s.default({model:this.msa.seqs,g:this.msa.g})),this.addView("50_color",new a.default({model:this.msa.seqs,g:this.msa.g})),this.addView("70_extra",new l.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("80_export",new c.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("90_help",new h.default({g:this.msa.g})),this.msa.g.config.get("debug"))return this.addView("95_debug",new f.default({g:this.msa.g}))},render:function(){return this.renderSubviews(),this.el.setAttribute("class","smenubar"),this.el.appendChild(document.createElement("p"))}});e.default=p},8381:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2286);Object.defineProperty(e,"defaultmenu",{enumerable:!0,get:function(){return o(r).default}});var i=n(3886);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"menubuilder",{enumerable:!0,get:function(){return o(i).default}})},3886:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(460),i=r.extend({buildDOM:function(){return this.on("new:node",this.buildNode),this.on("new:button",this.buildButton),this.on("new:menu",this.buildMenu),r.prototype.buildDOM.call(this)},buildNode:function(t){if(null!=this.g)return t.style.lineHeight=this.g.menuconfig.get("menuItemLineHeight")},buildButton:function(t){if(null!=this.g)return t.style.fontSize=this.g.menuconfig.get("menuFontsize"),t.style.marginLeft=this.g.menuconfig.get("menuMarginLeft"),t.style.padding=this.g.menuconfig.get("menuPadding")},buildMenu:function(t){if(null!=this.g)return t.style.fontSize=this.g.menuconfig.get("menuItemFontsize")}});e.default=i},4592:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2908).Model,i=r.extend({constructor:function(t,e){return"small"==t&&(t=this.small),r.apply(this,[t])},small:{menuFontsize:"12px"},defaults:{menuFontsize:"14px",menuItemFontsize:"14px",menuItemLineHeight:"14px",menuMarginLeft:"3px",menuPadding:"3px 4px 3px 4px"}});e.default=i},5507:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(3886))&&r.__esModule?r:{default:r},o=n(9465),s=i.default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.listenTo(this.g.colorscheme,"change",(function(){return this.render()}))},render:function(){var t=this.setName("Color scheme");this.removeAllNodes();for(var e,n=this.getColorschemes(),r=0;r<n.length;r++)e=n[r],this.addScheme(t,e);return this.grey(t),o.removeAllChilds(this.el),this.el.appendChild(this.buildDOM()),this},addScheme:function(t,e){var n=this,r={};return this.g.colorscheme.get("scheme")===e.id&&(r.backgroundColor="#77ED80"),this.addNode(e.name,(function(){n.g.colorscheme.set("scheme",e.id)}),{style:r})},getColorschemes:function(){var t=[];return t.push({name:"Taylor",id:"taylor"}),t.push({name:"Buried",id:"buried"}),t.push({name:"Cinema",id:"cinema"}),t.push({name:"Clustal",id:"clustal"}),t.push({name:"Clustal2",id:"clustal2"}),t.push({name:"Helix",id:"helix"}),t.push({name:"Hydrophobicity",id:"hydro"}),t.push({name:"Lesk",id:"lesk"}),t.push({name:"MAE",id:"mae"}),t.push({name:"Nucleotide",id:"nucleotide"}),t.push({name:"Purine",id:"purine"}),t.push({name:"PID",id:"pid"}),t.push({name:"Strand",id:"strand"}),t.push({name:"Turn",id:"turn"}),t.push({name:"Zappo",id:"zappo"}),t.push({name:"No color",id:"foo"}),t},grey:function(t){}});e.default=s},682:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=((r=n(3886))&&r.__esModule?r:{default:r}).default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var t=this;return this.setName("Debug"),this.addNode("Get the code",(function(){return window.open("https://github.com/wilzbach/msa")})),this.addNode("Toggle mouseover events",(function(){return t.g.config.set("registerMouseHover",!t.g.config.get("registerMouseHover")),t.g.onAll((function(){return console.log(arguments)}))})),this.addNode("Minimized width",(function(){return t.g.zoomer.set("alignmentWidth",600)})),this.addNode("Minimized height",(function(){return t.g.zoomer.set("alignmentHeight",120)})),this.el.appendChild(this.buildDOM()),this}});e.default=i},1790:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3886)),i=o(n(2941));function o(t){return t&&t.__esModule?t:{default:t}}n(4300).fasta.write;var s=r.default.extend({initialize:function(t){return this.g=t.g,this.msa=t.msa,this.el.style.display="inline-block"},render:function(){var t=this;return this.setName("Export"),this.addNode("Share view (URL)",(function(){return i.default.shareLink(t.msa,(function(t){return window.open(t,"_blank")}))})),this.addNode("View in Jalview",(function(){var e=t.g.config.get("url");return null==e?alert("Sequence weren't imported via an URL"):e.indexOf("localhost")?i.default.publishWeb(t.msa,(function(e){return i.default.openInJalview(e,t.g.colorscheme.get("scheme"))})):i.default.openInJalview(e,t.g.colorscheme.get("scheme"))})),this.addNode("Export alignment (FASTA)",(function(){return i.default.saveAsFile(t.msa,"all.fasta")})),this.addNode("Export alignment (URL)",(function(){return i.default.publishWeb(t.msa,(function(t){return window.open(t,"_blank")}))})),this.addNode("Export selected sequences (FASTA)",(function(){return i.default.saveSelection(t.msa,"selection.fasta")})),this.addNode("Export features (GFF)",(function(){return i.default.saveAnnots(t.msa,"features.gff3")})),this.addNode("Export MSA image (PNG)",(function(){return i.default.saveAsImg(t.msa,"biojs-msa.png")})),this.el.appendChild(this.buildDOM()),this}});e.default=s},8612:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3886)),i=o(n(108));function o(t){return t&&t.__esModule?t:{default:t}}o(n(3790)),n(6290);var s=r.default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.msa=t.msa},render:function(){var t=this;this.setName("Extras");var e=this.g.stats;return this.msa,this.addNode("Add consensus seq",(function(){var n=e.consensus(),r=new i.default({seq:n,id:"0c",name:"Consenus"});return t.model.add(r),t.model.setRef(r),t.model.comparator=function(t){return!t.get("ref")},t.model.sort()})),this.addNode("Jump to a column",(function(){var e=prompt("Column","20");if(!(e<0||e>t.model.getMaxLength()||isNaN(e)))return t.g.zoomer.setLeftOffset(e);alert("invalid column")})),this.el.appendChild(this.buildDOM()),this}});e.default=s},9742:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=((r=n(3886))&&r.__esModule?r:{default:r}).default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var t=this;return this.setName("Filter"),this.addNode("Hide columns by threshold",(function(e){var n=prompt("Enter threshold (in percent)",20);n/=100;for(var r=t.model.getMaxLength(),i=[],o=t.g.stats.scale(t.g.stats.conservation()),s=r-1,a=0;0<s?a<=s:a>=s;0<s?a++:a--)o[a]<n&&i.push(a);return t.g.columns.set("hidden",i)})),this.addNode("Hide columns by selection",(function(){var e=t.g.columns.get("hidden").concat(t.g.selcol.getAllColumnBlocks({maxLen:t.model.getMaxLength(),withPos:!0}));return t.g.selcol.reset([]),t.g.columns.set("hidden",e)})),this.addNode("Hide columns by gaps",(function(){var e=prompt("Enter threshold (in percent)",20);e/=100;for(var n=[],r=t.model.getMaxLength()-1,i=0;0<r?i<=r:i>=r;0<r?i++:i--){var o=0,s=0;t.model.each((function(t){return"-"===t.get("seq")[i]&&o++,s++})),o/s>e&&n.push(i)}return t.g.columns.set("hidden",n)})),this.addNode("Hide seqs by identity",(function(){var e=prompt("Enter threshold (in percent)",20);return e/=100,t.model.each((function(t){if(t.get("identity")<e)return t.set("hidden",!0)}))})),this.addNode("Hide seqs by selection",(function(){var e=t.g.selcol.where({type:"row"}).map((function(t){return t.get("seqId")}));return t.g.selcol.reset([]),t.model.each((function(t){if(e.indexOf(t.get("id"))>=0)return t.set("hidden",!0)}))})),this.addNode("Hide seqs by gaps",(function(){var e=prompt("Enter threshold (in percent)",40);return t.model.each((function(t,n){if(t.get("seq").reduce((function(t,e){return"-"===e?++t:void 0}),0)>e)return t.set("hidden",!0)}))})),this.addNode("Reset",(function(){return t.g.columns.set("hidden",[]),t.model.each((function(t){if(t.get("hidden"))return t.set("hidden",!1)}))})),this.el.appendChild(this.buildDOM()),this}});e.default=i},6859:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=((r=n(3886))&&r.__esModule?r:{default:r}).default.extend({initialize:function(t){return this.g=t.g},render:function(){return this.setName("Help"),this.addNode("About the project",(function(){return window.open("https://github.com/wilzbach/msa")})),this.addNode("Report issues",(function(){return window.open("https://github.com/wilzbach/msa/issues")})),this.addNode("User manual",(function(){return window.open("https://github.com/wilzbach/msa/wiki/User-manual")})),this.el.style.display="inline-block",this.el.appendChild(this.buildDOM()),this}});e.default=i},9847:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(3886))&&r.__esModule?r:{default:r},o=n(7277),s=i.default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.msa=t.msa},render:function(){var t=this,e=this.msa,n=o.mk("input");n.type="file",n.style.display="none",n.multiple=!0,n.addEventListener("change",(function(){var t=n.files||[];return e.u.file.importFiles(t)})),this.el.appendChild(n);var r="(Fasta, Clustal, GFF, Jalview features, Newick)";return this.setName("Import"),this.addNode("URL",(function(e){var n=prompt("URL "+r,"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw");if(n.length>5)return t.msa.u.file.importURL(n,(function(){}))})),this.addNode("From file "+r,(function(){return n.click()})),this.addNode("Drag & Drop",(function(){return alert("Yep. Just drag & drop your file "+r)})),this.el.appendChild(this.buildDOM()),this}});e.default=s},6640:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(3886))&&r.__esModule?r:{default:r},o=n(9465),s=i.default.extend({initialize:function(t){return this.g=t.g,this.order="ID",this.el.style.display="inline-block"},setOrder:function(t){return this.order=t,this.render()},render:function(){this.setName("Sorting"),this.removeAllNodes();for(var t,e=this.getComparators(),n=0;n<e.length;n++)t=e[n],this._addNode(t);var r=this.buildDOM();return o.removeAllChilds(this.el),this.el.appendChild(r),this},_addNode:function(t){var e=this,n=t.text,r={};return n===this.order&&(r.backgroundColor="#77ED80"),this.addNode(n,(function(){return null!=t.precode&&t.precode(),e.model.comparator=t.comparator,e.model.sort(),e.setOrder(t.text)}),{style:r})},getComparators:function(){var t=this,e=[];e.push({text:"ID ",comparator:"id"}),e.push({text:"ID ",comparator:function(t,e){return-(""+t.get("id")).localeCompare(""+e.get("id"),[],{numeric:!0})}}),e.push({text:"Label ",comparator:"name"}),e.push({text:"Label ",comparator:function(t,e){return-t.get("name").localeCompare(e.get("name"))}}),e.push({text:"Seq ",comparator:"seq"}),e.push({text:"Seq ",comparator:function(t,e){return-t.get("seq").localeCompare(e.get("seq"))}});var n=function(){return t.ident=t.g.stats.identity()},r=function(){return t.gaps={},t.model.each((function(e){var n=e.attributes.seq;return t.gaps[e.id]=(n.reduce((function(t,e){return"-"===e?++t:void 0})),0/n.length)}))};return e.push({text:"Identity ",comparator:function(e,n){var r=t.ident[e.id]-t.ident[n.id];return console.log(t.ident[e.id],t.ident[n.id]),r>0?1:r<0?-1:0},precode:n}),e.push({text:"Identity ",comparator:function(e,n){var r=t.ident[e.id]-t.ident[n.id];return r>0?-1:r<0?1:0},precode:n}),e.push({text:"Gaps ",comparator:function(e,n){var r=t.gaps[e.id]-t.gaps[n.id];return r>0?1:r<0?-1:0},precode:r}),e.push({text:"Gaps ",comparator:function(e,n){var r=t.gaps[e.id]-t.gaps[n.id];return r<0?1:r>0?-1:0},precode:r}),e.push({text:"Consensus to top",comparator:function(t){return!t.get("ref")}}),e}});e.default=s},5394:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=((r=n(3886))&&r.__esModule?r:{default:r}).default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var t=this;return this.setName("Selection"),this.addNode("Find Motif (supports RegEx)",(function(){var e=prompt("your search","D");return t.g.user.set("searchText",e)})),this.addNode("Invert columns",(function(){return t.g.selcol.invertCol(function(){var e=[],n=t.model.getMaxLength(),r=0;if(0<=n)for(;r<=n;)e.push(r++);else for(;r>=n;)e.push(r--);return e}())})),this.addNode("Invert rows",(function(){return t.g.selcol.invertRow(t.model.pluck("id"))})),this.addNode("Reset",(function(){return t.g.selcol.reset()})),this.el.appendChild(this.buildDOM()),this}});e.default=i},7957:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(3886))&&r.__esModule?r:{default:r},o=n(9465),s=i.default.extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.listenTo(this.g.vis,"change",this.render)},render:function(){var t=this;this.removeAllNodes(),this.setName("Vis.elements");for(var e,n=this.getVisElements(),r=0;r<n.length;r++)e=n[r],this._addVisEl(e);return this.addNode("Reset",(function(){return t.g.vis.set("labels",!0),t.g.vis.set("sequences",!0),t.g.vis.set("metacell",!0),t.g.vis.set("conserv",!0),t.g.vis.set("labelId",!0),t.g.vis.set("labelName",!0),t.g.vis.set("labelCheckbox",!1),t.g.vis.set("seqlogo",!1),t.g.vis.set("gapHeader",!1),t.g.vis.set("leftHeader",!0),t.g.vis.set("metaGaps",!0),t.g.vis.set("metaIdentity",!0),t.g.vis.set("metaLinks",!0)})),o.removeAllChilds(this.el),this.el.appendChild(this.buildDOM()),this},_addVisEl:function(t){var e=this,n={};if(this.g.vis.get(t.id)){var r="Hide ";n.color="red"}else r="Show ",n.color="green";return this.addNode(r+t.name,(function(){return e.g.vis.set(t.id,!e.g.vis.get(t.id))}),{style:n})},getVisElements:function(){var t=[];return t.push({name:"residues indices",id:"markers"}),t.push({name:"ID/Label",id:"labels"}),t.push({name:"meta info (Gaps/Ident)",id:"metacell"}),t.push({name:"overview panel",id:"overviewbox"}),t.push({name:"sequence logo",id:"seqlogo"}),t.push({name:"gap weights",id:"gapHeader"}),t.push({name:"conservation weights",id:"conserv"}),t.push({name:"scale slider",id:"scaleslider"}),t.push({name:"Label",id:"labelName"}),t.push({name:"ID",id:"labelId"}),t.push({name:"gaps %",id:"metaGaps"}),t.push({name:"identity score",id:"metaIdentity"}),t}});e.default=s},2480:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2908).Model.extend({defaults:{xStart:-1,xEnd:-1,height:-1,text:"",fillColor:"red",fillOpacity:.5,type:"rectangle",borderSize:1,borderColor:"black",borderOpacity:.5,validate:!0,row:0},initialize:function(t){if(null!=t.start&&this.set("xStart",t.start-1),null!=t.end&&this.set("xEnd",t.end-1),null!=t.attributes&&(null!=t.attributes.Name&&this.set("text",t.attributes.Name),null!=t.attributes.Color&&this.set("fillColor",t.attributes.Color)),this.attributes.xEnd<this.attributes.xStart&&console.warn("invalid feature range for",this.attributes),!_.isNumber(this.attributes.xStart)||!_.isNumber(this.attributes.xEnd))return console.warn("please provide numeric feature ranges",t),this.set("xStart",parseInt(this.attributes.xStart)),this.set("xEnd",parseInt(this.attributes.xEnd))},validate:function(){if(isNaN(this.attributes.xStart||isNaN(this.attributes.xEnd)))return"features need integer start and end."},contains:function(t){return this.attributes.xStart<=t&&t<=this.attributes.xEnd}});e.default=r},4043:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6635),o=(r=n(2480))&&r.__esModule?r:{default:r},s=n(2908).Collection,a=s.extend({model:o.default,constructor:function(){return this.startOnCache=[],this.on("all",(function(){return this.startOnCache=[]}),this),s.apply(this,arguments)},startOn:function(t){return null==this.startOnCache[t]&&(this.startOnCache[t]=this.where({xStart:t})),this.startOnCache[t]},contains:function(t){return this.reduce((function(e,n){return n||e.contains(t)}),!1)},getFeatureOnRow:function(t,e){return this.filter((function(n){return n.get("row")===t&&n.get("xStart")<=e&&e<=n.get("xEnd")}))},assignRows:function(){var t=this.max((function(t){return t.get("xEnd")})).attributes.xEnd,e=function(){for(var e=[],n=0;0<t?n<=t:n>=t;0<t?n++:n--)e.push(0);return e}();return this.each((function(t){for(var n=0,r=t.get("xStart"),i=t.get("xEnd"),o=r;r<i?o<=i:o>=i;r<i?o++:o--)e[o]>n&&(n=e[o]),e[o]++;return t.set("row",n)})),(0,i.max)(e)},getCurrentHeight:function(){return this.max((function(t){return t.get("row")})).attributes.row+1},getMinRows:function(){var t=this.max((function(t){return t.get("xEnd")})).attributes.xEnd,e=function(){for(var e=[],n=0;0<t?n<=t:n>=t;0<t?n++:n--)e.push(0);return e}();return this.each((function(t){return function(){for(var n=[],r=t.get("xStart"),i=t.get("xEnd"),o=r;r<i?o<=i:o>=i;o++)n.push(e[o]++);return n}()})),(0,i.max)(e)}});e.default=a},5925:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(108)),i=o(n(4043));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(2908).Collection,a=s.extend({model:r.default,constructor:function(t,e){var n=this;return s.apply(this,arguments),this.g=e,this.on("add reset remove",(function(){return n.lengthCache=null,n._bindSeqsWithFeatures()}),this),this.on("reset",(function(){return n._autoSetRefSeq()})),this._autoSetRefSeq(),this.lengthCache=null,this.features={},this},getMaxLength:function(){return 0===this.models.length?0:(null===this.lengthCache&&(this.lengthCache=this.max((function(t){return t.get("seq").length})).get("seq").length),this.lengthCache)},prev:function(t,e){var n=this.indexOf(t)-1;return n<0&&e&&(n=this.length-1),this.at(n)},next:function(t,e){var n=this.indexOf(t)+1;return n===this.length&&e&&(n=0),this.at(n)},calcHiddenSeqs:function(t){for(var e=t,n=0;0<e?n<=e:n>=e;0<e?n++:n--)this.at(n).get("hidden")&&e++;return e-t},addFeatures:function(t){var e,n=this;if(null!=t.config){var r=t;t=t.seqs,null!=r.config.colors&&(e=r.config.colors,_.each(t,(function(t){return _.each(t,(function(t){if(null!=e[t.feature])return t.fillColor=e[t.feature]}))})))}return _.isEmpty(this.features)?this.features=t:_.each(t,(function(t,e){return n.features.hasOwnProperty(e)?n.features[e]=_.union(n.features[e],t):n.features[e]=t})),this._bindSeqsWithFeatures()},_bindSeqWithFeatures:function(t){var e=this.features[t.attributes.name];e&&(t.attributes.features=new i.default(e),t.attributes.features.assignRows(),t.attributes.height=t.attributes.features.getCurrentHeight()+1)},_bindSeqsWithFeatures:function(){var t=this;return this.each((function(e){return t._bindSeqWithFeatures(e)}))},removeAllFeatures:function(){return delete this.features},_autoSetRefSeq:function(){if(this.length>0)return this.at(0).set("ref",!0)},setRef:function(t){var e=this.get(t);return this.each((function(n){if(t.cid)return e.cid===n.cid?n.set("ref",!0):n.set("ref",!1)})),this.g.config.set("hasRef",!0),this.trigger("change:reference",t)}});e.default=a},108:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(4043))&&r.__esModule?r:{default:r},o=n(2908).Model.extend({defaults:{name:"",id:"",seq:"",height:1,ref:!1},initialize:function(){if(this.set("grey",[]),null==this.get("features"))return this.set("features",new i.default)}});e.default=o},7048:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(108);Object.defineProperty(e,"seq",{enumerable:!0,get:function(){return a(r).default}});var i=n(5925);Object.defineProperty(e,"seqcol",{enumerable:!0,get:function(){return a(i).default}});var o=n(2480);Object.defineProperty(e,"feature",{enumerable:!0,get:function(){return a(o).default}});var s=n(4043);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"featurecol",{enumerable:!0,get:function(){return a(s).default}})},1753:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(5925)),i=_(n(6293)),o=_(n(1189)),s=_(n(8499)),a=_(n(5414)),u=_(n(2213)),l=_(n(8350)),c=_(n(3547)),h=_(n(4856)),f=_(n(4696)),d=_(n(3539)),g=_(n(5816)),p=_(n(1364)),v=_(n(664)),m=_(n(5075));function _(t){return t&&t.__esModule?t:{default:t}}var y=n(4722),b=n(5931),w=n(7772),x=n(2452),S=y.extend({initialize:function(t){var e=this;if(null==t&&(t={}),null==t.colorscheme&&(t.colorscheme={}),null==t.columns&&(t.columns={}),null==t.conf&&(t.conf={}),null==t.vis&&(t.vis={}),null==t.visorder&&(t.visorder={}),null==t.zoomer&&(t.zoomer={}),null==t.conserv&&(t.conserv={}),null==t.scale&&(t.scale={}),this.g=b.mixin({}),this.seqs=this.g.seqs=new r.default(t.seqs,this.g),this.g.config=new s.default(t.conf),this.g.package=new a.default(this.g),this.g.selcol=new u.default([],{g:this.g}),this.g.user=new l.default,this.g.vis=new c.default(t.vis,{model:this.seqs}),this.g.visorder=new h.default(t.visorder),this.g.zoomer=new f.default(t.zoomer,{g:this.g,model:this.seqs}),this.g.scale=new d.default(t.scale,{g:this.g}),this.g.conservationConfig=t.conserv,"localhost"===window.location.hostname&&this.g.config.set("debug",!0),this._loadSeqs(t),this.u={},this.u.file=new p.default(this),this.u.proxy=new m.default({g:this.g}),this.u.tree=new v.default(this),!0===this.g.config.get("eventBus")&&this.startEventBus(),this.g.config.get("dropImport")){var n={dragover:this.dragOver,drop:this.dropFile};this.delegateEvents(n)}return t.importURL&&this.u.file.importURL(t.importURL,(function(){return e.render()})),t.bootstrapMenu&&(t.menu&&(this.menuConfig=t.menu),this.g.config.set("bootstrapMenu",!0)),this.draw(),this.m()},_loadSeqs:function(t){var e=this.seqs.pluck("seq");return this.g.stats=new w(this.seqs,{useGaps:!0}),this.g.stats.alphabetSize=this.g.config.get("alphabetSize"),this.g.columns=new o.default(t.columns,this.g.stats),this.g.colorscheme=new i.default(t.colorscheme,e,this.g.stats),this.g.zoomer.setEl(this.el,this.seqs)},importURL:function(){return this.u.file.importURL.apply(this.u.file,arguments)},m:function(){var t={};return t.model=n(7048),t.selection=n(6129),t.selcol=n(2213),t.view=n(4791),t.boneView=n(4722),this.m=t},draw:function(){var t=this;if(this.removeViews(),this.addView("stage",new g.default({model:this.seqs,g:this.g})),this.$el.addClass("biojs_msa_div"),this.g.config.get("bootstrapMenu")){var e=document.createElement("div"),n=document.createElement("div");this.el.parentNode?(this.el.parentNode.replaceChild(n,this.el),n.appendChild(e),n.appendChild(this.el)):(n.appendChild(e),n.appendChild(this.el));var r={el:e,msa:this};this.menuConfig&&(r.menu=this.menuConfig),new msa.menu.defaultmenu(r).render()}return x(window).on("resize",(function(e){return setTimeout(function(){return this.g.zoomer.autoResize()}.bind(t),5)}))},dragOver:function(t){return t.preventDefault(),t.target.className="hover",!1},dropFile:function(t){t.preventDefault();var e=t.target.files||t.dataTransfer.files;return this.u.file.importFiles(e),!1},startEventBus:function(){var t=this,e=["config","columns","colorscheme","selcol","vis","visorder","zoomer"];return function(){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r.push(t._proxyToG(n));return r}()},_proxyToG:function(t){return this.listenTo(this.g[t],"all",(function(e,n,r,i){if("change"!==e)return null!=i?this.g.trigger(t+":"+e,r,n,i):this.g.trigger(t+":"+e,r,n)}))},render:function(){return void 0!==this.seqs&&0!==this.seqs.length||console.log("warning. empty seqs."),this.renderSubviews(),this.g.vis.set("loaded",!0),this}});e.default=S},2681:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"randomInt",value:function(t,e){if(null==e){var n=[0,t];t=n[0],e=n[1]}if(t>e){var r=[e,t];t=r[0],e=r[1]}return Math.floor(Math.random()*(e-t+1)+t)}},{key:"uniqueId",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?8:arguments[0],e="";e.length<t;)e+=Math.random().toString(36).substr(2);return e.substr(0,t)}},{key:"getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}}]),t}();e.default=r},2941:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4300),i=n(6635),o=n(3181),s=n(696),a={openInJalview:function(t,e){"."===t.charAt(0)&&(t=document.URL.substr(0,document.URL.lastIndexOf("/"))+"/"+t),t.indexOf("http")<0&&(t="http://"+window.location.hostname+t);var n="http://www.jalview.org/services/launchApp?open="+(t=encodeURIComponent(t));return n+="&colour="+e,window.open(n,"_blank")},publishWeb:function(t,e){var n=r.fasta.write(t.seqs.toJSON());return n=encodeURIComponent(n),(0,r.xhr)({method:"POST",body:"sprunge="+n,uri:"http://sprunge.biojs.net",headers:{"Content-Type":"application/x-www-form-urlencoded"}},(function(t,n,r){var i=r.trim();return e(i)}))},shareLink:function(t,e){var n=t.g.config.get("importURL"),r=function(t){if(e)return e("http://msa.biojs.net/app/?seq="+t)};return n?r(n):a.publishWeb(t,r)},saveAsFile:function(t,e){var n=r.fasta.write(t.seqs.toJSON()),i=new Blob([n],{type:"text/plain"});return s(i,e)},saveSelection:function(t,e){var n=t.g.selcol.pluck("seqId");if(console.log(n),n.length>0)for(var i=(n=t.seqs.filter((function(t){return n.indexOf(t.get("id"))>=0}))).length-1,o=0;0<i?o<=i:o>=i;0<i?o++:o--)n[o]=n[o].toJSON();else n=t.seqs.toJSON(),console.warn("no selection found");var a=r.fasta.write(n),u=new Blob([a],{type:"text/plain"});return s(u,e)},saveAnnots:function(t,e){var n=t.seqs.map((function(t){if(0!==(n=t.get("features")).length){var e=t.get("name");return n.each((function(t){return t.set("seqname",e)})),n.toJSON()}}));n=(0,i.flatten)((0,i.compact)(n)),console.log(n);var o=r.gff.exportLines(n),a=new Blob([o],{type:"text/plain"});return s(a,e)},saveAsImg:function(t,e){var n=t.getView("stage").getView("body").getView("seqblock").el;if(null!=n){var r=n.toDataURL("image/png");return s(o(r),e,"image/png")}}};e.default=a},1364:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(6635),s=n(4300),a=(r=n(3035))&&r.__esModule?r:{default:r},u=function(t){return this.msa=t,this},l={guessFileFromText:function(t,e){if(null==t)return console.warn("invalid file format"),["","error"];switch((0,a.default)(t,e)){case"clustal":var n=s.clustal,r="seqs";break;case"fasta":n=s.fasta,r="seqs";break;case"newick":r="newick";break;case"gff":n=s.gff,r="features";break;default:alert("Unknown file format. Please contact us on Github for help.")}return[n,r]},parseText:function(t,e){var n=this.guessFileFromText(t,e),r=i(n,2),o=r[0],s=r[1];return"seqs"===s?[o.parse(t),s]:"features"===s?[o.parseSeqs(t),s]:[t,s]},importFiles:function(t){var e=this;return function(){for(var n=[],r=t.length-1,i=0;0<r?i<=r:i>=r;0<r?i++:i--){var o=t[i],s=new FileReader;s.onload=function(t){return e.importFile(t.target.result)},n.push(s.readAsText(o))}return n}()},importFile:function(t,e){var n=this;(e=e||{}).name=t.name;var r=this.parseText(t,e),o=i(r,2),s=o[0],a=o[1];return"error"===a?(alert("An error happened"),"error"):("seqs"===a?(this.msa.seqs.reset(s),this.msa.g.config.set("url","userimport"),this.msa.g.trigger("url:userImport")):"features"===a?this.msa.seqs.addFeatures(s):"newick"===a?this.msa.u.tree.loadTree((function(){return n.msa.u.tree.showTree(t)})):alert("Unknown file!"),t.name)},importURL:function(t,e){var n=this;return t=this.msa.u.proxy.corsURL(t),this.msa.g.config.set("url",t),(0,s.xhr)({url:t,timeout:0},(function(r,i,o){return r?console.error(r):"error"!==n.importFile(o,{url:t})?(n.msa.g.trigger("import:url",t),e?e():void 0):void 0}))}};(0,o.extend)(u.prototype,l),e.default=u},2118:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exporter=e.file=e.seqgen=e.proxy=e.bmath=void 0;var r=u(n(2681)),i=u(n(5075)),o=u(n(4509)),s=u(n(1364)),a=u(n(2941));function u(t){return t&&t.__esModule?t:{default:t}}e.bmath=r.default,e.proxy=i.default,e.seqgen=o.default,e.file=s.default,e.exporter=a.default},3790:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7277),i={loadScript:function(t,e){var n=r.mk("script");return n.type="text/javascript",n.src=t,n.async=!0,n.onload=n.onreadystatechange=function(){if(!(t||this.readyState&&"complete"!==this.readyState)){var t=!0;return e()}},document.getElementsByTagName("script")[0].parentNode.appendChild(n)},joinCb:function(t,e,n){e=e||1;var r=0,i=function(){if(++r===e)return t.call(n)};return function(t,e){return null==t?i():function(){var n;return n="apply",t.indexOf(n)>=0&&t.apply(e,arguments),i()}}}};e.default=i},5075:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return this.g=t.g,this},i={corsURL:function(t){return document.URL.indexOf("localhost")>=0&&"/"===t[0]||"."===t.charAt(0)||"/"===t.charAt(0)?t:(this.g.config.get("importProxyStripHttp")&&(t=(t=t.replace("http://","")).replace("https://","")),t=this.g.config.get("importProxy")+t)}};(0,n(6635).extend)(r.prototype,i),e.default=r},3035:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var r=(e.name||e.url||"").split("."),i=r[r.length-1]||"",o=0;o<n.length;o++){var s=n[o](t,i);if(s)return s}return"unknown"};var n=[function(t,e){return("CLUSTAL"===t.substring(0,7)||"clustal"==e||"aln"==e)&&"clustal"},function(t,e){return(">"===t.substring(0,1)||"fasta"==e||"fa"==e)&&"fasta"},function(t,e){return("("===t.substring(0,1)||"nwk"==e)&&"newick"},function(t,e){if(t.length<=10)return!1;var n=t.split("\n");return(n[0].indexOf("gff")>=0||e.indexOf("gff")>=0||n[0].indexOf("#")<0&&2===n[0].split("\t").length)&&"gff"}]},4509:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(2681))&&r.__esModule?r:{default:r},o=n(7320).seq,s=n(7772),a={_generateSequence:function(t){for(var e="",n=t-1,r=0;0<n?r<=n:r>=n;0<n?r++:r--)e+=a.getRandomChar();return e},getDummySequences:function(t,e){var n=[];null==t&&(t=i.default.getRandomInt(3,5)),null==e&&(e=i.default.getRandomInt(50,200));for(var r=1;1<t?r<=t:r>=t;1<t?r++:r--)n.push(new o(a._generateSequence(e),"seq"+r,"r"+r));return n},getRandomChar:function(t){var e=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.charAt(Math.floor(Math.random()*e.length))},genConservedSequences:function(t,e,n){var r=[];null==t&&(t=i.default.getRandomInt(3,5)),null==e&&(e=i.default.getRandomInt(50,200)),n=n||"ACDEFGHIKLMNPQRSTVWY---";for(var u=1;1<t?u<=t:u>=t;1<t?u++:u--)r[u-1]="";for(var l=1,c=e-1,h=0;0<c?h<=c:h>=c;0<c?h++:h--){h%3==0&&(l=i.default.getRandomInt(50,100)/100);for(var f=[],d=t-1,g=0;0<d?g<=d:g>=d;0<d?g++:g--){for(var p=0,v=void 0;p<100;){v=a.getRandomChar(n);var m=s(f);if(m.addSeq(v),p++,Math.abs(l-m.scale(m.conservation())[0])<.2)break}r[g]+=v,f.push(v)}}for(var _=[],y=1;1<t?y<=t:y>=t;1<t?y++:y--)_.push(new o(r[y-1],"seq"+y,"r"+y));return _}};e.default=a},5709:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="http://www.w3.org/2000/svg",r=function(t,e){for(var n in e){var r=e[n];t.setAttributeNS(null,n,r)}return t};e.base=function(t){var e=document.createElementNS(n,"svg");return e.setAttribute("width",t.width),e.setAttribute("height",t.height),e},e.line=function(t){var e=document.createElementNS(n,"line");return r(e,t)},e.rect=function(t){var e=document.createElementNS(n,"rect");return r(e,t)},e.polygon=function(t){var e=document.createElementNS(n,"polygon");return r(e,t)}},664:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6635);(r=n(5925))&&r.__esModule;var o=function(t){return this.msa=t,this},s={loadTree:function(t){return this.msa.g.package.loadPackages(["msa-tnt","biojs-io-newick"],t)},showTree:function(t){var e=window.require("biojs-io-newick"),r=window.require("msa-tnt");if("string"==typeof t)var i=e.parse_newick(t);else i=t;var o,s=new r.selections;0===this.msa.el.getElementsByClassName("tnt_groupDiv").length?(o=document.createElement("div"),this.msa.el.appendChild(o)):(console.log("A tree already exists. It will be overridden."),(o=this.msa.el.getElementsByClassName("tnt_groupDiv")[0].parentNode).innerHTML="");var a=this.msa.seqs.toJSON();!function t(e){if(null!=e.children)e.children.forEach((function(e){return t(e)}));else{var n=a.filter((function(t){return t.name===e.name}))[0];null!=n&&("number"==typeof n.id?(n.ids=["s"+(n.id+1)],e.name="s"+(n.id+1)):e.name=n.id)}}(i);var u=r.app({seqs:a,tree:i});return new r.adapters.tree({model:u,el:o,sel:s}),new r.adapters.msa({model:u,sel:s,msa:this.msa}),u.models.forEach((function(t){return delete t.collection,Object.setPrototypeOf(t,n(2908).Model.prototype)})),this.msa.seqs.reset(u.models),console.log(this.msa.seqs)},require:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(6844)(t)}))};(0,i.extend)(o.prototype,s),e.default=o},1305:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(7981)),i=o(n(1619));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(4722).extend({initialize:function(t){this.g=t.g;var e=new i.default({model:this.model,g:this.g});if(e.ordering=-1,this.addView("labelblock",e),this.g.vis.get("sequences")){var n=new r.default({model:this.model,g:this.g});n.ordering=0,this.addView("seqblock",n)}return this.listenTo(this.g.zoomer,"change:alignmentHeight",this.adjustHeight),this.listenTo(this.g.zoomer,"change:alignmentWidth",this.adjustWidth),this.listenTo(this.g.columns,"change:hidden",this.adjustHeight),this},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_albody",this.el.style.whiteSpace="nowrap",this.adjustHeight(),this.adjustWidth(),this},adjustHeight:function(){return"auto"===this.g.zoomer.get("alignmentHeight")?this.el.style.height=this.g.zoomer.get("rowHeight")*this.model.length+5:this.el.style.height=this.g.zoomer.get("alignmentHeight")},adjustWidth:function(){return this.el.style.width=this.getWidth()},getWidth:function(){var t=0;return t+=this.g.zoomer.getLeftBlockWidth(),this.g.vis.get("sequences")&&(t+=this.g.zoomer.get("alignmentWidth")),t}});e.default=s},948:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6129),i=n(4791),o=n(3264),s=n(2452),a=i.extend({className:"biojs_msa_overviewbox",tagName:"canvas",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop",this.rerender),this.listenTo(this.g.selcol,"add reset change",this.rerender),this.listenTo(this.g.columns,"change:hidden",this.rerender),this.listenTo(this.g.colorscheme,"change:showLowerCase",this.rerender),this.listenTo(this.model,"change",_.debounce(this.rerender,5)),this.color=this.g.colorscheme.getSelectedScheme(),this.listenTo(this.g.colorscheme,"change:scheme",(function(){return this.color=this.g.colorscheme.getSelectedScheme(),this.rerender()})),this.dragStart=[]},events:{click:"_onclick",mousedown:"_onmousedown"},rerender:function(){if(!this.g.config.get("manualRendering"))return this.render()},render:function(){this._createCanvas(),this.el.textContent="overview",this.el.style.marginTop=this.g.zoomer.get("overviewboxPaddingTop"),this.ctx.fillStyle="#999999",this.ctx.fillRect(0,0,this.el.width,this.el.height);for(var t=this.g.zoomer.get("boxRectWidth"),e=this.g.zoomer.get("boxRectHeight"),n=this.g.columns.get("hidden"),r=this.g.colorscheme.get("showLowerCase"),i=-e,o=this.model.length,s=0;s<o;s++)if(this.model.at(s)){var a=this.model.at(s).get("seq"),u=0;if(i+=e,this.model.at(s).get("hidden"))this.ctx.fillStyle="grey",this.ctx.fillRect(0,i,a.length*t,e);else for(var l=0;l<a.length;l++){var c=a[l];r&&(c=c.toUpperCase());var h=this.color.getColor(c,{pos:l});n.indexOf(l)>=0&&(h="grey"),null!=h&&(this.ctx.fillStyle=h,this.ctx.fillRect(u,i,t,e)),u+=t}}return this._drawSelection()},_drawSelection:function(){var t=this;if(!(this.dragStart.length>0)||this.prolongSelection){var e=this.g.zoomer.get("boxRectWidth"),n=this.g.zoomer.get("boxRectHeight"),r=n*this.model.length;this.ctx.fillStyle="#666666",this.ctx.globalAlpha=.9;for(var i=this.g.selcol.length,o=function(i){var o=t.g.selcol.at(i);if(!o)return"continue";var s=void 0,a=void 0;"column"===o.get("type")?t.ctx.fillRect(e*o.get("xStart"),0,e*(o.get("xEnd")-o.get("xStart")+1),r):"row"===o.get("type")?(s=t.model.filter((function(t){return t.get("id")===o.get("seqId")}))[0],a=t.model.indexOf(s),t.ctx.fillRect(0,n*a,e*s.get("seq").length,n)):"pos"===o.get("type")&&(s=t.model.filter((function(t){return t.get("id")===o.get("seqId")}))[0],a=t.model.indexOf(s),t.ctx.fillRect(e*o.get("xStart"),n*a,e*(o.get("xEnd")-o.get("xStart")+1),n))},s=0;s<i;s++)o(s);return this.ctx.globalAlpha=1}},_onclick:function(t){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:t})})},_onmousemove:function(t){if(0!==this.dragStart.length){this.render(),this.ctx.fillStyle="#666666",this.ctx.globalAlpha=.9;var e=this._calcSelection(o.abs(t));return this.ctx.fillRect(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0]),t.preventDefault(),t.stopPropagation()}},_onmousedown:function(t){var e=this;return this.dragStart=o.abs(t),this.dragStartRel=o.rel(t),t.ctrlKey||t.metaKey?this.prolongSelection=!0:this.prolongSelection=!1,s(document.body).on("mousemove.overmove",(function(t){return e._onmousemove(t)})),s(document.body).on("mouseup.overup",(function(t){return e._onmouseup(t)})),this.dragStart},_calcSelection:function(t){for(var e=[t[0]-this.dragStart[0],t[1]-this.dragStart[1]],n=0;n<=1;n++)e[n]=this.dragStartRel[n]+e[n];for(var r=[[this.dragStartRel[0],e[0]],[this.dragStartRel[1],e[1]]],i=0;i<=1;i++)r[i][1]<r[i][0]&&(r[i]=[r[i][1],r[i][0]]),r[i][0]=Math.max(r[i][0],0);return r},_endSelection:function(t){if(s(document.body).off(".overmove"),s(document.body).off(".overup"),0!==this.dragStart.length){for(var e=this._calcSelection(t),n=0;n<=1;n++)e[0][n]=Math.floor(e[0][n]/this.g.zoomer.get("boxRectWidth"));for(n=0;n<=1;n++)e[1][n]=Math.floor(e[1][n]/this.g.zoomer.get("boxRectHeight"));e[0][1]=Math.min(this.model.getMaxLength()-1,e[0][1]),e[1][1]=Math.min(this.model.length-1,e[1][1]);for(var i=[],o=e[1][0];o<=e[1][1];o++){var a={seqId:this.model.at(o).get("id"),xStart:e[0][0],xEnd:e[0][1]};i.push(new r.possel(a))}return this.dragStart=[],this.prolongSelection?this.g.selcol.add(i):this.g.selcol.reset(i),this.g.zoomer.setLeftOffset(e[0][0]),this.g.zoomer.setTopOffset(e[1][0])}},_onmouseup:function(t){return this._endSelection(o.abs(t))},_onmouseout:function(t){return this._endSelection(o.abs(t))},_createCanvas:function(){var t=this.g.zoomer.get("boxRectWidth"),e=this.g.zoomer.get("boxRectHeight");return this.el.height=this.model.length*e,this.el.width=this.model.getMaxLength()*t,this.ctx=this.el.getContext("2d"),this.el.style.overflow="auto",this.el.style.cursor="crosshair"}});e.default=a},5976:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6635),i=n(4791),o=n(2452),s=i.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:columnWidth",this.render),this.toggleClass="msa-hide",this.isVisible=!0,this},attributes:{class:"biojs_msa_scale"},events:{"change input":"updateSlider","click button.msa-btn-close":"hide","click button.msa-btn-open":"show","click button[data-action]":"clickButton"},template:(0,r.template)('<div class="msa-scale-minimised">  <button class="btn msa-btn msa-btn-open">Zoom</button></div><div class="msa-scale-maximised">  <button class="btn msa-btn msa-btn-close" style="float:right">&times; close</button>  <div>  <input type="range"     data-provide="slider"     min="<%= min %>"     max="<%= max %>"     step="<%= step %>"     value="<%= value %>"   >  </div>  <div class="btngroup msa-btngroup">    <button class="btn msa-btn" data-action="smaller"><span class="glyphicon-zoom-out"></span>-</button>    <button class="btn msa-btn" data-action="bigger"><span class="glyphicon-zoom-in"></span>+</button>    <button class="btn msa-btn" data-action="reset"><span class="glyphicon-repeat"></span>reset</button>  </div></div>'),render:function(){var t=this.model.getSizeRange(),e={value:this.model.getSize(),min:t[0],max:t[1],step:this.model.step||1};return this.$el.html(this.template(e)),this.isVisible?this.show():this.hide(),this},updateSlider:function(t){var e=t.target,n=parseInt(o(e).val());this.model.setSize(n)},clickButton:function(t){console.log("clickButton",this,t);var e=t.target,n=o(e).data("action");return this.model[n],"function"==typeof this.model[n]&&this.model[n](),this},hide:function(){this.isVisible=!1,this.$el.find(".msa-scale-minimised").removeClass(this.toggleClass),this.$el.find(".msa-scale-maximised").addClass(this.toggleClass)},show:function(){this.isVisible=!1,this.$el.find(".msa-scale-minimised").addClass(this.toggleClass),this.$el.find(".msa-scale-maximised").removeClass(this.toggleClass)}});e.default=s},3346:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6129),i=n(4722),o=n(7277),s=(n(9465),i.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.user,"change:searchText",(function(t,e){return this.search(e),this.render()})),this.sel=[],this.selPos=0},events:{scroll:"_sendScrollEvent"},render:function(){this.renderSubviews(),this.el.className="biojs_msa_searchresult";var t=this.g.user.get("searchText");return null!=t&&t.length>0&&(0===this.sel.length?this.el.textContent="no selection found":(this.resultBox=o.mk("div"),this.resultBox.className="biojs_msa_searchresult_ovbox",this.updateResult(),this.el.appendChild(this.resultBox),this.el.appendChild(this.buildBtns()))),this},updateResult:function(){var t="search pattern: "+this.g.user.get("searchText");t+=", selection: "+(this.selPos+1);var e=this.sel[this.selPos];return t+=" (",t+=e.get("xStart")+" - "+e.get("xEnd"),t+=", id: "+e.get("seqId"),t+=")",this.resultBox.textContent=t},buildBtns:function(){var t=this,e=o.mk("button");e.textContent="Prev",e.addEventListener("click",(function(){return t.moveSel(-1)}));var n=o.mk("button");n.textContent="Next",n.addEventListener("click",(function(){return t.moveSel(1)}));var r=o.mk("button");r.textContent="All",r.addEventListener("click",(function(){return t.g.selcol.reset(t.sel)}));var i=o.mk("div");return i.appendChild(e),i.appendChild(n),i.appendChild(r),i.className="biojs_msa_searchresult_row",i},moveSel:function(t){var e=this.selPos+t;return e<0||e>=this.sel.length?-1:(this.focus(e),this.selPos=e,this.updateResult())},focus:function(t){var e=this.sel[t],n=e.get("xStart");return this.g.zoomer.setLeftOffset(n),this.g.selcol.reset([e])},search:function(t){var e=new RegExp(t,"gi"),n=[],i=100042;return this.model.each((function(t){var o=t.get("seq");return function(){for(var s,a=[];s=e.exec(o);){var u=s.index,l={xStart:u,xEnd:u+s[0].length-1,seqId:t.get("id")};n.push(new r.possel(l)),a.push(i=Math.min(u,i))}return a}()})),this.g.selcol.reset(n),100042===i&&(i=0),this.g.zoomer.setLeftOffset(i),this.sel=n}}));e.default=s},5816:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6635),i=l(n(1305)),o=l(n(201)),s=l(n(948)),a=l(n(3346)),u=l(n(5976));function l(t){return t&&t.__esModule?t:{default:t}}var c=n(4722).extend({initialize:function(t){return this.g=t.g,this.draw(),this.listenTo(this.g.stats,"reset",(function(){return this.rerender()})),this.listenTo(this.model,"change:hidden",(0,r.debounce)(this.rerender,10)),this.listenTo(this.model,"sort",this.rerender),this.listenTo(this.model,"add",(function(){return console.log("seq add")})),this.listenTo(this.g.vis,"change:sequences",this.rerender),this.listenTo(this.g.vis,"change:overviewbox",this.rerender),this.listenTo(this.g.visorder,"change",this.rerender),this.listenTo(this.g.zoomer,"change:columnWidth",this.rerender),this.listenTo(this.g.vis,"change:scaleslider",this.rerender),this},draw:function(){if(this.removeViews(),this.g.vis.get("overviewbox")){var t=new s.default({model:this.model,g:this.g});t.ordering=this.g.visorder.get("overviewBox"),this.addView("overviewBox",t)}var e=new o.default({model:this.model,g:this.g});e.ordering=this.g.visorder.get("headerBox"),this.addView("headerBox",e);var n=new a.default({model:this.model,g:this.g});n.ordering=this.g.visorder.get("searchBox"),this.addView("searchbox",n);var r=new i.default({model:this.model,g:this.g});if(r.ordering=this.g.visorder.get("alignmentBody"),this.addView("body",r),this.g.vis.get("scaleslider")){var l=new u.default({model:this.g.scale,g:this.g});l.ordering=this.g.visorder.get("scaleSlider"),this.addView("scaleSlider",l)}return this},render:function(t){return this.renderSubviews(),this.el.className="biojs_msa_stage",this},rerender:function(){if(!this.g.config.get("manualRendering"))return this.draw(),this.render()}});e.default=c},7123:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(5931);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.g=e,this.cache={},this.cacheHeight=0,this.cacheWidth=0}return r(t,[{key:"getFontTile",value:function(t,e,n){return e===this.cacheWidth&&n===this.cacheHeight||(this.cacheHeight=n,this.cacheWidth=e,this.cache={}),void 0===this.cache[t]&&this.createTile(t,e,n),this.cache[t]}},{key:"createTile",value:function(t,e,n){var r=this.cache[t]=document.createElement("canvas");return r.width=e,r.height=n,this.ctx=r.getContext("2d"),this.ctx.font=this.g.zoomer.get("residueFont")+"px mono",this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,e/2,n/2,e)}}]),t}();e.default=i},887:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6635),i=n(5931),o=function(t,e){return this.g=t,this.model=e,this.maxScrollWidth=0,this.maxScrollHeight=0,this.setMaxScrollHeight(),this.setMaxScrollWidth(),this.listenTo(this.g.zoomer,"change:rowHeight",this.setMaxScrollHeight),this.listenTo(this.g.zoomer,"change:columnWidth",this.setMaxScrollWidth),this.listenTo(this.g.zoomer,"change:alignmentWidth",this.setMaxScrollWidth),this.listenTo(this.g.zoomer,"change:alignmentHeight",this.setMaxScrollHeight),this.listenTo(this.model,"add change reset",(function(){return this.setMaxScrollHeight(),this.setMaxScrollWidth()}),this),this};(0,r.extend)(o.prototype,{setMaxScrollHeight:function(){return this.maxScrollHeight=this.g.zoomer.getMaxAlignmentHeight()-this.g.zoomer.get("alignmentHeight")},setMaxScrollWidth:function(){return this.maxScrollWidth=this.g.zoomer.getMaxAlignmentWidth()-this.g.zoomer.getAlignmentWidth()}}),i.mixin(o.prototype),e.default=o},2163:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6635),i=function(t,e){return this.g=t,this.ctx=e,this};_.extend(i.prototype,{_getSelection:function(t){var e=t.get("seq").length,n=[],i=this.g.selcol.getSelForRow(t.get("id"));if(null!=(0,r.find)(i,(function(t){return"row"===t.get("type")})))for(var o=e-1,s=0;s<=o;s++)n.push(s);else if(i.length>0)for(var a,u=0;u<i.length;u++)for(var l=(a=i[u]).get("xStart"),c=a.get("xEnd"),h=l;h<=c;h++)n.push(h);return n},_appendSelection:function(t){var e=this,n=t.model.get("seq"),r=this._getSelection(t.model),i=this._getPrevNextSelection(t.model),o=i[0],s=i[1];if(this.g.zoomer.get("columnWidth"),this.g.zoomer.get("rowHeight"),0!==r.length){var a=0;return function(){for(var i=[],u=n.length-1,l=function(n){i.push(function(){if(t.hidden.indexOf(n)>=0)return a++;var i=n-a;return r.indexOf(n)>=0&&(0===i||r.indexOf(n-1)<0)?e._renderSelection({n,k:i,selection:r,mPrevSel:o,mNextSel:s,xZero:t.xZero,yZero:t.yZero,model:t.model}):void 0}())},c=0;0<u?c<=u:c>=u;0<u?c++:c--)l(c);return i}()}},_renderSelection:function(t){for(var e=t.xZero,n=t.yZero,r=t.n,i=t.k,o=t.selection,s=t.mPrevSel,a=t.mNextSel,u=0,l=t.model.get("seq").length-1,c=r;(r<l?c<=l:c>=l)&&o.indexOf(c)>=0;r<l?c++:c--)u++;var h=this.g.zoomer.get("columnWidth"),f=this.g.zoomer.get("rowHeight"),d=h*u+1,g=this.g.columns.get("hidden");this.ctx.beginPath();var p=this.ctx.lineWidth;this.ctx.lineWidth=3;var v=this.ctx.strokeStyle;this.ctx.strokeStyle="#FF0000",e+=i*h;for(var m=0,_=u-1,y=0;0<_?y<=_:y>=_;0<_?y++:y--){var b=r+y;g.indexOf(b)>=0||(null!=s&&s.indexOf(b)>=0||(this.ctx.moveTo(e+m,n),this.ctx.lineTo(m+h+e,n)),null!=a&&a.indexOf(b)>=0||(this.ctx.moveTo(m+e,f+n),this.ctx.lineTo(m+h+e,f+n)),m+=h)}return this.ctx.moveTo(e,n),this.ctx.lineTo(e,f+n),this.ctx.moveTo(e+d,n),this.ctx.lineTo(e+d,f+n),this.ctx.stroke(),this.ctx.strokeStyle=v,this.ctx.lineWidth=p},_getPrevNextSelection:function(t){var e=t.collection.prev(t),n=t.collection.next(t),r=void 0,i=void 0;return null!=e&&(r=this._getSelection(e)),null!=n&&(i=this._getSelection(n)),[r,i]}}),e.default=i},7981:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=n(6635),o=l(n(7123)),s=l(n(2163)),a=l(n(9749)),u=l(n(887));function l(t){return t&&t.__esModule?t:{default:t}}var c=n(4722),h=n(3264),f=n(2452),d=c.extend({tagName:"canvas",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft change:_alignmentScrollTop",(function(t,e,n){if(null==(null!=n?n.origin:void 0)||"canvasseq"!==n.origin)return this.render()})),this.listenTo(this.g.columns,"change:hidden",this.render),this.listenTo(this.g.zoomer,"change:alignmentWidth change:alignmentHeight",this.render),this.listenTo(this.g.colorscheme,"change",this.render),this.listenTo(this.g.selcol,"reset add",this.render),this.listenTo(this.model,"reset add",this.render),this.el.style.display="inline-block",this.el.style.overflowX="hidden",this.el.style.overflowY="hidden",this.el.className="biojs_msa_seqblock",this.ctx=this.el.getContext("2d"),this.cache=new o.default(this.g),this.coordsCache=new u.default(this.g,this.model),this.listenTo(this.g.zoomer,"change:residueFont",(function(){return this.cache=new o.default(this.g),this.render()})),this.sel=new s.default(this.g,this.ctx),this._setColor(),this.throttleTime=0,this.throttleCounts=0,null!=document.documentElement.style.webkitAppearance?this.throttledDraw=function(){var t=+new Date;if(this.draw(),this.throttleTime+=+new Date-t,this.throttleCounts++,this.throttleCounts>15){var e=Math.ceil(this.throttleTime/this.throttleCounts);return console.log("avgDrawTime/WebKit",e),this.throttledDraw=this.draw}}:this.throttledDraw=(0,i.throttle)(this.throttledDraw,30),this.manageEvents()},throttledDraw:function(){var t=+new Date;if(this.draw(),this.throttleTime+=+new Date-t,this.throttleCounts++,this.throttleCounts>15){var e=Math.ceil(this.throttleTime/this.throttleCounts);return console.log("avgDrawTime",e),e*=1.2,e=Math.max(20,e),this.throttledDraw=_.throttle(this.draw,e)}},manageEvents:function(){var t={mousedown:"_onmousedown",touchstart:"_ontouchstart"};return this.g.config.get("registerMouseClicks")&&(t.dblclick="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),t.mousewheel="_onmousewheel",t.DOMMouseScroll="_onmousewheel",this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents),this.dragStart=[]},_setColor:function(){return this.color=this.g.colorscheme.getSelectedScheme()},draw:function(){if(this.el.width=this.el.width,null!=this.seqDrawer&&this.model.length>0)return this.seqDrawer.drawLetters(),this.seqDrawer.drawRows(this.sel._appendSelection,this.sel),this.seqDrawer.drawRows(this.drawFeatures,this)},drawFeatures:function(t){var e,n=this.g.zoomer.get("columnWidth"),i=this.g.zoomer.get("rowHeight");if(t.model.attributes.height>1){var o=(e=this.ctx,t.model.attributes.features.each((function(r){e.fillStyle=r.attributes.fillColor||"red";var o=r.attributes.xEnd-r.attributes.xStart+1,s=(r.attributes.row+1)*i;return e.fillRect(r.attributes.xStart*n+t.xZero,s+t.yZero,n*o,i)})),e.fillStyle="black",e.font=this.g.zoomer.get("residueFont")+"px mono",e.textBaseline="middle",e.textAlign="center",{v:t.model.attributes.features.each((function(r){var o=r.attributes.xEnd-r.attributes.xStart+1,s=(r.attributes.row+1)*i;return e.fillText(r.attributes.text,t.xZero+r.attributes.xStart*n+o/2*n,t.yZero+.5*i+s)}))});if("object"===(void 0===o?"undefined":r(o)))return o.v}},render:function(){return this.el.setAttribute("height",this.g.zoomer.get("alignmentHeight")+"px"),this.el.setAttribute("width",this.g.zoomer.getAlignmentWidth()+"px"),this.g.zoomer._checkScrolling(this._checkScrolling([this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")]),{header:"canvasseq"}),this._setColor(),this.seqDrawer=new a.default(this.g,this.ctx,this.model,{width:this.el.width,height:this.el.height,color:this.color,cache:this.cache}),this.throttledDraw(),this},_onmousemove:function(t,e){if(0!==this.dragStart.length){var n=h.abs(t),r=[n[0]-this.dragStart[0],n[1]-this.dragStart[1]],i=this.g.zoomer.get("canvasEventScale");e&&(i=3);for(var o=0;o<=1;o++)r[o]=r[o]*i;for(var s=[this.dragStartScroll[0]-r[0],this.dragStartScroll[1]-r[1]],a=0;a<=1;a++)s[a]=Math.round(s[a]);var u=this._checkScrolling(s);this.g.zoomer._checkScrolling(u,{origin:"canvasseq"});for(var l=0;l<=1;l++)u[l]!==s[l]&&(0===u[l]?(this.dragStart[l]=n[l],this.dragStartScroll[l]=0):this.dragStart[l]=n[l]-u[l]);return this.throttledDraw(),null!=t.preventDefault?(t.preventDefault(),t.stopPropagation()):void 0}},_ontouchmove:function(t){return this._onmousemove(t.changedTouches[0],!0),t.preventDefault(),t.stopPropagation()},_onmousedown:function(t){var e=this;return this.dragStart=h.abs(t),this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")],f(document.body).on("mousemove.overmove",(function(t){return e._onmousemove(t)})),f(document.body).on("mouseup.overup",(function(){return e._cleanup()})),t.preventDefault()},_ontouchstart:function(t){var e=this;return this.dragStart=h.abs(t.changedTouches[0]),this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")],f(document.body).on("touchmove.overtmove",(function(t){return e._ontouchmove(t)})),f(document.body).on("touchend.overtend touchleave.overtleave touchcancel.overtcanel",(function(t){return e._touchCleanup(t)}))},_onmousewinout:function(t){if(t.toElement===document.body.parentNode)return this._cleanup()},_cleanup:function(){return this.dragStart=[],f(document.body).off(".overmove"),f(document.body).off(".overup"),f(document.body).off(".overout")},_touchCleanup:function(t){return t.changedTouches.length>0&&this._onmousemove(t.changedTouches[0],!0),this.dragStart=[],f(document.body).off(".overtmove"),f(document.body).off(".overtend"),f(document.body).off(".overtleave"),f(document.body).off(".overtcancel")},_onmousewheel:function(t){var e=h.wheelDelta(t);return this.g.zoomer.set("_alignmentScrollLeft",this.g.zoomer.get("_alignmentScrollLeft")+e[0]),this.g.zoomer.set("_alignmentScrollTop",this.g.zoomer.get("_alignmentScrollTop")+e[1]),t.preventDefault()},_onclick:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:click",e):this.g.trigger("residue:click",e)),this.throttledDraw()},_onmousein:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:mousein",e):this.g.trigger("residue:mousein",e)),this.throttledDraw()},_onmouseout:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:mouseout",e):this.g.trigger("residue:mouseout",e)),this.throttledDraw()},_getClickPos:function(t){var e=h.rel(t);e[0]+=this.g.zoomer.get("_alignmentScrollLeft");var n=Math.floor(e[0]/this.g.zoomer.get("columnWidth")),r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(this.seqDrawer._getSeqForYClick(e[1]),2),i=r[0],o=r[1];n+=this.g.columns.calcHiddenColumns(n),i+=this.model.calcHiddenSeqs(i),n=Math.max(0,n),i=Math.max(0,i);var s=this.model.at(i).get("id");if(!(o>0))return{seqId:s,rowPos:n,evt:t};var a=this.model.at(i).get("features").getFeatureOnRow(o-1,n);if(0!==a.length){var u=a[0];return console.log(a[0].attributes),{seqId:s,feature:u,rowPos:n,evt:t}}},_checkScrolling:function(t){for(var e=[this.coordsCache.maxScrollWidth,this.coordsCache.maxScrollHeight],n=0;n<=1;n++)t[n]>e[n]&&(t[n]=e[n]),t[n]<0&&(t[n]=0);return t}});e.default=d},9749:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i={updateConfig:function(){this.rectWidth=this.g.zoomer.get("columnWidth"),this.rectHeight=this.g.zoomer.get("rowHeight")},drawLetters:function(){return this.updateConfig(),this.ctx.globalAlpha=this.g.colorscheme.get("opacity"),this.drawSeqs((function(t){return this.drawSeq(t,this._drawRect)})),this.ctx.globalAlpha=1,this.rectWidth>=this.g.zoomer.get("minLetterDrawSize")&&this.drawSeqs((function(t){return this.drawSeq(t,this._drawLetter)})),this},drawSeqs:function(t,e){var n=this.g.columns.get("hidden");e=e||this;for(var i=this.getStartSeq(),o=r(i,2),s=o[0],a=o[1],u=s;u<this.model.length;u++){var l=this.model.at(u);if(!l.get("hidden")&&(t.call(e,{model:l,yPos:a,y:u,hidden:n}),(a+=(l.attributes.height||1)*this.rectHeight)>this.height))break}},drawRows:function(t,e){return this.drawSeqs((function(n){return this.drawRow(n,t,e)}))},drawRow:function(t,e,n){var r=this.g.zoomer.get("columnWidth"),i=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/r))),o=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%r)-i*r,s=t.yPos;return e.call(n,{model:t.model,xZero:o,yZero:s,hidden:t.hidden})},getStartSeq:function(){for(var t=Math.max(0,Math.floor(this.g.zoomer.get("_alignmentScrollTop")/this.rectHeight))+1,e=0,n=0;e<t&&n<this.model.length;)e+=this.model.at(n).attributes.height||1,n++;return[n-1,-Math.max(0,this.g.zoomer.get("_alignmentScrollTop")-e*this.rectHeight+(this.model.at(n-1).attributes.height||1)*this.rectHeight)]},_getSeqForYClick:function(t){for(var e=this.getStartSeq(),n=r(e,2),i=n[0],o=n[1]%this.rectHeight,s=Math.max(0,Math.floor((t-o)/this.rectHeight))+1,a=0,u=i;a<s&&u<this.model.length;)a+=this.model.at(u).attributes.height||1,u++;return[u-1,Math.max(0,Math.floor(t/this.rectHeight)-a+(this.model.at(u-1).get("height")||1))]},drawSeq:function(t,e){for(var n=t.model.get("seq"),r=t.yPos,i=this.rectWidth,o=this.rectHeight,s=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/i))),a=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%i),u={rectWidth:i,rectHeight:o,yPos:r,y:t.y},l=this.width,c=s;c<n.length;c++){var h=n[c];if(h=h.toUpperCase(),u.x=c,u.c=h,u.xPos=a,t.hidden.indexOf(c)<0&&(e(this,u),(a+=i)>l))break}},_drawRect:function(t,e){var n=t.color.getColor(e.c,{pos:e.x,y:e.y});if(null!=n)return t.ctx.fillStyle=n,t.ctx.fillRect(e.xPos,e.yPos,e.rectWidth,e.rectHeight)},_drawLetter:function(t,e){return t.ctx.drawImage(t.cache.getFontTile(e.c,e.rectWidth,e.rectHeight),e.xPos,e.yPos,e.rectWidth,e.rectHeight)}},o=function(t,e,n,r){return this.g=t,this.ctx=e,this.model=n,this.width=r.width,this.height=r.height,this.color=r.color,this.cache=r.cache,this.rectHeight=this.g.zoomer.get("rowHeight"),this.rectWidth=this.g.zoomer.get("columnWidth"),this};(0,n(6635).extend)(o.prototype,i),e.default=o},1184:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5709)),o=n(4791),s=n(9465),a=o.extend({className:"biojs_msa_conserv",initialize:function(t){this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.listenTo(this.g.columns,"change:scaling",this.render),this.listenTo(this.g.stats,"reset",this.render);var e=_.extend({},{fillColor:["#660","#ff0"],strokeColor:"#330",maxHeight:20,rectStyler:function(t,e){return t}},this.g.conservationConfig);return this.fillColor=e.fillColor,this.strokeColor=e.strokeColor,this.maxHeight=e.maxHeight,this.rectStyler=e.rectStyler,this.manageEvents()},colorer:function(t){var e,n=function(){return"none"};if("string"==typeof t)n=function(){return t};else if(Array.isArray(t)){2!=t.length&&console.error("ERROR: colorRange array should have exactly two elements",t);var i="undefined"!=typeof d3&&!!d3.scale,o="undefined"!=typeof d3_scale;i||o?(e=(i?d3.scale.linear():d3_scale.scaleLinear()).domain([0,this.maxHeight]).range(t),n=function(t){return e(t.height)}):(console.warn("providing a [min/max] range as input requires d3 to be included - only using the first color"),n=function(e){return t[0]})}else console.warn("expected colorRange to be '#rgb' or ['#rgb', '#rgb']",t,"("+(void 0===t?"undefined":r(t))+")");return n},render:function(){var t=this.g.stats.scale(this.g.stats.conservation());s.removeAllChilds(this.el);var e=this.model.getMaxLength(),n=this.g.zoomer.get("columnWidth"),r=this.maxHeight,o=n*(e-this.g.columns.get("hidden").length),a=i.base({height:r,width:o});a.style.display="inline-block",a.style.cursor="pointer",this.rectData;for(var u=this.colorer(this.fillColor),l=this.colorer(this.strokeColor),c=this.rectStyler,h=this.g.zoomer.get("stepSize"),f=this.g.columns.get("hidden"),d=0,g=0;g<e;)if(f.indexOf(g)>=0)g+=h;else{o=n*h;for(var p=0,v=h-1,m=0;0<v?m<=v:m>=v;0<v?m++:m--)p+=t[g];var _=r*(p/h),y={x:d,y:r-_,maxheight:r,width:o-n/4,height:_,rowPos:g},b=i.rect(y);b.style.stroke=l(y),b.style.fill=u(y),"function"==typeof c&&c(b,y),b.rowPos=g,a.appendChild(b),d+=o,g+=h}return this.el.appendChild(a),this},_onclick:function(t){var e=this,n=t.target.rowPos,r=this.g.zoomer.get("stepSize");return function(){for(var i=[],o=r-1,s=0;0<o?s<=o:s>=o;0<o?s++:s--)i.push(e.g.trigger("bar:click",{rowPos:n+s,evt:t}));return i}()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("bar:mousein",{rowPos:e,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("bar:mouseout",{rowPos:e,evt:t})}});e.default=a},969:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5709)),i=n(4791),o=n(9465),s=i.extend({className:"biojs_msa_gapview",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.listenTo(this.g.columns,"change:scaling",this.render),this.listenTo(this.model,"reset",this.render),this.manageEvents()},render:function(){var t=this.g.stats.gaps();o.removeAllChilds(this.el);var e=this.model.getMaxLength(),n=this.g.zoomer.get("columnWidth"),i=n*(e-this.g.columns.get("hidden").length),s=r.base({height:20,width:i});s.style.display="inline-block",s.style.cursor="pointer";for(var a=this.g.zoomer.get("stepSize"),u=this.g.columns.get("hidden"),l=0,c=0;c<e;)if(u.indexOf(c)>=0)c+=a;else{i=n*a;for(var h=0,f=a-1,d=0;0<f?d<=f:d>=f;0<f?d++:d--)h+=t[c];var g=h/a*20,p=r.rect({x:l,y:20-g,width:i-n/4,height:g,style:"stroke:red;stroke-width:1;"});p.rowPos=c,s.appendChild(p),l+=i,c+=a}return this.el.appendChild(s),this},_onclick:function(t){var e=this,n=t.target.rowPos,r=this.g.zoomer.get("stepSize");return function(){for(var i=[],o=r-1,s=0;0<o?s<=o:s>=o;0<o?s++:s--)i.push(e.g.trigger("gap:click",{rowPos:n+s,evt:t}));return i}()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("gap:mousein",{rowPos:e,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("gap:mouseout",{rowPos:e,evt:t})}});e.default=s},201:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(4940)),i=o(n(3290));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(4722).extend({initialize:function(t){var e=this;return this.g=t.g,this.draw(),this.listenTo(this.g.vis,"change:labels change:metacell change:leftHeader",(function(){return e.draw(),e.render()}))},draw:function(){if(this.removeViews(),this.g.vis.get("leftHeader")&&(this.g.vis.get("labels")||this.g.vis.get("metacell"))){var t=new r.default({model:this.model,g:this.g});t.ordering=-50,this.addView("lHeader",t)}var e=new i.default({model:this.model,g:this.g});return e.ordering=0,this.addView("rHeader",e)},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_header"}});e.default=s},4940:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7277),i=n(4791),o=n(9465),s=i.extend({className:"biojs_msa_headers",initialize:function(t){return this.g=t.g,this.listenTo(this.g.vis,"change:metacell change:labels",this.render),this.listenTo(this.g.zoomer,"change:labelWidth change:metaWidth",this.render)},render:function(){o.removeAllChilds(this.el);var t=0;return t+=this.g.zoomer.getLeftBlockWidth(),this.el.style.width=t+"px",this.g.vis.get("labels")&&this.el.appendChild(this.labelDOM()),this.g.vis.get("metacell")&&this.el.appendChild(this.metaDOM()),this.el.style.display="inline-block",this.el.style.fontSize=this.g.zoomer.get("markerFontsize"),this},labelDOM:function(){var t=r.mk("div");if(t.style.width=this.g.zoomer.getLabelWidth(),t.style.display="inline-block",this.g.vis.get("labelCheckbox")&&t.appendChild(this.addEl(".",10)),this.g.vis.get("labelId")&&t.appendChild(this.addEl("ID",this.g.zoomer.get("labelIdLength"))),this.g.vis.get("labelPartition")&&t.appendChild(this.addEl("part",15)),this.g.vis.get("labelName")){var e=this.addEl("Label");t.appendChild(e)}return t},addEl:function(t,e){var n=document.createElement("span");return n.textContent=t,null!=e&&(n.style.width=e+"px"),n.style.display="inline-block",n},metaDOM:function(){var t=r.mk("div");return t.style.width=this.g.zoomer.getMetaWidth(),t.style.display="inline-block",this.g.vis.get("metaGaps")&&t.appendChild(this.addEl("Gaps",this.g.zoomer.get("metaGapWidth"))),this.g.vis.get("metaIdentity")&&t.appendChild(this.addEl("Ident",this.g.zoomer.get("metaIdentWidth"))),t}});e.default=s},1625:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5709)),i=n(4791),o=n(9465),s=n(2452),a=i.extend({className:"biojs_msa_marker",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.manageEvents()},render:function(){o.removeAllChilds(this.el);var t=this.g.zoomer.get("markerFontsize"),e=this.g.zoomer.get("columnWidth"),n=this.g.zoomer.get("stepSize"),r=this.g.zoomer.get("markerStepSize"),i=this.g.columns.get("hidden");this.el.style.fontSize=t;var s=document.createElement("span"),a=0,u=this.model.getMaxLength();for(a=0;a<u;a++)if(i.indexOf(a)>=0)this.markerHidden(l,a,n),a+=n;else{var l=document.createElement("span");l.className="msa-col-header",l.style.width=e+"px",l.style.display="inline-block",l.textContent=(a+1)%r==0?a+1:(a+1)%n==0?".":" ",l.rowPos=a,s.appendChild(l)}return this.el.appendChild(s),this},markerHidden:function(t,e,n){for(var i=this,o=this.g.columns.get("hidden").slice(0),a=Math.max(0,e-n),u=!0,l=a;a<e?l<=e:l>=e;a<e?l++:l--)u&=o.indexOf(l)>=0;if(!u){var c=this.model.getMaxLength(),h=0,f=-1;for(e=e;(e<c?e<=c:e>=c)&&(f>=0||(f=o.indexOf(e)),o.indexOf(e)>=0);e<c?e++:e--)h++;var d=r.base({height:10,width:10});d.style.position="relative";var g=r.polygon({points:"0,0 5,5 10,0",style:"fill:lime;stroke:purple;stroke-width:1"});return s(g).on("click",(function(t){return o.splice(f,h),i.g.columns.set("hidden",o)})),d.appendChild(g),t.appendChild(d),d}},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onclick:function(t){var e=t.target.rowPos,n=this.g.zoomer.get("stepSize");return this.g.trigger("column:click",{rowPos:e,stepSize:n,evt:t})},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos),n=this.g.zoomer.get("stepSize");return this.g.trigger("column:mousein",{rowPos:e,stepSize:n,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos),n=this.g.zoomer.get("stepSize");return this.g.trigger("column:mouseout",{rowPos:e,stepSize:n,evt:t})}});e.default=a},3290:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1625)),i=a(n(1184)),o=a(n(6439)),s=a(n(969));function a(t){return t&&t.__esModule?t:{default:t}}var u=n(4722).extend({initialize:function(t){return this.g=t.g,this.blockEvents=!1,this.listenTo(this.g.vis,"change:header",(function(){return this.draw(),this.render()})),this.listenTo(this.g.vis,"change",this._setSpacer),this.listenTo(this.g.zoomer,"change:alignmentWidth",this._setWidth),this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft",this._adjustScrollingLeft),this.listenTo(this.g.columns,"change:hidden",(function(){return this.draw(),this.render()})),this.draw(),this.g.vis.once("change:loaded",this._adjustScrollingLeft,this)},events:{scroll:"_sendScrollEvent"},draw:function(){if(this.removeViews(),this.g.vis.get("conserv")){var t=new i.default({model:this.model,g:this.g});t.ordering=-20,this.addView("conserv",t)}if(this.g.vis.get("markers")){var e=new r.default({model:this.model,g:this.g});e.ordering=-10,this.addView("marker",e)}if(this.g.vis.get("seqlogo")){var n=new o.default({model:this.model,g:this.g});n.ordering=-30,this.addView("seqlogo",n)}if(this.g.vis.get("gapHeader")){var a=new s.default({model:this.model,g:this.g});return a.ordering=-25,this.addView("gapview",a)}},render:function(){return this.renderSubviews(),this._setSpacer(),this.el.className="biojs_msa_rheader",this.el.style.overflowX="auto",this.el.style.display="inline-block",this._setWidth(),this._adjustScrollingLeft(),this},_sendScrollEvent:function(){return this.blockEvents||this.g.zoomer.set("_alignmentScrollLeft",this.el.scrollLeft,{origin:"header"}),this.blockEvents=!1},_adjustScrollingLeft:function(t,e,n){if(null==(null!=n?n.origin:void 0)||"header"!==n.origin){var r=this.g.zoomer.get("_alignmentScrollLeft");return this.blockEvents=!0,this.el.scrollLeft=r}},_setSpacer:function(){return this.el.style.marginLeft=this._getLabelWidth()+"px"},_getLabelWidth:function(){var t=0;return this.g.vis.get("leftHeader")||(t+=this.g.zoomer.getLeftBlockWidth()),t},_setWidth:function(){return this.el.style.width=this.g.zoomer.getAlignmentWidth()+"px"}});e.default=u},6439:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4362),i=n(4791),o=n(9465),s=i.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:alignmentWidth",this.render),this.listenTo(this.g.colorscheme,"change",(function(){var t=this.g.colorscheme.getSelectedScheme();return this.seqlogo.changeColors(t),this.render()})),this.listenTo(this.g.zoomer,"change:columnWidth",(function(){return this.seqlogo.column_width=this.g.zoomer.get("columnWidth"),this.render()})),this.listenTo(this.g.stats,"reset",(function(){return this.draw(),this.render()})),this.draw()},draw:function(){o.removeAllChilds(this.el),console.log("redraw seqlogo");var t=this.g.stats.conservResidue({scaled:!0}),e={alphabet:"aa",heightArr:t=_.map(t,(function(t){return _.pick(t,(function(t,e){return"-"!==e}))}))},n=this.g.colorscheme.getSelectedScheme();return this.seqlogo=new r({model:this.model,g:this.g,data:e,yaxis:!1,scroller:!1,xaxis:!1,height:100,column_width:this.g.zoomer.get("columnWidth"),positionMarker:!1,zoom:1,el:this.el,colors:n})},render:function(){return this.seqlogo.render()}});e.default=s},1619:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(3216))&&r.__esModule?r:{default:r},o=n(4722).extend({initialize:function(t){var e=this;return this.g=t.g,this.draw(),this.listenTo(this.g.zoomer,"change:_alignmentScrollTop",this._adjustScrollingTop),this.g.vis.once("change:loaded",this._adjustScrollingTop,this),this.listenTo(this.g.zoomer,"change:alignmentHeight",this._setHeight),this.listenTo(this.model,"change:reference",this.draw),this.listenTo(this.model,"reset add remove",(function(){return e.draw(),e.render()}))},draw:function(){this.removeViews(),console.log("redraw columns",this.model.length);for(var t=0;t<this.model.length;t++)if(!this.model.at(t).get("hidden")){var e=new i.default({model:this.model.at(t),g:this.g});e.ordering=t,this.addView("row_"+t,e)}},events:{scroll:"_sendScrollEvent"},_sendScrollEvent:function(){return this.g.zoomer.set("_alignmentScrollTop",this.el.scrollTop,{origin:"label"})},_adjustScrollingTop:function(){return this.el.scrollTop=this.g.zoomer.get("_alignmentScrollTop")},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_labelblock",this.el.style.display="inline-block",this.el.style.verticalAlign="top",this.el.style.overflowY="auto",this.el.style.overflowX="hidden",this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px",this.el.style.lineHeight=""+this.g.zoomer.get("labelLineHeight"),this._setHeight(),this},_setHeight:function(){return this.el.style.height=this.g.zoomer.get("alignmentHeight")+"px"}});e.default=o},3216:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3640)),i=o(n(8815));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(4722).extend({initialize:function(t){return this.g=t.g,this.draw(),this.listenTo(this.g.vis,"change:labels",this.drawR),this.listenTo(this.g.vis,"change:metacell",this.drawR),this.listenTo(this.g.zoomer,"change:rowHeight",(function(){return this.el.style.height=this.g.zoomer.get("rowHeight")+"px"})),this.listenTo(this.g.selcol,"change reset add",this.setSelection)},draw:function(){if(this.removeViews(),this.g.vis.get("labels")&&this.addView("labels",new r.default({model:this.model,g:this.g})),this.g.vis.get("metacell")){var t=new i.default({model:this.model,g:this.g});return this.addView("metacell",t)}},drawR:function(){return this.draw(),this.render()},render:function(){return this.renderSubviews(),this.el.setAttribute("class","biojs_msa_labelrow"),this.el.style.height=this.g.zoomer.get("rowHeight")*(this.model.attributes.height||1)+"px",this.setSelection(),this},setSelection:function(){return this.g.selcol.getSelForRow(this.model.id).length>0?this.el.style.fontWeight="bold":this.el.style.fontWeight="normal"}});e.default=s},3640:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4791),i=n(9465),o=r.extend({initialize:function(t){return this.seq=t.seq,this.g=t.g,this.manageEvents()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents),this.listenTo(this.g.vis,"change:labelName change:labelId change:labelPartition change:labelCheckbox",this.render),this.listenTo(this.g.zoomer,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",this.render),this.listenTo(this.g.zoomer,"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight",this.render)},render:function(){if(i.removeAllChilds(this.el),this.el.style.width=this.g.zoomer.getLabelWidth()+"px",this.el.setAttribute("class","biojs_msa_labels"),this.g.vis.get("labelCheckbox")){var t=document.createElement("input");t.setAttribute("type","checkbox"),t.value=this.model.get("id"),t.name="seq",t.style.width=this.g.zoomer.get("labelCheckLength")+"px",this.el.appendChild(t)}if(this.g.vis.get("labelId")){var e=document.createElement("span"),n=this.model.get("id");isNaN(n)||n++,e.textContent=n,e.style.width=this.g.zoomer.get("labelIdLength")+"px",e.style.display="inline-block",this.el.appendChild(e)}if(this.g.vis.get("labelPartition")){var r=document.createElement("span");r.style.width=this.g.zoomer.get("labelPartLength")+"px",r.textContent=this.model.get("partition"),r.style.display="inline-block",this.el.appendChild(e),this.el.appendChild(r)}if(this.g.vis.get("labelName")){var o=document.createElement("span");o.textContent=this.model.get("name"),this.model.get("ref")&&this.g.config.get("hasRef")&&(o.style.fontWeight="bold"),o.style.width=this.g.zoomer.get("labelNameLength")+"px",this.el.appendChild(o)}return this.el.style.overflow=scroll,this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px",this},_onclick:function(t){var e=this.model.get("id");return this.g.trigger("row:click",{seqId:e,evt:t})},_onmousein:function(t){var e=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:e,evt:t})},_onmouseout:function(t){var e=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:e,evt:t})}});e.default=o},8815:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4300),o=(r=n(3886))&&r.__esModule?r:{default:r},s=n(6635),a=n(4791),u=n(9465),l=a.extend({className:"biojs_msa_metaview",initialize:function(t){return this.g=t.g,this.listenTo(this.g.vis,"change:metacell",this.render),this.listenTo(this.g.zoomer,"change:metaWidth",this.render)},events:{click:"_onclick",mousein:"_onmousein",mouseout:"_onmouseout"},render:function(){u.removeAllChilds(this.el),this.el.style.display="inline-block";var t=this.g.zoomer.getMetaWidth();if(this.el.style.width=t-10,this.el.style.paddingRight=5,this.el.style.paddingLeft=5,this.el.style.fontSize=this.g.zoomer.get("labelFontsize")-2+"px",this.g.vis.get("metaGaps")){var e=this.model.get("seq"),n=(0,s.reduce)(e,(function(t,e){return"-"===e?++t:void 0}),0);n=(100*n/e.length).toFixed(0)+"%";var r=document.createElement("span");r.textContent=n,r.style.display="inline-block",r.style.width=35,this.el.appendChild(r)}if(this.g.vis.get("metaIdentity")){var a=this.g.stats.identity()[this.model.id],l=document.createElement("span");this.model.get("ref")&&this.g.config.get("hasRef")?l.textContent="ref.":null!=a&&(l.textContent=a.toFixed(2)),l.style.display="inline-block",l.style.width=40,this.el.appendChild(l)}if(this.g.vis.get("metaLinks")&&this.model.attributes.ids){var c=i.seqs.buildLinks(this.model.attributes.ids);if(Object.keys(c).length>0){var h=new o.default({name:""});console.log(Object.keys(c)),c.forEach((function(t,e){return h.addNode(e,(function(e){return window.open(t)}))}));var f=h.buildDOM();return f.style.cursor="pointer",this.el.appendChild(f)}}},_onclick:function(t){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:t})})},_onmousein:function(t){return this.g.trigger("meta:mousein",{seqId:this.model.get("id",{evt:t})})},_onmouseout:function(t){return this.g.trigger("meta:mouseout",{seqId:this.model.get("id",{evt:t})})}});e.default=l},4655:t=>{var e=function(t){return t.replace(/^\s+|\s+$/g,"")};t.exports=function(t){if(!t)return{};for(var n,r={},i=e(t).split("\n"),o=0;o<i.length;o++){var s=i[o],a=s.indexOf(":"),u=e(s.slice(0,a)).toLowerCase(),l=e(s.slice(a+1));void 0===r[u]?r[u]=l:(n=r[u],"[object Array]"===Object.prototype.toString.call(n)?r[u].push(l):r[u]=[r[u],l])}return r}},7772:(t,e,n)=>{var r=n(4858),i=function(t,e){if(!this||this.constructor!==i)return new i(t);if(void 0===t||"string"==typeof t)throw new TypeError("you need to give the seq stat an array");this.resetSeqs(t),this.alphabetSize=4,this._useBackground=!1,this.useGaps=!1,this.ignoredChars=["-","*"],r.extend(this,e)};i.prototype.addSeq=function(t){this.seqs.push(t),this._reset()},i.prototype.removeSeq=function(t){"number"==typeof t?this.seqs.splice(t,1):r.each(this.seqs,function(e,n){t===e&&this.seqs.splice(n,1)}.bind(this)),this._reset()},i.prototype.addSeqs=function(t){t.forEach(function(t){this.addSeq(t)}.bind(this))},i.prototype.resetSeqs=function(t){if(this.seqs=[],!t instanceof Array||"at"in t){this.mseqs=t;var e=function(){var t=this.mseqs.pluck("seq");this.resetSeqs(t)};t.on("add change reset ",e,this),e.call(this)}else this.addSeqs(t),this._reset(),this.trigger("reset")};var o=["consensus","frequency","maxLength","ic","gaps"];i.prototype._reset=function(){for(var t=0;t<o.length;t++)this["_"+o[t]]=void 0;this._identity=void 0,this._background=void 0},i.prototype.setBackground=function(t){this._useBackground=t,this._reset()},i.prototype.useBackground=function(){this.setBackground(!0)},i.prototype.setDNA=function(){this.alphabetSize=4},i.prototype.setProtein=function(){this.alphabetSize=20},o.forEach((function(t){i.prototype[t]=function(){return void 0===this["_"+t]&&(this["_"+t]=this[t+"Calc"]()),this["_"+t]}})),i.prototype.identity=function(t){var e;return(void 0===this._identity||t)&&(e=this.identityCalc(t),this._identity=void 0),this._identity||e},i.prototype.background=function(){return void 0!==this.bg?this.bg:(void 0===this._background&&this.backgroundCalc(),this._background)},i.prototype.frequencyCalc=function(t){var e,n;e=new Array(this.maxLength()),n=new Array(this.seqs.length);var i=this.ignoredChars;return void 0!==t&&t.all&&(i=[]),r.each(this.seqs,(function(t){r.each(t,(function(t,r){i.indexOf(t)>=0||(void 0===e[r]&&(e[r]={}),void 0===e[r][t]&&(e[r][t]=0),e[r][t]++,void 0===n[r]&&(n[r]=0),n[r]++)}))})),r.each(e,(function(t,i){return r.each(t,(function(t,r){return e[i][r]=t/n[i]}))})),this._frequency=e,e},i.prototype.backgroundCalc=function(){var t={},e=0;return r.each(this.seqs,(function(n){r.each(n,(function(n){return void 0===t[n]&&(t[n]=0),t[n]++,e++}))})),t=r.mapValues(t,(function(t){return t/e})),this._background=t,t},i.prototype.icCalc=function(){var t=this.frequency();if(this._useBackground)var e=this.background();var n=this.ignoredChars,i=this._useBackground,o=r.map(t,(function(t){return r.reduce(t,(function(t,r,o){return n.indexOf(o)>=0?t:(i&&(r/=e[o]),t-r*(Math.log(r)/Math.log(2)))}),0)}));return this._ic=o,o},i.prototype.conservation=function(t){var e=this.ic(),n=this.gaps(),i=this;t=t||this.alphabetSize;var o=Math.log(t)/Math.log(2),s=0;return r.map(e,(function(t){var e=o-t;return i.useGaps&&(e*=1-n[s++]),e}))},i.prototype.conservResidue=function(t){var e,n=t?t.alphabetSize:void 0,i=this.ignoredChars;e=void 0!==t&&t.scaled?this.scale(this.conservation(n)):this.conservation(n);var o,s=this.frequency();return r.map(s,(function(t,n){o=r.reject(r.keys(t),(function(t){return i.indexOf(t)>=0}));var s={};return r.each(o,(function(r){s[r]=t[r]*e[n]})),s}))},i.prototype.conservResidue2=function(t){var e=this.frequency(),n=this.conservation(t),i=this.background();return r.map(e,(function(t,o){return r.map(t,(function(t){var s=r.reduce(e[o],(function(t,e){return t+e/i[o]}),0);return t/i[o]/s*n[o]}),0)}))},i.prototype.scale=function(t,e){e=e||this.alphabetSize;var n=Math.log(e)/Math.log(2);return r.map(t,(function(t){return t/n}))},i.prototype.maxLengthCalc=function(){return 0===this.seqs.length?0:r.max(this.seqs,(function(t){return t.length})).length},i.prototype.consensusCalc=function(){var t=new Array(this.maxLength());return r.each(this.seqs,(function(e){r.each(e,(function(e,n){void 0===t[n]&&(t[n]={}),void 0===t[n][e]&&(t[n][e]=0),t[n][e]++}))})),this._consensus=r.reduce(t,(function(t,e){var n;return n=r.keys(e),t+r.max(n,(function(t){return e[t]}))}),""),this._consensus},i.prototype.identityCalc=function(t){var e=t||this.consensus();return this._identity=this.seqs.map((function(t){for(var n=0,r=0,i=0;i<t.length;i++)"-"!==t[i]&&"-"!==e[i]&&(r++,t[i]===e[i]&&n++);return n/r})),this._identity},i.prototype.gapsCalc=function(){var t=this.maxLength();if(t<=1||void 0===t)return[];var e=new Array(this.maxLength());return r.each(this.seqs,(function(t){r.each(t,(function(t,n){void 0===e[n]&&(e[n]={g:0,t:0}),t="-"===t?"g":"t",e[n][t]++}))})),this._gaps=r.map(e,(function(t){return t.g/(t.g+t.t)})),this._gaps},r.mixin({mapValues:function(t,e){return r.object(r.keys(t),r.map(t,e))}}),n(5931).mixin(i.prototype),t.exports=i},4858:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VERSION:()=>i,after:()=>qe,all:()=>Qe,allKeys:()=>vt,any:()=>tn,assign:()=>Lt,before:()=>Le,bind:()=>we,bindAll:()=>ze,chain:()=>me,chunk:()=>In,clone:()=>Pt,collect:()=>$e,compact:()=>Cn,compose:()=>Ae,constant:()=>J,contains:()=>en,countBy:()=>gn,create:()=>It,debounce:()=>Oe,default:()=>Dn,defaults:()=>Rt,defer:()=>Ee,delay:()=>Ce,detect:()=>Ue,difference:()=>Mn,drop:()=>zn,each:()=>Ge,escape:()=>se,every:()=>Qe,extend:()=>qt,extendOwn:()=>Lt,filter:()=>Ye,find:()=>Ue,findIndex:()=>Pe,findKey:()=>Ne,findLastIndex:()=>We,findWhere:()=>Ve,first:()=>Sn,flatten:()=>En,foldl:()=>Ze,foldr:()=>Ke,forEach:()=>Ge,functions:()=>Tt,get:()=>Ht,groupBy:()=>fn,has:()=>Ut,head:()=>Sn,identity:()=>Vt,include:()=>en,includes:()=>en,indexBy:()=>dn,indexOf:()=>De,initial:()=>xn,inject:()=>Ze,intersection:()=>An,invert:()=>jt,invoke:()=>nn,isArguments:()=>Z,isArray:()=>G,isArrayBuffer:()=>I,isBoolean:()=>M,isDataView:()=>V,isDate:()=>q,isElement:()=>O,isEmpty:()=>ut,isEqual:()=>pt,isError:()=>R,isFinite:()=>K,isFunction:()=>F,isMap:()=>zt,isMatch:()=>lt,isNaN:()=>Y,isNull:()=>C,isNumber:()=>A,isObject:()=>k,isRegExp:()=>L,isSet:()=>Ct,isString:()=>T,isSymbol:()=>N,isTypedArray:()=>it,isUndefined:()=>E,isWeakMap:()=>kt,isWeakSet:()=>Et,iteratee:()=>Kt,keys:()=>at,last:()=>kn,lastIndexOf:()=>He,map:()=>$e,mapObject:()=>Jt,matcher:()=>Gt,matches:()=>Gt,max:()=>sn,memoize:()=>ke,methods:()=>Tt,min:()=>an,mixin:()=>Wn,negate:()=>Te,noop:()=>Qt,now:()=>re,object:()=>Rn,omit:()=>wn,once:()=>Re,pairs:()=>Ot,partial:()=>be,partition:()=>pn,pick:()=>bn,pluck:()=>rn,property:()=>$t,propertyOf:()=>te,random:()=>ne,range:()=>Nn,reduce:()=>Ze,reduceRight:()=>Ke,reject:()=>Je,rest:()=>zn,restArguments:()=>z,result:()=>ge,sample:()=>un,select:()=>Ye,shuffle:()=>ln,size:()=>_n,some:()=>tn,sortBy:()=>cn,sortedIndex:()=>Fe,tail:()=>zn,take:()=>Sn,tap:()=>Wt,template:()=>de,templateSettings:()=>ue,throttle:()=>Me,times:()=>ee,toArray:()=>mn,toPath:()=>Ft,transpose:()=>qn,unescape:()=>ae,union:()=>Tn,uniq:()=>jn,unique:()=>jn,uniqueId:()=>ve,unzip:()=>qn,values:()=>Mt,where:()=>on,without:()=>On,wrap:()=>je,zip:()=>Ln});var r={};n.r(r),n.d(r,{VERSION:()=>i,after:()=>qe,all:()=>Qe,allKeys:()=>vt,any:()=>tn,assign:()=>Lt,before:()=>Le,bind:()=>we,bindAll:()=>ze,chain:()=>me,chunk:()=>In,clone:()=>Pt,collect:()=>$e,compact:()=>Cn,compose:()=>Ae,constant:()=>J,contains:()=>en,countBy:()=>gn,create:()=>It,debounce:()=>Oe,default:()=>Fn,defaults:()=>Rt,defer:()=>Ee,delay:()=>Ce,detect:()=>Ue,difference:()=>Mn,drop:()=>zn,each:()=>Ge,escape:()=>se,every:()=>Qe,extend:()=>qt,extendOwn:()=>Lt,filter:()=>Ye,find:()=>Ue,findIndex:()=>Pe,findKey:()=>Ne,findLastIndex:()=>We,findWhere:()=>Ve,first:()=>Sn,flatten:()=>En,foldl:()=>Ze,foldr:()=>Ke,forEach:()=>Ge,functions:()=>Tt,get:()=>Ht,groupBy:()=>fn,has:()=>Ut,head:()=>Sn,identity:()=>Vt,include:()=>en,includes:()=>en,indexBy:()=>dn,indexOf:()=>De,initial:()=>xn,inject:()=>Ze,intersection:()=>An,invert:()=>jt,invoke:()=>nn,isArguments:()=>Z,isArray:()=>G,isArrayBuffer:()=>I,isBoolean:()=>M,isDataView:()=>V,isDate:()=>q,isElement:()=>O,isEmpty:()=>ut,isEqual:()=>pt,isError:()=>R,isFinite:()=>K,isFunction:()=>F,isMap:()=>zt,isMatch:()=>lt,isNaN:()=>Y,isNull:()=>C,isNumber:()=>A,isObject:()=>k,isRegExp:()=>L,isSet:()=>Ct,isString:()=>T,isSymbol:()=>N,isTypedArray:()=>it,isUndefined:()=>E,isWeakMap:()=>kt,isWeakSet:()=>Et,iteratee:()=>Kt,keys:()=>at,last:()=>kn,lastIndexOf:()=>He,map:()=>$e,mapObject:()=>Jt,matcher:()=>Gt,matches:()=>Gt,max:()=>sn,memoize:()=>ke,methods:()=>Tt,min:()=>an,mixin:()=>Wn,negate:()=>Te,noop:()=>Qt,now:()=>re,object:()=>Rn,omit:()=>wn,once:()=>Re,pairs:()=>Ot,partial:()=>be,partition:()=>pn,pick:()=>bn,pluck:()=>rn,property:()=>$t,propertyOf:()=>te,random:()=>ne,range:()=>Nn,reduce:()=>Ze,reduceRight:()=>Ke,reject:()=>Je,rest:()=>zn,restArguments:()=>z,result:()=>ge,sample:()=>un,select:()=>Ye,shuffle:()=>ln,size:()=>_n,some:()=>tn,sortBy:()=>cn,sortedIndex:()=>Fe,tail:()=>zn,take:()=>Sn,tap:()=>Wt,template:()=>de,templateSettings:()=>ue,throttle:()=>Me,times:()=>ee,toArray:()=>mn,toPath:()=>Ft,transpose:()=>qn,unescape:()=>ae,union:()=>Tn,uniq:()=>jn,unique:()=>jn,uniqueId:()=>ve,unzip:()=>qn,values:()=>Mt,where:()=>on,without:()=>On,wrap:()=>je,zip:()=>Ln});var i="1.12.0",o="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},s=Array.prototype,a=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=s.push,c=s.slice,h=a.toString,f=a.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,g="undefined"!=typeof DataView,p=Array.isArray,v=Object.keys,m=Object.create,_=d&&ArrayBuffer.isView,y=isNaN,b=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function z(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function k(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function C(t){return null===t}function E(t){return void 0===t}function M(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)}function O(t){return!(!t||1!==t.nodeType)}function j(t){var e="[object "+t+"]";return function(t){return h.call(t)===e}}const T=j("String"),A=j("Number"),q=j("Date"),L=j("RegExp"),R=j("Error"),N=j("Symbol"),I=j("ArrayBuffer");var P=j("Function"),W=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof W&&(P=function(t){return"function"==typeof t||!1});const F=P,B=j("Object");var D=g&&B(new DataView(new ArrayBuffer(8))),H="undefined"!=typeof Map&&B(new Map),U=j("DataView");const V=D?function(t){return null!=t&&F(t.getInt8)&&I(t.buffer)}:U,G=p||j("Array");function $(t,e){return null!=t&&f.call(t,e)}var X=j("Arguments");!function(){X(arguments)||(X=function(t){return $(t,"callee")})}();const Z=X;function K(t){return!N(t)&&b(t)&&!isNaN(parseFloat(t))}function Y(t){return A(t)&&y(t)}function J(t){return function(){return t}}function Q(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=S}}function tt(t){return function(e){return null==e?void 0:e[t]}}const et=tt("byteLength"),nt=Q(et);var rt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const it=d?function(t){return _?_(t)&&!V(t):nt(t)&&rt.test(h.call(t))}:J(!1),ot=tt("length");function st(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=x.length,r=t.constructor,i=F(r)&&r.prototype||a,o="constructor";for($(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=x[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function at(t){if(!k(t))return[];if(v)return v(t);var e=[];for(var n in t)$(t,n)&&e.push(n);return w&&st(t,e),e}function ut(t){if(null==t)return!0;var e=ot(t);return"number"==typeof e&&(G(t)||T(t)||Z(t))?0===e:0===ot(at(t))}function lt(t,e){var n=at(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0}function ct(t){return t instanceof ct?t:this instanceof ct?void(this._wrapped=t):new ct(t)}function ht(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,et(t))}ct.VERSION=i,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var ft="[object DataView]";function dt(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&gt(t,e,n,r)}function gt(t,e,n,r){t instanceof ct&&(t=t._wrapped),e instanceof ct&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;if(D&&"[object Object]"==i&&V(t)){if(!V(e))return!1;i=ft}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e);case"[object ArrayBuffer]":case ft:return gt(ht(t),ht(e),n,r)}var o="[object Array]"===i;if(!o&&it(t)){if(et(t)!==et(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(F(s)&&s instanceof s&&F(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!dt(t[l],e[l],n,r))return!1}else{var c,f=at(t);if(l=f.length,at(e).length!==l)return!1;for(;l--;)if(!$(e,c=f[l])||!dt(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}function pt(t,e){return dt(t,e)}function vt(t){if(!k(t))return[];var e=[];for(var n in t)e.push(n);return w&&st(t,e),e}function mt(t){var e=ot(t);return function(n){if(null==n)return!1;var r=vt(n);if(ot(r))return!1;for(var i=0;i<e;i++)if(!F(n[t[i]]))return!1;return t!==xt||!F(n[_t])}}var _t="forEach",yt=["clear","delete"],bt=["get","has","set"],wt=yt.concat(_t,bt),xt=yt.concat(bt),St=["add"].concat(yt,_t,"has");const zt=H?mt(wt):j("Map"),kt=H?mt(xt):j("WeakMap"),Ct=H?mt(St):j("Set"),Et=j("WeakSet");function Mt(t){for(var e=at(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Ot(t){for(var e=at(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function jt(t){for(var e={},n=at(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Tt(t){var e=[];for(var n in t)F(t[n])&&e.push(n);return e.sort()}function At(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}}const qt=At(vt),Lt=At(at),Rt=At(vt,!0);function Nt(t){if(!k(t))return{};if(m)return m(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function It(t,e){var n=Nt(t);return e&&Lt(n,e),n}function Pt(t){return k(t)?G(t)?t.slice():qt({},t):t}function Wt(t,e){return e(t),t}function Ft(t){return G(t)?t:[t]}function Bt(t){return ct.toPath(t)}function Dt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ht(t,e,n){var r=Dt(t,Bt(e));return E(r)?n:r}function Ut(t,e){for(var n=(e=Bt(e)).length,r=0;r<n;r++){var i=e[r];if(!$(t,i))return!1;t=t[i]}return!!n}function Vt(t){return t}function Gt(t){return t=Lt({},t),function(e){return lt(e,t)}}function $t(t){return t=Bt(t),function(e){return Dt(e,t)}}function Xt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return null==t?Vt:F(t)?Xt(t,e,n):k(t)&&!G(t)?Gt(t):$t(t)}function Kt(t,e){return Zt(t,e,1/0)}function Yt(t,e,n){return ct.iteratee!==Kt?ct.iteratee(t,e):Zt(t,e,n)}function Jt(t,e,n){e=Yt(e,n);for(var r=at(t),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=e(t[a],a,t)}return o}function Qt(){}function te(t){return null==t?Qt:function(e){return Ht(t,e)}}function ee(t,e,n){var r=Array(Math.max(0,t));e=Xt(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function ne(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ct.toPath=Ft,ct.iteratee=Kt;const re=Date.now||function(){return(new Date).getTime()};function ie(t){var e=function(e){return t[e]},n="(?:"+at(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}const oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},se=ie(oe),ae=ie(jt(oe)),ue=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var le=/(.)^/,ce={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},he=/\\|'|\r|\n|\u2028|\u2029/g;function fe(t){return"\\"+ce[t]}function de(t,e,n){!e&&n&&(e=n),e=Rt({},e,ct.templateSettings);var r,i=RegExp([(e.escape||le).source,(e.interpolate||le).source,(e.evaluate||le).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,n,r,i,a){return s+=t.slice(o,a).replace(he,fe),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return r.call(this,t,ct)},u=e.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a}function ge(t,e,n){var r=(e=Bt(e)).length;if(!r)return F(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=F(o)?o.call(t):o}return t}var pe=0;function ve(t){var e=++pe+"";return t?t+e:e}function me(t){var e=ct(t);return e._chain=!0,e}function _e(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Nt(t.prototype),s=t.apply(o,i);return k(s)?s:o}var ye=z((function(t,e){var n=ye.placeholder,r=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return _e(t,r,this,this,s)};return r}));ye.placeholder=ct;const be=ye,we=z((function(t,e,n){if(!F(t))throw new TypeError("Bind must be called on a function");var r=z((function(i){return _e(t,r,e,this,n.concat(i))}));return r})),xe=Q(ot);function Se(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,s=ot(t);o<s;o++){var a=t[o];if(xe(a)&&(G(a)||Z(a)))if(e>1)Se(a,e-1,n,r),i=r.length;else for(var u=0,l=a.length;u<l;)r[i++]=a[u++];else n||(r[i++]=a)}return r}const ze=z((function(t,e){var n=(e=Se(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=we(t[r],t)}return t}));function ke(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return $(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}const Ce=z((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Ee=be(Ce,ct,1);function Me(t,e,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:re(),r=null,s=t.apply(i,o),r||(i=o=null)},l=function(){var l=re();a||!1!==n.leading||(a=l);var c=e-(l-a);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l}function Oe(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},s=z((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,e),a&&(i=t.apply(this,s))}else r=Ce(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s}function je(t,e){return be(e,t)}function Te(t){return function(){return!t.apply(this,arguments)}}function Ae(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function qe(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Le(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Re=be(Le,2);function Ne(t,e,n){e=Yt(e,n);for(var r,i=at(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r}function Ie(t){return function(e,n,r){n=Yt(n,r);for(var i=ot(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}const Pe=Ie(1),We=Ie(-1);function Fe(t,e,n,r){for(var i=(n=Yt(n,r,1))(e),o=0,s=ot(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o}function Be(t,e,n){return function(r,i,o){var s=0,a=ot(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(c.call(r,s,a),Y))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}const De=Be(1,Pe,Fe),He=Be(-1,We);function Ue(t,e,n){var r=(xe(t)?Pe:Ne)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Ve(t,e){return Ue(t,Gt(e))}function Ge(t,e,n){var r,i;if(e=Xt(e,n),xe(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=at(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function $e(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o}function Xe(t){var e=function(e,n,r,i){var o=!xe(e)&&at(e),s=(o||e).length,a=t>0?0:s-1;for(i||(r=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var u=o?o[a]:a;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,Xt(n,i,4),r,o)}}const Ze=Xe(1),Ke=Xe(-1);function Ye(t,e,n){var r=[];return e=Yt(e,n),Ge(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Je(t,e,n){return Ye(t,Te(Yt(e)),n)}function Qe(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0}function tn(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1}function en(t,e,n,r){return xe(t)||(t=Mt(t)),("number"!=typeof n||r)&&(n=0),De(t,e,n)>=0}const nn=z((function(t,e,n){var r,i;return F(e)?i=e:(e=Bt(e),r=e.slice(0,-1),e=e[e.length-1]),$e(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=Dt(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function rn(t,e){return $e(t,$t(e))}function on(t,e){return Ye(t,Gt(e))}function sn(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=xe(t)?t:Mt(t)).length;a<u;a++)null!=(r=t[a])&&r>o&&(o=r);else e=Yt(e,n),Ge(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o}function an(t,e,n){var r,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=xe(t)?t:Mt(t)).length;a<u;a++)null!=(r=t[a])&&r<o&&(o=r);else e=Yt(e,n),Ge(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o}function un(t,e,n){if(null==e||n)return xe(t)||(t=Mt(t)),t[ne(t.length-1)];var r=xe(t)?Pt(t):Mt(t),i=ot(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=ne(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,e)}function ln(t){return un(t,1/0)}function cn(t,e,n){var r=0;return e=Yt(e,n),rn($e(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function hn(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=Yt(r,i),Ge(n,(function(e,i){var s=r(e,i,n);t(o,e,s)})),o}}const fn=hn((function(t,e,n){$(t,n)?t[n].push(e):t[n]=[e]})),dn=hn((function(t,e,n){t[n]=e})),gn=hn((function(t,e,n){$(t,n)?t[n]++:t[n]=1})),pn=hn((function(t,e,n){t[n?0:1].push(e)}),!0);var vn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function mn(t){return t?G(t)?c.call(t):T(t)?t.match(vn):xe(t)?$e(t,Vt):Mt(t):[]}function _n(t){return null==t?0:xe(t)?t.length:at(t).length}function yn(t,e,n){return e in n}const bn=z((function(t,e){var n={},r=e[0];if(null==t)return n;F(r)?(e.length>1&&(r=Xt(r,e[1])),e=vt(t)):(r=yn,e=Se(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),wn=z((function(t,e){var n,r=e[0];return F(r)?(r=Te(r),e.length>1&&(n=e[1])):(e=$e(Se(e,!1,!1),String),r=function(t,n){return!en(e,n)}),bn(t,r,n)}));function xn(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Sn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:xn(t,t.length-e)}function zn(t,e,n){return c.call(t,null==e||n?1:e)}function kn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:zn(t,Math.max(0,t.length-e))}function Cn(t){return Ye(t,Boolean)}function En(t,e){return Se(t,e,!1)}const Mn=z((function(t,e){return e=Se(e,!0,!0),Ye(t,(function(t){return!en(e,t)}))})),On=z((function(t,e){return Mn(t,e)}));function jn(t,e,n,r){M(e)||(r=n,n=e,e=!1),null!=n&&(n=Yt(n,r));for(var i=[],o=[],s=0,a=ot(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e&&!n?(s&&o===l||i.push(u),o=l):n?en(o,l)||(o.push(l),i.push(u)):en(i,u)||i.push(u)}return i}const Tn=z((function(t){return jn(Se(t,!0,!0))}));function An(t){for(var e=[],n=arguments.length,r=0,i=ot(t);r<i;r++){var o=t[r];if(!en(e,o)){var s;for(s=1;s<n&&en(arguments[s],o);s++);s===n&&e.push(o)}}return e}function qn(t){for(var e=t&&sn(t,ot).length||0,n=Array(e),r=0;r<e;r++)n[r]=rn(t,r);return n}const Ln=z(qn);function Rn(t,e){for(var n={},r=0,i=ot(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Nn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function In(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(c.call(t,r,r+=e));return n}function Pn(t,e){return t._chain?ct(e).chain():e}function Wn(t){return Ge(Tt(t),(function(e){var n=ct[e]=t[e];ct.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Pn(this,n.apply(ct,t))}})),ct}Ge(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=s[t];ct.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Pn(this,n)}})),Ge(["concat","join","slice"],(function(t){var e=s[t];ct.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Pn(this,t)}}));const Fn=ct;var Bn=Wn(r);Bn._=Bn;const Dn=Bn},6290:(t,e,n)=>{"use strict";var r=n(5048),i=n(9748),o=n(4655),s=n(1960);function a(t,e,n){var r=t;return i(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=s(e,{uri:t}),r.callback=n,r}function u(t,e,n){return l(e=a(t,e,n))}function l(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,i){e||(e=!0,t.callback(n,r,i))};function r(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c),m)try{t=JSON.parse(t)}catch(t){}return t}function i(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,_)}function s(){if(!l){var e;clearTimeout(h),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=_,s=null;return 0!==e?(i={body:r(),statusCode:e,method:d,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(i.headers=o(c.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),n(s,i,i.body)}}var a,l,c=t.xhr||null;c||(c=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,f=c.url=t.uri||t.url,d=c.method=t.method||"GET",g=t.body||t.data,p=c.headers=t.headers||{},v=!!t.sync,m=!1,_={body:void 0,headers:{},statusCode:0,method:d,url:f,rawRequest:c};if("json"in t&&!1!==t.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),g=JSON.stringify(!0===t.json?g:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(s,0)},c.onload=s,c.onerror=i,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=i,c.open(d,f,!v,t.username,t.password),v||(c.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(h=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}}),t.timeout)),c.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&c.setRequestHeader(a,p[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(g||null),c}t.exports=u,t.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,n,r){return(n=a(e,n,r)).method=t.toUpperCase(),l(n)}}))},1960:t=>{t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)e.call(r,i)&&(t[i]=r[i])}return t};var e=Object.prototype.hasOwnProperty}}]);